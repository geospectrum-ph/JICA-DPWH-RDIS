{"version":3,"file":"static/js/3669.46875ef4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/layers/VoxelLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import s from\"../../../core/Error.js\";import t from\"../../../core/Logger.js\";import{watch as i,initial as r}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{b as l,n,s as h}from\"../../../chunks/vec32.js\";import{create as c}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as d}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as u,expandWithVec3 as m}from\"../../../geometry/support/aaBoundingBox.js\";import{equals as p}from\"../../../geometry/support/spatialReferenceUtils.js\";import{LayerView3D as y}from\"./LayerView3D.js\";import{addLayerViewToWasm as b,removeLayerViewFromWasm as V,getVoxelWasm as _}from\"./VoxelWasm.js\";import{LayerViewPerformanceInfo as w}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as f}from\"./support/PopupSceneLayerView.js\";import S from\"../../layers/LayerView.js\";import{isInEffectiveScaleRange as g}from\"../../support/layerViewUtils.js\";import v from\"../../../geometry/SpatialReference.js\";var W;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(W||(W={}));const T=c(),L=c();let A=class extends(f(y(S))){constructor(){super(...arguments),this._suspendedHandle=null,this._usedMemory=0,this._futureMemory=0,this.type=\"voxel-3d\",this.slicePlaneEnabled=!1,this._wasmLayerId=-1,this.ignoresMemoryFactor=!0,this._dbgFlags=new Set}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get wasmLayerId(){return this._wasmLayerId}initialize(){if(this._dbgFlags.add(W.Error),\"local\"!==this.view.viewingMode)throw new s(\"voxel:unsupported-viewingMode\",\"Voxel layers support local viewingMode only.\",{});if(!!!this.view._stage.renderView.renderingContext.capabilities.colorBufferFloat?.textureFloat)throw new s(\"voxel:missing-color-buffer-float\",\"Voxel layers require the WebGL2 extension EXT_color_buffer_float\",{});const e=this.layer.spatialReference;if(!p(e,this.view.spatialReference))throw new s(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});const t=this.layer.currentVariableId,a=this.layer.getVolume(t),o=this.layer.getVariable(t);if(null!=a&&null!=o){const e=a.dimensions[0],s=a.dimensions[1],t=a.zDimension;if(t>1){const i=a.dimensions[t],r=e.size*s.size*i.size;let l=1;switch(o.renderingFormat.type){case\"Int16\":case\"UInt16\":l=2;break;case\"Int32\":case\"UInt32\":case\"Float32\":l=4}this._futureMemory=l*r}}const l=b(this).then((e=>{this._wasmLayerId=e,this._suspendedHandle=i((()=>this.suspended),(e=>{const s=_(this.view);s&&s.setEnabled(this,!e)}),r),this.addHandles([i((()=>this.layer.renderMode),(e=>this._pushRenderModeToWasm(e))),i((()=>this.layer.currentVariableId),(e=>this._pushCurrentVariableIdToWasm(e))),i((()=>this.layer.getSections()),(e=>this._pushSectionsToWasm(e))),i((()=>this.layer.getVariableStyles()),(e=>this._pushVariableStylesToWasm(e))),i((()=>this.layer.getVolumeStyles()),(e=>this._pushVolumeStylesToWasm(e))),i((()=>this.layer.enableDynamicSections),(e=>this._pushEnableDynamicSectionsToWasm(e))),i((()=>this.layer.enableIsosurfaces),(e=>this._pushEnableIsosurfacesToWasm(e))),i((()=>this.layer.enableSections),(e=>this._pushEnableSectionsToWasm(e))),i((()=>this.layer.enableSlices),(e=>this._pushEnableSlicesToWasm(e))),i((()=>[this.layer.timeOffset,this.layer.timeExtent,this.layer.useViewTime]),(()=>this._updateLayerTimeProperties())),i((()=>this.slicePlaneEnabled),(e=>this._pushAnalysisSliceToWasm(e,this.view.slicePlane))),i((()=>this.view.slicePlane),(e=>this._pushAnalysisSliceToWasm(this.slicePlaneEnabled,e)))])})).catch((e=>{if(V(this),this._wasmLayerId=-1,-1===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer description was invalid.\",{});if(-2===e)throw new s(\"voxel:addLayer-failure\",\"The voxel layer web assembly module failed to download.\",{})}));this.addResolvingPromise(l)}destroy(){V(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null)}isUpdating(){const e=_(this.view);return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange(\"updating\")}get usedMemory(){return this._usedMemory}get unloadedMemory(){return this._futureMemory}get performanceInfo(){return new w(this.usedMemory)}get visibleAtCurrentScale(){return g(this.layer.effectiveScaleRange,this.view.terrainScale)}whenGraphicBounds(e,s){const t=e.attributes[\"Voxel.WorldPosition\"];if(t){const e=u(),s=JSON.parse(t);if(d(s,this.view.renderSpatialReference,L,this.view.spatialReference||v.WGS84))return m(e,L),Promise.resolve({boundingBox:e,screenSpaceObjects:[]})}return Promise.reject()}setUsedMemory(e){this._usedMemory=e,this._futureMemory=0}captureFrustum(){const e=_(this.view);e?.captureFrustum()}toggleFullVolumeExtentDraw(){const e=_(this.view);e?.toggleFullVolumeExtentDraw(this)}getLayerTimes(){const e=_(this.view);return e?.getLayerTimes(this)??[]}getCurrentLayerTimeIndex(){const e=_(this.view);return e?.getCurrentLayerTimeIndex(this)??0}_pushRenderModeToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushRenderModeToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setRenderMode(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushRenderModeToWasm() failed!\")}_pushSectionsToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setStaticSections(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushSectionsToWasm() failed!\")}_pushCurrentVariableIdToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() called!, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setCurrentVariable(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushCurrentVariableIdToWasm() failed!\")}_pushVariableStylesToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushVariableStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setVariableStyles(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushVariableStylesToWasm() failed!\")}_accountForEnableSlices(e,s){const t=null!=s?s:this.layer.enableSlices;for(let i=0;i<e.length;++i){const s=e[i];for(const e of s.slices)e.enabled=e.enabled&&t}}_pushVolumeStylesToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushVolumeStylesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s&&(this._accountForEnableSlices(e,null),s.setVolumeStyles(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushVolumeStylesToWasm() failed!\"))}_pushAnalysisSliceToWasm(e,s){const t=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushAnalysisSliceToWasm() called, \"+(t?\"have WASM\":\"don't have WASM!!!\"));let i=!1;if(t){if(s){const r=s.origin;l(T,s.basis1,s.basis2),n(T,T),i=t.setAnalysisSlice(this,e,r,T)}else h(T,0,0,1),i=t.setAnalysisSlice(this,!1,T,T);i||this._dbg(W.Error,\"VoxelLayerView3D._pushAnalysisSliceToWasm() failed!\")}}_updateLayerTimeProperties(){const e=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._updateLayerTimeProperties() called, \"+(e?\"have WASM\":\"don't have WASM!!!\")),e&&e.updateLayerTimeProperties(this)}_pushEnableDynamicSectionsToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableDynamicSections(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushEnableDynamicSectionsToWasm() failed!\")}_pushEnableSlicesToWasm(e){const s=_(this.view);if(this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushEnableSlicesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s){const t=this.layer.getVolumeStyles();this._accountForEnableSlices(t,e),s.setVolumeStyles(this,t)||this._dbg(W.Error,\"VoxelLayerView3D._pushEnableSlicesToWasm() failed!\")}}_pushEnableIsosurfacesToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableIsosurfaces(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushEnableIsosurfacesToWasm() failed!\")}_pushEnableSectionsToWasm(e){const s=_(this.view);this._dbg(W.VerboseAPI,\"VoxelLayerView3D._pushEnableSectionsToWasm() called, \"+(s?\"have WASM\":\"don't have WASM!!!\")),s?.setEnableSections(this,e)||this._dbg(W.Error,\"VoxelLayerView3D._pushEnableSectionsToWasm() failed!\")}async whenGraphicAttributes(e,s){return e}_dbg(e,s){this._dbgFlags.has(e)&&(e===W.Error?t.getLogger(this).error(s):t.getLogger(this).warn(s))}};e([a()],A.prototype,\"layer\",void 0),e([a()],A.prototype,\"baseUrl\",null),e([a({type:Boolean})],A.prototype,\"slicePlaneEnabled\",void 0),e([a({readOnly:!0})],A.prototype,\"visibleAtCurrentScale\",null),A=e([o(\"esri.views.3d.layers.VoxelLayerView3D\")],A);const x=A;export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["async","n","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","W","API","VerboseAPI","Error","T","c","L","A","y","S","constructor","super","this","_suspendedHandle","_usedMemory","_futureMemory","type","slicePlaneEnabled","_wasmLayerId","ignoresMemoryFactor","_dbgFlags","Set","baseUrl","layer","parsedUrl","path","wasmLayerId","initialize","add","view","viewingMode","_stage","renderView","renderingContext","capabilities","colorBufferFloat","textureFloat","spatialReference","currentVariableId","getVolume","getVariable","dimensions","zDimension","r","size","renderingFormat","b","then","suspended","_","setEnabled","addHandles","renderMode","_pushRenderModeToWasm","_pushCurrentVariableIdToWasm","getSections","_pushSectionsToWasm","getVariableStyles","_pushVariableStylesToWasm","getVolumeStyles","_pushVolumeStylesToWasm","enableDynamicSections","_pushEnableDynamicSectionsToWasm","enableIsosurfaces","_pushEnableIsosurfacesToWasm","enableSections","_pushEnableSectionsToWasm","enableSlices","_pushEnableSlicesToWasm","timeOffset","timeExtent","useViewTime","_updateLayerTimeProperties","_pushAnalysisSliceToWasm","slicePlane","catch","V","addResolvingPromise","destroy","remove","isUpdating","updatingFlagChanged","notifyChange","usedMemory","unloadedMemory","performanceInfo","w","visibleAtCurrentScale","g","effectiveScaleRange","terrainScale","whenGraphicBounds","attributes","JSON","parse","renderSpatialReference","v","WGS84","m","Promise","resolve","boundingBox","screenSpaceObjects","reject","setUsedMemory","captureFrustum","toggleFullVolumeExtentDraw","getLayerTimes","getCurrentLayerTimeIndex","_dbg","setRenderMode","setStaticSections","setCurrentVariable","setVariableStyles","_accountForEnableSlices","slices","enabled","setVolumeStyles","origin","basis1","basis2","setAnalysisSlice","h","updateLayerTimeProperties","setEnableDynamicSections","setEnableIsosurfaces","setEnableSections","whenGraphicAttributes","getLogger","error","warn","prototype","Boolean","readOnly","x","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","associatedLayer","Map","set","getObjectId","concat","sort","get","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","signal","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","EventedMixin","_updatingHandles","parent","when","name","id","title","fullOpacity","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}