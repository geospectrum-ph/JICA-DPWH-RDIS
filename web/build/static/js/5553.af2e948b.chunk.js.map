{"version":3,"file":"static/js/5553.af2e948b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightManipulators.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{EsriPromiseMixin as r}from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=s([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{tryProjectWithZConversion as o}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as e}from\"../../support/ElevationProvider.js\";function r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{r as applyProjectionAndElevationAlignment,t as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../Error.js\";import{createMD5Hash as r}from\"../../MD5.js\";import{isMultiOriginJSONMixin as e}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as o,isBlobProtocol as s,join as n,blobUrlToBlob as i,getPathExtension as p}from\"../../urlUtils.js\";import{generateUUID as c}from\"../../uuid.js\";import{getPropertyMetadata as u}from\"../metadata.js\";import{nameToId as a}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as m}from\"../../../portal/support/resourceExtension.js\";import{r as d,t as f,M as y,i as g,p as h,b as v}from\"../../../chunks/persistableUrlUtils.js\";function j(t){const r=t?.origins??[void 0];return(e,o)=>{const s=U(t,e,o);for(const t of r){const r=l(e,t,o);for(const t in s)r[t]=s[t]}}}function U(t,r,e){if(\"resource\"===t?.type)return w(t,r,e);switch(t?.type??\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=v;return{read:t,write:r}}}}function w(t,r,n){const i=u(r,n);return{type:String,read:(t,r,e)=>{const o=d(t,r,e);return i.type===String?o:\"function\"==typeof i.type?new i.type({url:o}):void 0},write:{writer(r,p,c,u){if(!u?.resources)return\"string\"==typeof r?void(p[c]=f(r,u)):void(p[c]=r.write({},u));const l=x(r),m=f(l,{...u,verifyItemRelativeUrls:u?.verifyItemRelativeUrls?{writtenUrls:u.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},y.NO),d=i.type!==String&&(!e(this)||u?.origin&&this.originIdOf(n)>a(u.origin)),h={object:this,propertyName:n,value:r,targetUrl:m,dest:p,targetPropertyName:c,context:u,params:t};u?.portalItem&&m&&!o(m)?d&&t?.contentAddressed?I(h):d?N(h):P(h):u?.portalItem&&(null==m||null!=g(m)||s(m)||d)?I(h):p[c]=m}}}}function I(e){const{targetUrl:o,params:p,value:u,context:a,dest:l,targetPropertyName:d}=e;if(!a.portalItem)return;const f=h(o),y=S(u,o,a);if(p?.contentAddressed&&\"json\"!==y.type)return void a.messages?.push(new t(\"persistable:contentAddressingUnsupported\",`Property \"${d}\" is trying to serializing a resource with content of type ${y.type} with content addressing. Content addressing is only supported for json resources.`,{content:y}));const g=p?.contentAddressed&&\"json\"===y.type?r(y.jsonString):f?.filename??c(),v=n(p?.prefix??f?.prefix,g),j=`${v}.${m(y)}`;if(p?.contentAddressed&&a.resources&&\"json\"===y.type){const t=a.resources.toKeep.find((({resource:t})=>t.path===j))??a.resources.toAdd.find((({resource:t})=>t.path===j));if(t)return void(l[d]=t.resource.itemRelativeUrl)}const U=a.portalItem.resourceFromPath(j);s(o)&&a.resources&&a.resources.pendingOperations.push(i(o).then((t=>{U.path=`${v}.${m({type:\"blob\",blob:t})}`,l[d]=U.itemRelativeUrl})).catch((()=>{})));const w=p?.compress??!1;a.resources&&b({...e,resource:U,content:y,compress:w,updates:a.resources.toAdd}),l[d]=U.itemRelativeUrl}function N(t){const{context:r,targetUrl:e,params:o,value:s,dest:n,targetPropertyName:i}=t;if(!r.portalItem)return;const c=r.portalItem.resourceFromPath(e),u=S(s,e,r),a=m(u),l=p(c.path),d=o?.compress??!1;a===l?(r.resources&&b({...t,resource:c,content:u,compress:d,updates:r.resources.toUpdate}),n[i]=e):I(t)}function P({context:t,targetUrl:r,dest:e,targetPropertyName:o}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),e[o]=r)}function b({object:t,propertyName:r,updates:e,resource:o,content:s,compress:n}){const i=e=>{O(t,r,e)};e.push({resource:o,content:s,compress:n,finish:i})}function S(t,r,e){return\"string\"==typeof t?{type:\"url\",url:r}:{type:\"json\",jsonString:JSON.stringify(t.toJSON(e))}}function x(t){return null==t?null:\"string\"==typeof t?t:t.url}function O(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{j as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e,l){return t(e)===t(l)}function t(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let l=null;return l=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==l?null:`o-${t}-${l}`}const l={json:{write:{writer:r,target:{\"feature.layerId\":{type:[Number,String]},\"feature.objectId\":{type:[Number,String]}}},origins:{\"web-scene\":{read:n}}}};function r(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function n(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}export{e as featureReferenceEquals,l as featureReferenceProperty,t as getFeatureId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as t}from\"./featureReferenceUtils.js\";import{Clonable as e}from\"../core/Clonable.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import c from\"../symbols/support/ElevationInfo.js\";let l=class extends(s(e)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:m}),n()],l.prototype,\"position\",void 0),o([p({type:c}),n()],l.prototype,\"elevationInfo\",void 0),o([p(t)],l.prototype,\"feature\",void 0),l=o([a(\"esri.analysis.LineOfSightAnalysisTarget\")],l);const f=l;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};o([e()],s.prototype,\"target\",void 0),o([e()],s.prototype,\"intersectedGraphic\",void 0),o([e()],s.prototype,\"intersectedLocation\",void 0),o([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),o([e({type:Boolean})],s.prototype,\"visible\",void 0),s=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],s);export{s as LineOfSightAnalysisResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";let i=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:s(),observerSurfaceNormal:null,observerFeatureId:null,target:s(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:s(),targetAdjusted:s()},this.computationResult={start:s(),end:s(),intersection:s(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],i.prototype,\"target\",void 0),t([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],i.prototype,\"inputPoints\",void 0),t([e()],i.prototype,\"computationResult\",void 0),t([e()],i.prototype,\"result\",void 0),i=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],i);export{i as LineOfSightComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{equals as t}from\"../../../../core/arrayUtils.js\";import{clone as s}from\"../../../../core/lang.js\";import{equalsMaybe as i}from\"../../../../core/maybe.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{G as n}from\"../../../../chunks/vec32.js\";import{clone as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{equals as a}from\"../../../../geometry/support/ray.js\";var m;let y=m=class extends o{constructor(r){super(r)}clone(){return new m({type:this.type,id:s(this.id),mapPoint:s(this.mapPoint),renderPoint:c(this.renderPoint),normal:s(this.normal),ray:s(this.ray),graphic:this.graphic})}equals(r){return this.type===r.type&&this.id===r.id&&i(this.mapPoint,r.mapPoint)&&n(this.renderPoint,r.renderPoint)&&t(this.normal,r.normal)&&a(this.ray,r.ray)&&this.graphic===r.graphic}};r([e()],y.prototype,\"type\",void 0),r([e({constructOnly:!0})],y.prototype,\"id\",void 0),r([e({constructOnly:!0})],y.prototype,\"mapPoint\",void 0),r([e({constructOnly:!0})],y.prototype,\"renderPoint\",void 0),r([e({constructOnly:!0})],y.prototype,\"normal\",void 0),r([e({constructOnly:!0})],y.prototype,\"graphic\",void 0),r([e({constructOnly:!0})],y.prototype,\"ray\",void 0),y=m=r([p(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],y);export{y as LineOfSightIntersectionResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import r from\"../../../../core/Accessor.js\";import{screenPointObjectToArray as t}from\"../../../../core/screenUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as s,c as n,n as a,j as c,g as l}from\"../../../../chunks/vec32.js\";import{clone as p,create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as u,copy as d,fromPoints as g}from\"../../../../geometry/support/ray.js\";import{sv2d as f}from\"../../../../geometry/support/vectorStacks.js\";import{getObjectId as y}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{LineOfSightIntersectionResult as h}from\"./LineOfSightIntersectionResult.js\";import{isI3sIntersectorResult as j,isTiles3DIntersectorResult as I}from\"../../layers/i3s/Intersector.js\";import{fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as v}from\"../../terrain/Intersector.js\";import{newIntersector as b}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as P,IntersectorType as R}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as x}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import U from\"../../../../geometry/Point.js\";let C=class extends r{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set([\"terrain\"])}initialize(){this.intersector=b(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=P.MIN}getScreenPointIntersection(e){const r=t(e,f.get()),i=w(this.view.state.camera,r,T);return this._getRayIntersection(i)}_getRayIntersection(e,r){if(null==e||null==this.view.sceneIntersectionHelper)return null;const{intersector:t}=this;t.options.store=P.MIN,this.view.sceneIntersectionHelper.intersectToolIntersectorRay(e,t,r);const i=t.results.min,o=m();if(!i.getIntersectionPoint(o))return null;if(null!=r?.maxDistance&&s(o,e.origin)>r.maxDistance**2)return null;const n=this.view.renderCoordsHelper.fromRenderCoords(o,new U({spatialReference:this.view.spatialReference})),a=p(i.normal);if(j(i))return new h({type:R.OBJECT,id:`${i.target.layerUid}/${i.target.nodeIndex}/${i.target.componentIndex}`,mapPoint:n,renderPoint:o,normal:a,ray:d(e),graphic:null});if(I(i))return new h({type:R.OBJECT,id:`${i.target.layerUid}/${i.target.graphicUid}`,mapPoint:n,renderPoint:o,normal:a,ray:d(e),graphic:null});if(v(i))return new h({type:R.TERRAIN,id:i.target.lij.slice(),mapPoint:n,renderPoint:o,normal:a,ray:d(e),graphic:null});const c=x(i,this.view);if(null!=c){const r=c.layer,t=c.sourceLayer;let i;if(t)if(\"scene\"===t.type)i=y(c,t.objectIdField);else i=c.uid;else i=c.uid;return new h({type:R.OBJECT,id:`${r?.uid}/${i}`,mapPoint:n,renderPoint:o,normal:a,ray:d(e),graphic:c})}return null}updateFromGroundIntersection(e,r,t){const i=L,o=O,s=S,m=$;n(o,e),this.view.renderCoordsHelper.worldUpAtPosition(o,s),a(s,s);const u=this.view.basemapTerrain.visibleElevationBounds,d=(r>=0?1:-1)*((u?Math.abs(u.max-u.min):100)+Math.abs(r));c(m,s,d),l(i,o,m),g(i,o,T);const f=this._getRayIntersection(T,{include:this._terrainIntersectionOptionsLayerUids,maxDistance:d});if(null!=f){const e=$;return c(e,s,r),l(t,f.renderPoint,e),p(f.normal)}return n(t,e),null}};e([i()],C.prototype,\"view\",void 0),e([i()],C.prototype,\"intersector\",void 0),C=e([o(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],C);const L=m(),O=m(),S=m(),$=m(),T=u();export{C as LineOfSightRayIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{getFeatureId as t}from\"../../../../analysis/featureReferenceUtils.js\";import n from\"../../../../core/Accessor.js\";import{createTask as o}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as s,makeHandle as a}from\"../../../../core/handleUtils.js\";import l from\"../../../../core/Logger.js\";import{abortMaybe as u}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as c}from\"../../../../core/promiseUtils.js\";import{initial as d}from\"../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as g}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as h,p as m,f as v,n as f,j as _,g as b,F as y,z as C}from\"../../../../chunks/vec32.js\";import{create as I}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as T}from\"../../../../core/support/UpdatingHandles.js\";import{projectOrLoad as P}from\"../../../../geometry/projection.js\";import{projectBoundingRect as O}from\"../../../../geometry/projection/projectBoundingRect.js\";import{empty as j,containsPointObject as S,intersectsSegment as R}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as w,create as A}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as H}from\"../../../../support/elevationInfoUtils.js\";import{LineOfSightAnalysisResult as F}from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as E}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as L}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as V}from\"../support/projectionUtils.js\";import{StoreResults as x}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as N,hasLod as D,getIntersectedFeatureBSRadius as G}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as z,TaskPriority as k}from\"../../../support/Scheduler.js\";import M from\"../../../../geometry/Point.js\";let U=class extends(i.EventedMixin(n)){constructor(e){super(e),this.updateOnCameraChange=!0,this._observerGroundOffsetRenderSpace=0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new T,this._frameTask=z,this._computationHandles=new r,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(k.LINE_OF_SIGHT_TOOL):z,this._intersector=new L({view:this.view}),this.addHandles([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}_computeResult(e){const t=e.computation,{inputPoints:n,computationResult:o}=t,{observerAdjusted:i,targetAdjusted:r}=n,{start:s,end:a}=o;h(s,i),h(a,r);this._canCompute(t)?this._computeIntersection(e):q(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_updateAdjustedPointsFromFeatures(e){const n=this.view,{sceneIntersectionHelper:o}=n,{inputPoints:i}=e,{observerAdjusted:r,observerFeatureId:s,targetFeatureId:a,targetAdjusted:l}=i;if(null==s&&null==a)return;const u=m(r,l),c=this._intersector.intersector,d=w(i.observer,i.target,Q);c.options.store=x.ALL,o.intersectToolIntersectorRay(d,c);let p=null,g=null,h=null,v=null;for(const m of c.results.all){const e=N(m,this.view);if(null==e||null==m.distanceInRenderSpace)continue;const o=t(e);null!=o&&(null!=s&&o===s&&(null==p&&(p=Z(m,n,u)),m.distanceInRenderSpace<p&&(h=m)),null!=a&&o===a&&(null==g&&(g=Z(m,n,u)),null==v&&m.distanceInRenderSpace<u&&u-m.distanceInRenderSpace<g&&(v=m)))}null!=h&&h.getIntersectionPoint(r)&&(i.observerSurfaceNormal=h.getTransformedNormal(I())),null!=v&&v.getIntersectionPoint(l)&&(i.targetSurfaceNormal=v.getTransformedNormal(I()))}_adjustStartEndPositions(e){const t=this._screenPixelSize,n=this.view,{inputPoints:o}=e,{observer:i,observerSurfaceNormal:r,target:s,targetSurfaceNormal:a,observerAdjusted:l,targetAdjusted:u}=o,c=K;h(l,i),h(u,s),this._updateAdjustedPointsFromFeatures(e),null!=r?h(c,r):v(c,u,l);const d=t;f(c,c),_(c,c,Math.min(d,1)),b(l,l,c),null!=a?h(c,a):v(c,l,u);const p=n.state.camera.computeScreenPixelSizeAt(u);f(c,c),_(c,c,Math.min(p,1)),b(u,u,c)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:n}=this,{sceneIntersectionHelper:o,renderCoordsHelper:i}=n;if(null==o)return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:l,target:u}=a,{start:c,end:d}=s,p=w(c,d,Q);r.options.store=x.MIN,o.intersectToolIntersectorRay(p,r);const g=r.results.min,m=s.intersection,v=K;let f=!0;if(null!=g&&g.getIntersectionPoint(m)){h(t.originalIntersection,m),h(t.originalObserver,c),h(t.originalTarget,d),i.fromRenderCoords(m,v,n.spatialReference);const e=1-y(d,u)/y(c,u);f=y(l,m)>=e*y(l,u)}const _=new M(v,n.spatialReference);{const{result:t,target:o}=e;null!=t?(t.target=o,t.intersectedGraphic=f?null:N(g,n),t.intersectedLocation=f?null:_,t.visible=f):e.result=new F({target:o,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:f?null:N(g,n),intersectedLocation:f?null:_,visible:f})}s.isValid=a.isValid=!0,s.isTargetVisible=f}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,n=this.view.frustum;if(null==t||null==e.elevationAlignedTargetLocation||null==n)return!1;const{observerAdjusted:o,targetAdjusted:i}=e.inputPoints,r=n.intersectsPoint(o),s=n.intersectsPoint(i);return r&&s}_onObserverPositionChange(e,n,o,i,r){if(this._externalObserverUpdate=r,null==e)return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(null==n)return V(this.analysis,e.spatialReference,l.getLogger(this)),void(this.analysisViewData.elevationAlignedObserver=null);const s=B(n,o),{absoluteZ:a,elevation:u}=H(n.x,n.y,n.z,this.view.spatialReference,this.view,s),c=n.clone();c.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=c;const d=I();this.view.renderCoordsHelper.toRenderCoords(c,d),this._elevationAlignedObserverPositionRenderSpace=d,this._observerGroundOffsetRenderSpace=a-u,this._observerFeatureId=t(i),this.priority=k.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,n,o,i){const{inputPoints:r}=e;switch(h(r.observer,t),r.observerFeatureId=i,r.observerSurfaceNormal=null,o){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,n,r.observer);null==r.observerFeatureId&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=k.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,n,o,i,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),null==o)return null!=n&&V(this.analysis,n.spatialReference,l.getLogger(this)),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const u=B(o,i),{absoluteZ:c,elevation:d}=H(o.x,o.y,o.z,this.view.spatialReference,this.view,u),p=o.clone();switch(p.z=c,e.elevationAlignedTargetLocation=p,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=t(r),a.targetSurfaceNormal=null,u.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,c-d,a.target);null==a.targetFeatureId&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=k.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return s([this._updatingHandles.add((()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:P(e.target.position,this.view.spatialReference)})),(({computation:e,targetPosition:t,targetElevationInfo:n,targetFeatureInfo:o,projectedTargetPosition:i})=>{null==i.pending?this._onTargetPositionChange(e,t,i.geometry,n,o):this._updatingHandles.addPromise(i.pending)}),d)])}_connectComputationToObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())}),d)}_connectComputationToRenderSpaceObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId})),(({computation:e,observer:t,observerGroundOffset:n,observerElevationMode:o,observerFeatureId:i})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,n,o,i)}),d)}_connectComputationToCamera(e){return this._updatingHandles.add((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()}))}_connectComputationToSlicePlane(e){return this._updatingHandles.add((()=>this.view.slicePlane),(()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()}))}_connectComputationToElevation(e){const t=(n,o)=>{const i=this.analysis.observer,r=e.target;let s=null,a=null,l=null,u=null,c=null,d=null;if(null!=i?.position){const e=P(i.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(n,o)));s=e.geometry,a=i.elevationInfo,l=i.feature}if(null!=r.position){const e=P(r.position,this.view.spatialReference);if(null!=e.pending)return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(n,o)));u=e.geometry,c=r.elevationInfo,d=r.feature}null==s&&null==u||(O(n,o,W,this.view.spatialReference),null!=s&&S(W,s)&&this._onObserverPositionChange(null!=i?i.position:null,s,a,l,!1),null!=u&&S(W,u)&&this._onTargetPositionChange(e,r.position,u,c,d,!1),null!=s&&null!=u&&R(W,s,u)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",(({extent:e,spatialReference:n})=>t(e,n)))}_connectComputationToTask(e){let t=null;const n={computation:e,interpolationInfo:{originalIntersection:I(),originalObserver:I(),originalTarget:I()}};return s([this._updatingHandles.add((()=>e.inputPoints),(()=>{t=u(t),t=o((async e=>{await c(this._frameTask.schedule((()=>this._computeResult(n)),e))}))}),{initial:!0,equals:()=>!1}),a((()=>t=u(t)))])}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const n of t)this._disconnectComputation(n);for(const n of e)this._connectComputation(n)}_onTargetCollectionChange({added:e,removed:t}){for(const n of t)this._removeTarget(n);for(const n of e)this._addTarget(n)}_onCursorTargetChange(e,t){null!=t&&this._removeTarget(t),null!=e&&this._addTarget(e)}_addTarget(e){this._computations.some((t=>t.target===e))||this._computations.add(new E({target:e}))}_removeTarget(e){const t=this._computations.findIndex((t=>t.target===e));this._computations.removeAt(t)}_connectObserver(){return s([this._updatingHandles.add((()=>({observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,projectedObserverPosition:P(null!=this.analysis.observer?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:null!=this.analysis.observer?this.analysis.observer.elevationInfo:null,observerFeatureInfo:null!=this.analysis.observer?this.analysis.observer.feature:null})),(({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:n,observerFeatureInfo:o})=>{null==t.pending?this._onObserverPositionChange(e,t.geometry,n,o,!0):this._updatingHandles.addPromise(t.pending)}),d)])}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this._computations),(e=>this._onComputationCollectionChange(e)),{initial:!0,final:!0})}_connectTargets(){return s([this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(e=>this._onTargetCollectionChange(e)),{initial:!0,final:!0}),this._updatingHandles.add((()=>this.analysisViewData.cursorTarget),((e,t)=>{this._onCursorTargetChange(e,t)}))])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:n}=t;if(null==e||null==n)return!1;const o=K;n.toRenderCoords(e,o);const i=t.state.camera.computeScreenPixelSizeAt(o);return Math.abs((i-this._screenPixelSize)/this._screenPixelSize)>J}};function Z(e,t,n){if(D(e)){const o=G(e,t);if(null!=o)return Math.min(o*X,n)}return 1e-5*n}function B(e,t){return e.hasZ?t??{mode:\"absolute-height\",offset:0}:{mode:\"on-the-ground\",offset:0}}function q({computation:e,interpolationInfo:t}){const{computationResult:n,inputPoints:o}=e,{start:i,end:r,intersection:s}=n,{originalIntersection:a,originalObserver:l,originalTarget:u}=t;if(h(s,a),o.isValid){const e=K,t=y(l,a)/y(l,u);C(e,i,l),_(e,e,1-t),b(s,s,e),C(e,r,u),_(e,e,t),b(s,s,e),n.isValid=!0}else e.result=null,n.isValid=!1,n.isTargetVisible=!1}e([p({constructOnly:!0})],U.prototype,\"analysis\",void 0),e([p({constructOnly:!0})],U.prototype,\"analysisViewData\",void 0),e([p({constructOnly:!0})],U.prototype,\"view\",void 0),e([p()],U.prototype,\"updating\",null),e([p()],U.prototype,\"priority\",null),e([p()],U.prototype,\"updateOnCameraChange\",void 0),e([p()],U.prototype,\"_computations\",null),e([p()],U.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([p()],U.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([p()],U.prototype,\"_effectiveObserverElevationMode\",void 0),e([p()],U.prototype,\"_observerFeatureId\",void 0),e([p()],U.prototype,\"_screenPixelSize\",null),e([p({readOnly:!0})],U.prototype,\"_updatingHandles\",void 0),e([p()],U.prototype,\"_frameTask\",void 0),e([p()],U.prototype,\"_isCameraDirty\",null),U=e([g(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")],U);const J=.1,K=I(),Q=A(),W=j(),X=.05;export{U as LineOfSightController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{getContrast as n,multiplyOpacityToUnitRGBA as t}from\"../../../../core/colorUtils.js\";class e{constructor(){this.glowWidth=8,this.innerWidth=.75}}const r=new e;function s(o){const t=o.accentColor;return{glowColor:t,innerColor:n(t),globalAlpha:.75*t.a}}class i{constructor(){this.size=.5}}const c=new i;function l(o){return t(o.accentColor,.75)}class h{constructor(){this.size=.5,this.visibleColor=new o([3,252,111,.75]),this.occludedColor=new o([252,3,69,.75]),this.undefinedColor=new o([127,127,127,.75])}}const u=new h;class d{constructor(){this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new o([3,252,111,1]),this.visibleOuterColor=new o([3,252,111,.15]),this.occludedInnerColor=new o([252,3,69,1]),this.occludedOuterColor=new o([252,3,69,.1]),this.undefinedInnerColor=new o([255,255,255,1]),this.undefinedOuterColor=new o([127,127,127,.2])}}const w=new d;export{s as getLaserLineColors,l as getObserverRGBA,r as laserLineConfiguration,w as lineOfSightConfiguration,c as observerConfiguration,u as targetConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{watch as t}from\"../../../../core/reactiveUtils.js\";import{getObserverRGBA as o,observerConfiguration as r,targetConfiguration as i}from\"./LineOfSightConfiguration.js\";import{Manipulator3D as s}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as n}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as m}from\"../../interactive/RenderObject.js\";import{disableDisplayOnGrab as a}from\"../../interactive/editingTools/manipulatorUtils.js\";import{createSphereGeometry as c}from\"../../webgl-engine/lib/GeometryUtil.js\";import{ManipulatorStateCustomFlags as l}from\"../../../interactive/interfaces.js\";class f extends s{constructor(e,i){const s=n(o(e.effectiveTheme)),l=c(s,r.size,32,32),f=new m(l);super({view:e,renderObjects:[f],metadata:i,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this),this.themeHandle=t((()=>({color:o(e.effectiveTheme)})),(e=>{s.setParameters(e)}))}destroy(){this.themeHandle.remove(),super.destroy()}}class d extends s{constructor(e,t){const{size:o,visibleColor:r,occludedColor:s,undefinedColor:n}=i;super({view:e,renderObjects:[u(o,r,l.Custom1),u(o,s,l.Custom2),u(o,n,l.Custom3)],metadata:t,elevationInfo:{mode:\"absolute-height\",offset:0}}),a(this)}}function u(t,o,r){return new m(c(n(e.toUnitRGBA(o)),t,32,32),r)}export{f as LineOfSightObserverManipulator,d as LineOfSightTargetManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import i from\"../../../../analysis/LineOfSightAnalysisObserver.js\";import a from\"../../../../analysis/LineOfSightAnalysisTarget.js\";import n from\"../../../../core/Handles.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{watch as o,syncAndInitial as l,initial as u}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../../../core/support/UpdatingHandles.js\";import{create as d,fromPoints as g}from\"../../../../geometry/support/lineSegment.js\";import{getGraphicEffectiveElevationInfo as m,getConvertedElevation as _}from\"../../../../support/elevationInfoUtils.js\";import v from\"../../../../symbols/support/ElevationInfo.js\";import{getLaserLineColors as b,laserLineConfiguration as y}from\"./LineOfSightConfiguration.js\";import{LineOfSightTargetManipulator as f,LineOfSightObserverManipulator as T}from\"./LineOfSightManipulators.js\";import{LineOfSightRayIntersector as L}from\"./LineOfSightRayIntersector.js\";import{LaserlineVisualElement as w}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{IntersectorType as C}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import\"../../../input/ViewEvents.js\";import{AnalysisToolBase as k}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as M}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as H}from\"../../../interactive/interfaces.js\";import{createScreenPointFromEvent as V}from\"../../../support/screenUtils.js\";import{MouseButton as P}from\"../../../input/IViewEvents.js\";var I;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(I||(I={}));let O=class extends k{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.analysisViewData=null,this._latestPointerMovePointerType=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new n,this._updatingHandles=new p,this._manipulatorHandles=new n,this._targetTrackerManipulator=null}initialize(){this._intersector=new L({view:this.view}),this.addHandles(o((()=>this.state),(e=>{e===I.Created&&this.finishToolCreation()}),l)),this._observerManipulator=this._createObserverManipulator(),this._createLaserLine(),this.addHandles([this._updatingHandles.add((()=>this.analysisViewData?.elevationAlignedObserver),(e=>this._onObserverLocationChange(e)),u),this._updatingHandles.add((()=>b(this.view.effectiveTheme)),(({glowColor:e,innerColor:t,globalAlpha:i})=>this._updateLaserLineStyle(e,t,i)),u),this._updatingHandles.add((()=>this._laserLineRendererDependencies()),(e=>this._updateLaserLineRenderer(e))),this._connectComputations(),this._updatingHandles.addWhen((()=>!this._shouldRenderTracker),(()=>this._clearCursorTracker()),u)])}destroy(){this._updatingHandles=s(this._updatingHandles),this._manipulatorHandles=s(this._manipulatorHandles),this._analysisHandles=s(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeLaserLine(),this._intersector=null,this._set(\"analysis\",null)}get state(){return this.active?this.hasGrabbedManipulators?I.Created:I.Creating:null!=this.analysis.observer?.position?I.Created:I.Ready}get cursor(){return this.active&&this._showTracker?\"crosshair\":null}get updating(){return null!=this.analysisViewData&&this.analysisViewData.updating||this._updatingHandles.updating}get _showTracker(){return this.active&&\"mouse\"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&null!=this.analysis.observer?.position&&!this.hasGrabbedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"key-down\":this._keyDownHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickHandler(e)}onShow(){}onHide(){}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(e=>this._onComputationsCollectionChange(e)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);null==this._targetTrackerManipulator&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([this._updatingHandles.add((()=>j(e)),(()=>D(i,e)),u),this._updatingHandles.add((()=>e.elevationAlignedTargetLocation),(e=>this._onTargetLocationChange(e,i)),u)],e)}_disconnectComputation(e){if(this.destroyed)return void r.getLogger(this).warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);null!=t&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),null!=this._targetTrackerManipulator&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=s(this.analysisViewData.cursorTarget)}_createTargetManipulator(e){const t={target:e,type:\"target\"},i=new f(this.view,t);return this._manipulatorHandles.add([this._createTargetManipulatorDragPipeline(i),i.events.on(\"grab-changed\",(e=>this._manipulatorGrabChanged(i,e))),i.events.on(\"immediate-click\",(e=>this._manipulatorClick(i,e)))],i),this.manipulators.add(i),null!=e.position?i.elevationAlignedLocation=e.position:i.available=!1,i}_getTargetManipulator(e){let t=null;return this.manipulators.forEach((i=>{const a=i.manipulator;null==t&&\"target\"===a.metadata.type&&a.metadata.target===e&&(t=a)})),t}_createObserverManipulator(){const e=new T(this.view,{type:\"observer\",intersection:null});return this._manipulatorHandles.add([this._createObserverManipulatorDragPipeline(e),e.events.on(\"grab-changed\",(t=>this._manipulatorGrabChanged(e,t))),e.events.on(\"immediate-click\",(t=>this._manipulatorClick(e,t)))],e),this.manipulators.add(e),e}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return null==t?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return M(e,((t,i,a)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next((()=>this._updateLaserLineRenderer())),a.next(R(e.metadata.target)).next((()=>this._updateLaserLineRenderer()))}))}_createObserverManipulatorDragPipeline(e){return M(e,((e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next((()=>this._updateLaserLineRenderer())),i.next(this._cancelObserverDragStep()).next((()=>this._updateLaserLineRenderer()))}))}_updateObserverDragStep(){return e=>(null!=e.intersection.mapPoint?(null==this.analysis.observer&&(this.analysis.observer=new i),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=null!=this.analysis.observer?.position?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.mapPoint;return null!=i&&(e.elevationAlignedLocation=i),t}}_manipulatorGrabChanged(e,t){switch(t.action){case\"start\":this._grabbedManipulator=e;break;case\"end\":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:null!=this.analysis.observer?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:a,observerPosition:n,visible:r}=e;if(null==t)return;const s=null!=i?i:a&&null!=n?this._targetTrackerManipulator:null;null!=s&&r?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=g(this._observerManipulator.renderLocation,s.renderLocation,E):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createLaserLine(){this._removeLaserLine();const{glowWidth:e,innerWidth:t}=y;this._laserlineVisualElement=new w({view:this.view,attached:!0,visible:this.visible,style:{glowWidth:e,innerWidth:t},isDecoration:!0})}_removeLaserLine(){null!=this._laserlineVisualElement&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_updateLaserLineStyle(e,i,a){const n=this._laserlineVisualElement;if(null==n)return;const r=n.style;n.style={...r,glowColor:t.toUnitRGB(e),innerColor:t.toUnitRGB(i),globalAlpha:a}}_onObserverLocationChange(e){null!=e?(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e):this._observerManipulator.available=!1}_onTargetLocationChange(e,t){null!=e?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(null!=t?.mapPoint)if(null!=this.analysis.observer?.position){this._clearCursorTracker();const e=new a;this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new i;this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==P.Right&&(this._addPointFromClickEvent(V(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==P.Right&&(this.stop(),e.stopPropagation())}_keyDownHandler(e){this.active&&\"Escape\"===e.key&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasGrabbedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||null==this.analysis.observer?.position)return;const t=V(e),i=this._intersector.getScreenPointIntersection(t);null!=i?.mapPoint&&(null==this.analysisViewData.cursorTarget&&(this.analysisViewData.cursorTarget=new a),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(null==t.mapPoint)return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.type){case C.OBJECT:if(null!=t.graphic){const i=t.graphic,a=m(i);\"on-the-ground\"===a.mode&&(a.mode=\"relative-to-ground\",a.offset=0),e.elevationInfo=new v(a),e.feature=i}else e.elevationInfo=null,e.feature=null;break;case C.TERRAIN:e.elevationInfo=new v({mode:\"on-the-ground\"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.mapPoint.clone();i.z=_(this.view,i,{mode:\"absolute-height\",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if(\"observer\"===e.metadata.type||e.grabbing||e.dragging||t.button!==P.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){}};function R(e){const t=e.position?.clone();return i=>(e.position=t,i)}function D(e,t){const{isValid:i,isTargetVisible:a}=t.computationResult;e.state=i?a?H.Custom1:H.Custom2:H.Custom3}function j(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}e([c({constructOnly:!0})],O.prototype,\"view\",void 0),e([c({constructOnly:!0})],O.prototype,\"analysis\",void 0),e([c({readOnly:!0})],O.prototype,\"state\",null),e([c({readOnly:!0})],O.prototype,\"cursor\",null),e([c()],O.prototype,\"removeIncompleteOnCancel\",void 0),e([c({readOnly:!0})],O.prototype,\"updating\",null),e([c({constructOnly:!0})],O.prototype,\"analysisViewData\",void 0),e([c({readOnly:!0})],O.prototype,\"_showTracker\",null),e([c()],O.prototype,\"_latestPointerMovePointerType\",void 0),e([c()],O.prototype,\"_shouldRenderTracker\",null),e([c()],O.prototype,\"_laserlineVisualElement\",void 0),e([c()],O.prototype,\"_grabbedManipulator\",void 0),O=e([h(\"esri.views.3d.analysis.LineOfSight.LineOfSightTool\")],O);const E=d();export{O as LineOfSightTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s){this.visibleLineVisualElement=e,this.occludedLineVisualElement=i,this.undefinedLineVisualElement=t,this.targetVisualElement=s}destroy(){this.visibleLineVisualElement.destroy(),this.occludedLineVisualElement.destroy(),this.undefinedLineVisualElement.destroy(),this.targetVisualElement.destroy()}}export{e as LineOfSightVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import e from\"../../../../core/Accessor.js\";import o from\"../../../../core/Handles.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{initial as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{f as d}from\"../../../../chunks/vec32.js\";import{fromArray as u,create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as p}from\"../../../../core/support/UpdatingHandles.js\";import{lineOfSightConfiguration as h}from\"./LineOfSightConfiguration.js\";import{LineOfSightVisualElement as v}from\"./LineOfSightVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as f}from\"../../interactive/visualElements/PointVisualElement.js\";import\"../../webgl-engine/lib/Material.js\";let b=class extends e{constructor(i){super(i),this._lineOfSightVisualElements=new Array,this._computationHandles=new o,this._updatingHandles=new p}initialize(){this.addHandles(this._connectComputations()),this._createObserverVisualization()}destroy(){this._updatingHandles=s(this._updatingHandles),this._computationHandles=s(this._computationHandles),this._observerVisualElement=s(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get updating(){return this._updatingHandles.updating}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get test(){}_createLineOfSightVisualization(){const i=h,e=this.view,o=this.isDecoration,n={view:e,attached:!0,width:i.outerWidth,innerWidth:i.innerWidth,isDecoration:o},s=t.toUnitRGBA(i.visibleOuterColor),r=t.toUnitRGBA(i.visibleInnerColor),a=t.toUnitRGBA(i.occludedOuterColor),l=t.toUnitRGBA(i.occludedInnerColor),c=t.toUnitRGBA(i.undefinedOuterColor),d=t.toUnitRGBA(i.undefinedInnerColor),u=new g({...n,color:s,innerColor:r}),m=new g({...n,color:a,innerColor:l}),p=new g({...n,color:c,innerColor:d}),b=new f({view:e,attached:!0,..._,size:8,isDecoration:o}),y=new v(u,m,p,b);return this._lineOfSightVisualElements.push(y),y}_destroyLineOfSightVisualization(i){i.destroy(),this._lineOfSightVisualElements.splice(this._lineOfSightVisualElements.indexOf(i),1)}_updateLineOfSightVisualization(i,e,o){const n=h,{computationResult:s,inputPoints:r}=i,{start:a,end:l,intersection:c,isValid:m,isTargetVisible:p}=s,{observer:v}=r,g=V;g[12]=v[0],g[13]=v[1],g[14]=v[2];const f=d(y,a,v),b=d(C,l,v),_=d(O,c,v),{visibleLineVisualElement:A,occludedLineVisualElement:E,undefinedLineVisualElement:w,targetVisualElement:j}=e,L=null==this.analysisViewData.elevationAlignedObserver||null==i.elevationAlignedTargetLocation,S=this.visible&&!L;A.visible=S,E.visible=S,w.visible=S,j.visible=S,j.attached=!o.interactiveAndEditable,S&&(A.geometry=null,E.geometry=null,w.geometry=null,j.geometry=i.elevationAlignedTargetLocation,m?p?(A.geometry=[[u(f),u(b)]],A.transform=g,A.color=t.toUnitRGBA(n.visibleOuterColor),j.color=t.toUnitRGBA(n.visibleInnerColor)):(A.geometry=[[u(f),u(_)]],A.transform=g,A.color=t.toUnitRGBA(n.occludedOuterColor),E.geometry=[[u(_),u(b)]],E.transform=g,j.color=t.toUnitRGBA(n.occludedInnerColor)):(w.geometry=[[u(f),u(b)]],w.transform=g,j.color=t.toUnitRGBA(n.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(i){const{computationResult:t}=i,{occludedOuterColor:e,visibleOuterColor:o}=h;return{computationResult:t,occludedOuterColor:e,visibleOuterColor:o,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(i){const t=this._computationHandles;if(t.has(i))return;const e=this._createLineOfSightVisualization();t.add([this._updatingHandles.add((()=>this._getLineOfSightVisualizationDependencies(i)),(t=>this._updateLineOfSightVisualization(i,e,t)),{initial:!0,equals:()=>!1}),n((()=>this._destroyLineOfSightVisualization(e)))],i)}_disconnectComputation(i){this._computationHandles.remove(i)}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(i=>this._onComputationsCollectionChange(i)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:i,removed:t}){for(const e of t)this._disconnectComputation(e);for(const e of i)this._connectComputation(e)}_createObserverVisualization(){const i=t.toUnitRGBA(h.visibleInnerColor),e=new f({view:this.view,color:i,..._,isDecoration:this.isDecoration});this._observerVisualElement=e,this.addHandles(this._updatingHandles.add((()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible})),(({observer:i,interactiveAndEditable:t,visible:o})=>{null!=i&&!t&&o?(e.geometry=i,this._observerVisualElement.attached=!0):e.attached=!1}),r))}};i([a({constructOnly:!0})],b.prototype,\"analysis\",void 0),i([a({constructOnly:!0})],b.prototype,\"analysisViewData\",void 0),i([a({constructOnly:!0})],b.prototype,\"view\",void 0),i([a({readOnly:!0})],b.prototype,\"visible\",null),i([a({constructOnly:!0})],b.prototype,\"isDecoration\",void 0),i([a()],b.prototype,\"updating\",null),i([a()],b.prototype,\"interactiveAndEditable\",null),i([a()],b.prototype,\"test\",null),b=i([l(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],b);const _={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0},y=m(),C=m(),O=m(),V=c();export{b as LineOfSightVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import s from\"../../../core/Collection.js\";import o from\"../../../core/Evented.js\";import\"../../../core/has.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as n}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{LineOfSightController as p}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightTool as y}from\"./LineOfSight/LineOfSightTool.js\";import{LineOfSightVisualization as u}from\"./LineOfSight/LineOfSightVisualization.js\";import{connectAnalysisViewToTool as h,removeAnalysisViewTool as c}from\"../../analysis/analysisViewUtils.js\";let m=class extends(l(o.EventedMixin(i))){constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.analysis=null,this.tool=null,this.computations=new s,this.elevationAlignedObserver=null,this.observerEngineLocation=n(),this.cursorTarget=null,this.editable=!0}initialize(){const t=this.view,i=this.analysis;this._analysisController=new p({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new u({analysis:i,analysisViewData:this,view:t,isDecoration:!this.parent}),this.addHandles([this._analysisController.on(\"result-changed\",(t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)})),h(this,y)])}destroy(){c(this),this._analysisController=r(this._analysisController),this._analysisVisualization=r(this._analysisVisualization)}get results(){return this.computations.map((t=>t.result))}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return null!=this._analysisController&&this._analysisController.updating||null!=this._analysisVisualization&&this._analysisVisualization.updating}getResultForTarget(t){return this.computations.find((i=>i.target===t))?.result}get testInfo(){}};t([e({readOnly:!0})],m.prototype,\"type\",void 0),t([e({constructOnly:!0,nonNullable:!0})],m.prototype,\"analysis\",void 0),t([e()],m.prototype,\"tool\",void 0),t([e({readOnly:!0})],m.prototype,\"results\",null),t([e()],m.prototype,\"priority\",null),t([e()],m.prototype,\"computations\",void 0),t([e()],m.prototype,\"elevationAlignedObserver\",void 0),t([e()],m.prototype,\"observerEngineLocation\",void 0),t([e()],m.prototype,\"cursorTarget\",void 0),t([e()],m.prototype,\"updating\",null),t([e()],m.prototype,\"editable\",void 0),t([e()],m.prototype,\"_analysisController\",void 0),t([e()],m.prototype,\"_analysisVisualization\",void 0),m=t([a(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],m);const d=m;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import t from\"../core/Accessor.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as m}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import f from\"../symbols/support/ElevationInfo.js\";let l=class extends(i(s(t))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([a({type:c,json:{write:{isRequired:!0}}})],l.prototype,\"position\",void 0),o([a({type:f}),m()],l.prototype,\"elevationInfo\",void 0),o([a(e)],l.prototype,\"feature\",void 0),l=o([n(\"esri.analysis.LineOfSightAnalysisObserver\")],l);const u=l;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{s as t}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as r,c as s}from\"../../../../chunks/vec42.js\";import{fromValues as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{projectVectorToVector as n}from\"../../../../geometry/projection/projectVectorToVector.js\";import{expandWithBuffer as l}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as a}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{evaluateElevationAlignmentAtPoint as h}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as m}from\"../../layers/graphics/ElevationContext.js\";import{requiresHalfTexelOffset as p,createTexture as _,defaultSymbolSizeRatio as c}from\"../../support/engineContent/sdfPrimitives.js\";import{createPointGeometry as g}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as d}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as f}from\"../../webgl-engine/materials/HUDMaterial.js\";class x extends u{constructor(e){super(e),this._material=null,this._texture=null,this._geometry=null,this._size=3,this._color=o(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=o(1,1,1,1),this._elevationInfo=null,this.applyProperties(e)}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){r(e,this._color)||(s(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,this.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){r(e,this._outlineColor)||(s(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}_updateMaterial(){this._material&&this._material.setParameters(this._materialParameters)}_updateSizeAttribute(){const e=this.object;if(null==e)return;const t=e.geometries[0];if(null==t)return;const i=t.getMutableAttribute(d.SIZE).data,r=this._geometrySize;i[0]=r,i[1]=r,e.geometryVertexAttributeUpdated(e.geometries[0],d.SIZE)}get _materialParameters(){return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:p(this._primitive),distanceFieldBoundingBox:v,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:this._texture?.id,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}get _geometrySize(){return this._size/S}createExternalResources(){this._texture=_(this._primitive,this._preferredTextureSize),this._material=new f(this._materialParameters);const e=this.view._stage;this._texture.load(e.renderView.renderingContext),e.add(this._texture)}destroyExternalResources(){if(this._texture){this.view._stage.remove(this._texture),this._texture.dispose(),this._texture=null}this._material=null}createGeometries(e){const t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}forEachExternalMaterial(e){this._material&&e(this._material)}get _preferredTextureSize(){return e(2*this._geometrySize,16,128)}calculateMapBounds(e){const t=this.object?.geometries[0];if(!t)return!1;const i=t.attributes.get(d.POSITION).data;return n(i,this.view.renderCoordsHelper.spatialReference,y,this.view.spatialReference),l(e,y),!0}_createRenderGeometry(){const{geometry:e,_material:i}=this;if(null==e||null==i)return null;const{renderCoordsHelper:r,elevationProvider:s}=this.view,o=h(e,s,m.fromElevationInfo(this.elevationInfo),r),l=t(a.get(),e.x,e.y,o),u=a.get();n(l,e.spatialReference,u,r.spatialReference);const p=this._geometrySize;return g(i,null,u,null,[p,p],[0,0,0,1])}}const S=c,v=[S/2,S/2,1-S/2,1-S/2],y=i();export{x as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{hasFeatureExpressionInfo as n}from\"../../../../support/elevationInfoUtils.js\";function o(e,n){return t(e?.data.coordinateHelper.hasZ(),n)}function t(e,o){return!!e&&\"on-the-ground\"!==o.mode&&!n(o)}function r(n,o){let t=null;const r=n.events.on(\"grab-changed\",(e=>{null!=t&&(t.remove(),t=null),\"start\"===e.action?(t=n.disableDisplay(),o&&o(e)):o&&o(e)}));return e((()=>{t?.remove(),r.remove()}))}export{o as canMoveZOperations,r as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[t(i)]||e}function t(i){return\"json\"===i.type?\"application/json\":\"blob\"===i.type?i.blob.type:n(i.url)}function n(p){const t=i(p);return g[t]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\",\"bin.gz\":\"application/octet-stream\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n"],"names":["s","n","r","constructor","super","arguments","this","parent","_userInteractive","_interactiveViewModelCount","interactive","e","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","t","i","constructOnly","prototype","type","Boolean","readOnly","o","initialize","addHandles","analysisViewData","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","l","tool","view","a","activeTool","c","async","active","v","tools","add","remove","length","undefined","hasZ","z","warnOnce","id","wkid","j","origins","u","String","read","d","url","write","writer","p","resources","f","x","m","verifyItemRelativeUrls","writtenUrls","rootPath","y","NO","origin","originIdOf","h","object","propertyName","value","targetUrl","dest","targetPropertyName","context","params","portalItem","contentAddressed","I","resourceFromPath","S","path","compress","b","resource","content","updates","toUpdate","N","_ref3","toKeep","push","P","g","w","U","messages","jsonString","filename","prefix","find","_ref","toAdd","_ref2","itemRelativeUrl","pendingOperations","then","blob","catch","_ref4","finish","O","JSON","stringify","toJSON","layer","objectId","objectIdField","attributes","uid","json","feature","layerId","target","Number","ObjectId","position","elevationInfo","equals","intersectedGraphic","intersectedLocation","elevationAlignedTargetLocation","inputPoints","isValid","observer","observerSurfaceNormal","observerFeatureId","targetSurfaceNormal","targetFeatureId","observerAdjusted","targetAdjusted","computationResult","start","end","intersection","isTargetVisible","result","notifyResultChanged","notifyChange","notifyInputPointsChanged","clone","mapPoint","renderPoint","normal","ray","graphic","C","_terrainIntersectionOptionsLayerUids","Set","intersector","state","viewingMode","options","hud","store","MIN","getScreenPointIntersection","get","camera","T","_getRayIntersection","sceneIntersectionHelper","intersectToolIntersectorRay","results","min","getIntersectionPoint","maxDistance","renderCoordsHelper","fromRenderCoords","spatialReference","R","OBJECT","layerUid","nodeIndex","componentIndex","graphicUid","TERRAIN","lij","slice","sourceLayer","updateFromGroundIntersection","L","$","worldUpAtPosition","basemapTerrain","visibleElevationBounds","Math","abs","max","include","EventedMixin","updateOnCameraChange","_observerGroundOffsetRenderSpace","_effectiveObserverElevationMode","_observerFeatureId","_updatingHandles","_frameTask","_computationHandles","_externalObserverUpdate","resourceController","scheduler","registerTask","k","LINE_OF_SIGHT_TOOL","_intersector","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","priority","computations","_elevationAlignedObserverPositionRenderSpace","observerEngineLocation","_screenPixelSize","computeScreenPixelSizeAt","_computeResult","computation","_canCompute","_computeIntersection","_ref10","interpolationInfo","originalIntersection","originalObserver","originalTarget","K","_","q","emit","_updateAdjustedPointsFromFeatures","Q","ALL","all","distanceInRenderSpace","Z","getTransformedNormal","_adjustStartEndPositions","M","F","elevationAlignedObserver","frustum","intersectsPoint","_onObserverPositionChange","V","getLogger","B","absoluteZ","elevation","H","mode","toRenderCoords","LINE_OF_SIGHT_TOOL_INTERACTIVE","_onObserverRenderSpacePositionChangeForComputation","_onTargetPositionChange","_connectComputationToTarget","targetPosition","targetElevationInfo","targetFeatureInfo","projectedTargetPosition","pending","geometry","addPromise","_connectComputationToObserver","_connectComputationToRenderSpaceObserver","observerGroundOffset","observerElevationMode","_connectComputationToCamera","isDirty","_isCameraDirty","_ref5","_connectComputationToSlicePlane","slicePlane","_connectComputationToElevation","finally","W","elevationProvider","on","_ref6","extent","_connectComputationToTask","schedule","initial","_connectComputation","has","_disconnectComputation","_onComputationCollectionChange","_ref7","added","removed","_onTargetCollectionChange","_ref8","_removeTarget","_addTarget","_onCursorTargetChange","some","E","findIndex","removeAt","observerPosition","projectedObserverPosition","observerElevationInfo","observerFeatureInfo","_ref9","addOnCollectionChange","final","targets","cursorTarget","J","D","G","X","offset","A","glowWidth","innerWidth","size","accentColor","visibleColor","occludedColor","undefinedColor","outerWidth","visibleInnerColor","visibleOuterColor","occludedInnerColor","occludedOuterColor","undefinedInnerColor","undefinedOuterColor","effectiveTheme","renderObjects","metadata","themeHandle","color","setParameters","Custom1","Custom2","Custom3","toUnitRGBA","Ready","Creating","Created","removeIncompleteOnCancel","_latestPointerMovePointerType","_laserlineVisualElement","_grabbedManipulator","_analysisHandles","_manipulatorHandles","_targetTrackerManipulator","finishToolCreation","_observerManipulator","_createObserverManipulator","_createLaserLine","_onObserverLocationChange","glowColor","innerColor","globalAlpha","_updateLaserLineStyle","_laserLineRendererDependencies","_updateLaserLineRenderer","addWhen","_shouldRenderTracker","_clearCursorTracker","_removeLaserLine","hasGrabbedManipulators","cursor","_showTracker","continue","stop","onEditableChange","editable","internallyEditable","onInputEvent","_doubleClickHandler","_keyDownHandler","_pointerMoveHandler","onInputEventAfter","_clickHandler","onShow","onHide","_onComputationsCollectionChange","destroyed","warn","_createTargetManipulator","available","_onTargetLocationChange","_getTargetManipulator","manipulators","_createTargetManipulatorDragPipeline","events","_manipulatorGrabChanged","_manipulatorClick","elevationAlignedLocation","forEach","manipulator","_createObserverManipulatorDragPipeline","_screenToIntersection","screenEnd","next","_updateTargetDragStep","_updateObserverDragStep","_cancelObserverDragStep","_updateFromIntersection","action","laserlineVisualElement","grabbedManipulator","shouldRenderTracker","heightManifoldTarget","renderLocation","lineVerticalPlaneSegment","attached","style","isDecoration","toUnitRGB","_addPointFromClickEvent","button","Right","stopPropagation","key","pointerType","grabbing","dragging","testInfo","visibleLineVisualElement","occludedLineVisualElement","undefinedLineVisualElement","targetVisualElement","_lineOfSightVisualElements","Array","_createObserverVisualization","_observerVisualElement","interactiveAndEditable","test","_createLineOfSightVisualization","width","_destroyLineOfSightVisualization","splice","indexOf","_updateLineOfSightVisualization","transform","_getLineOfSightVisualizationDependencies","pixelSnappingEnabled","primitive","outlineSize","_analysisController","_analysisVisualization","map","getResultForTarget","nonNullable","isRequired","_material","_texture","_geometry","_size","_color","_pixelSnappingEnabled","_primitive","_outlineSize","_outlineColor","_elevationInfo","applyProperties","recreateGeometry","_preferredTextureSize","recreate","_updateSizeAttribute","_updateMaterial","outlineColor","_materialParameters","geometries","getMutableAttribute","SIZE","data","_geometrySize","geometryVertexAttributeUpdated","textureIsSignedDistanceField","sampleSignedDistanceFieldTexelCenter","distanceFieldBoundingBox","occlusionTest","textureId","polygonOffset","shaderPolygonOffset","drawInSecondSlot","depthEnabled","createExternalResources","_stage","load","renderView","renderingContext","destroyExternalResources","dispose","createGeometries","_createRenderGeometry","addGeometry","forEachExternalMaterial","calculateMapBounds","POSITION","fromElevationInfo","coordinateHelper","disableDisplay","png","jpeg","jpg","bmp","gif","txt","xml","svg","zip","pbf","gz"],"sourceRoot":""}