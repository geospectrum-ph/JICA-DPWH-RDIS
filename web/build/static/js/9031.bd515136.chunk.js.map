{"version":3,"file":"static/js/9031.bd515136.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/AsyncUpdate.js","../node_modules/@arcgis/core/views/3d/layers/support/SceneLayerViewRequiredFields.js","../node_modules/@arcgis/core/views/3d/layers/support/fieldProperties.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/i3s/featureEditing.js","../node_modules/@arcgis/core/views/layers/SceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import s from\"./Accessor.js\";import r from\"./Logger.js\";import{debounce as o}from\"./promiseUtils.js\";import{watch as e,initial as n}from\"./reactiveUtils.js\";import{property as i}from\"./accessorSupport/decorators/property.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";const c=s=>{let c=class extends s{constructor(){super(...arguments),this._numUpdating=0}get updating(){return this._numUpdating>0}autoUpdateAsync(t,s){const i=o((async s=>{++this._numUpdating;try{const r=await s;this.destroyed||this._set(t,r)}catch(o){r.getLogger(this).warn(`Async update of \"${String(t)}\" failed. Async update functions should not throw exceptions.`)}--this._numUpdating}));return e(s,i,n)}};return t([i({readOnly:!0})],c.prototype,\"updating\",null),t([i()],c.prototype,\"_numUpdating\",void 0),c=t([p(\"esri.core.AsyncUpdate\")],c),c};let a=class extends(c(s)){};a=t([p(\"esri.core.AsyncUpdate\")],a);export{a as AsyncUpdate,c as AsyncUpdateMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{AsyncUpdateMixin as s}from\"../../../../core/AsyncUpdate.js\";import t from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fixFields as l,collectLabelingFields as d,collectFilterFields as n}from\"../../../../layers/support/fieldUtils.js\";let a=class extends(s(r)){get layer(){return this.layerView.layer}get requiredFields(){const{layerView:{layer:{fieldsIndex:e},definitionExpressionFields:r},rendererFields:s,labelingFields:t,viewFilterFields:i}=this;return l(e,[...r??[],...s??[],...t??[],...i??[]])}constructor(e){super(e)}initialize(){this.addHandles([this.autoUpdateAsync(\"rendererFields\",(async()=>{const{fieldsIndex:e,renderer:r}=this.layer;return r?this._getFieldsAsync((s=>r.collectRequiredFields(s,e))):null})),this.autoUpdateAsync(\"labelingFields\",(async()=>{const{layer:e}=this;return e.labelsVisible?this._getFieldsAsync((r=>d(r,e))):null})),this.autoUpdateAsync(\"viewFilterFields\",(()=>{const{layer:e,mergedFilter:r}=this.layerView;return this._getFieldsAsync((s=>n(s,e,r)))}))])}async _getFieldsAsync(e){const r=new Set;try{return await e(r),Array.from(r).sort()}catch(s){return t.getLogger(this).error(s),null}}};e([i()],a.prototype,\"layerView\",void 0),e([i()],a.prototype,\"layer\",null),e([i()],a.prototype,\"requiredFields\",null),e([i()],a.prototype,\"rendererFields\",void 0),e([i()],a.prototype,\"labelingFields\",void 0),e([i()],a.prototype,\"viewFilterFields\",void 0),a=e([o(\"esri.views.3d.layers.support.SceneLayerViewRequiredFields\")],a);export{a as SceneLayerViewRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fixFields as e,unpackFieldNames as r}from\"../../../../layers/support/fieldUtils.js\";function i(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,get:function(){const{layer:i,layer:{fieldsIndex:t},requiredFields:l}=this;return i.outFields?e(t,[...r(t,i.outFields),...l]):e(t,l)}}}}export{i as defineFieldProperties};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{resultOrAbort as e}from\"../../../../core/asyncUtils.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryAllJSON as n}from\"../../../../layers/support/featureQueryAll.js\";const o={setAttribute(){},rollback(){},commit(){}};var r;function i(e,n){const i=n.attributes[e.objectIdField];if(null==i)return o;const s=e.sessions.get(i);if(s)return s;const l=t(n.attributes),u=new Set,a=e.i3sOverrides.createInteractiveEditSession(i),d=new Map,f=(e,t)=>{const n=d.get(e);if(null==n){const n=t.indexOf(i);return d.set(e,n),n}return n};let c=r.EDITING;const I={setAttribute(t,o){if(c!==r.EDITING)return;const i=e.fieldsIndex.get(t);if(!i)return;const s=e.attributeStorageInfo.findIndex((e=>e.name===i.name));if(s<0)return;if(!(t in l))throw new Error(`Attribute \"${t}\" is not an attribute of the edited feature.`);a.setAttribute(s,o);const d=e.attributeStorageInfo[s];let I=!1;u.add(t),e.forEachNode(((t,r)=>{const i=f(t,r);if(-1===i)return;const s=e.getAttributeData(t.index);if(s){const r=s[d.name];r&&(r[i]=o,e.setAttributeData(t.index,s,n),I=!0)}})),I&&e.clearMemCache()},rollback(){if(c===r.EDITING){for(const e of u)this.setAttribute(e,l[e]);a.remove(),c=r.ROLLED_BACK,e.sessions.delete(i)}},commit(){c===r.EDITING&&(a.remove(),c=r.COMMITTED,e.sessions.delete(i))}};return e.sessions.set(i,I),I}function s(e,t,n){const{gidToFeatureInfo:o,oidToFeatureInfo:r,fieldsIndex:i,objectIdField:s,globalIdField:l,featureOrIdentifierList:u}=n;if(!n.featuresResolved&&null!=u){for(const e of u){const t={feature:null,oid:-1,gid:null};if(\"attributes\"in e){t.feature=e;const n=e.attributes;if(null!=n)for(const e in n){if(-1!==t.oid&&null!=t.gid)break;const o=i.normalizeFieldName(e);o===s&&(t.oid=n[e]??-1),o===l&&(t.gid=n[e])}}else t.oid=e.objectId??-1,t.gid=e.globalId;null!=t.gid&&o.set(t.gid,t),-1!==t.oid&&r.set(t.oid,t)}n.featuresResolved=!0}return(-1!==e?r.get(e):null)??(null!=t?o.get(t):null)}function l(e,t,n,o,r=null,i=!0){const l=[],u={gidToFeatureInfo:new Map,oidToFeatureInfo:new Map,featuresResolved:null==n,fieldsIndex:e.fieldsIndex,objectIdField:e.objectIdField,globalIdField:e.globalIdField,featureOrIdentifierList:n};for(const a of t){if(null!=a.error)continue;const e=a.objectId??-1,t=a.globalId,n=(-1===e||i?s(e,t,u):null)??{feature:null,oid:e,gid:t},d={oid:-1===e?n.oid:e,gid:t??n.gid,feature:n.feature,result:a};if(l.push(d),-1===d.oid&&null!=d.gid&&null!=r&&(d.oid=r.get(d.gid)??-1),-1===d.oid&&null!=d.gid){let e=o.get(d.gid);null==e&&(e=[],o.set(d.gid,e)),e.push(d)}}return l}async function u(e,t){const n=new Map,o=l(e,t.addedFeatures,t.edits?.addFeatures,n),r=l(e,t.updatedFeatures,t.edits?.updateFeatures,n),i=l(e,t.deletedFeatures,t.edits?.deleteFeatures,n,t.globalIdToObjectId,!1);return n.size>0&&await a(e,n),{adds:o.filter((e=>-1!==e.oid)),updates:r.filter((e=>-1!==e.oid)),deletes:i.filter((e=>-1!==e.oid))}}async function a(t,o){const r=t.i3sOverrides.layer.associatedLayer;if(null==r?.globalIdField)return;const i=r.createQuery(),{objectIdField:s,globalIdField:l}=r;i.where=Array.from(o.keys()).map((e=>`${l}='${e}'`)).join(\" OR \"),i.returnGeometry=!1,i.outFields=[s,l],i.cacheHint=!1;const u=await e(n(r,i));if(!u.ok)return;const a=u.value.features;for(const e of a){const t=e.attributes[l],n=e.attributes[s];if(null==t||null==n||-1===n)continue;const r=o.get(t);if(null!=r)for(const e of r)e.oid=n}}function d(e,t){const n=new Map,o=e=>{for(const{oid:t,feature:o}of e){const e=o?.geometry;\"mesh\"===e?.type&&n.set(t,e)}};o(t.adds),o(t.updates);for(const r of t.deletes)n.set(r.oid,null);for(const[r,i]of n)e.i3sOverrides.updateGeometry(r,i)}function f(e,t){const n=I(e,t),o=c(e,t);if(0===n.size&&0===o.size)return;const r=new Map;for(let c=0;c<e.attributeStorageInfo.length;c++)r.set(e.attributeStorageInfo[c].name,c);let i=!1;n.forEach(((t,n)=>{const o=e.getAttributeData(n);let s=!1;t.forEach(((t,n)=>{const l=null!=o?o[n]:null,u=r.get(n);for(const{featureIndex:o,value:r,featureId:a}of t)l&&(l[o]=r,s=!0,i=!0),e.i3sOverrides.updateAttributeValue(a,u,r)})),s&&e.setAttributeData(n,o,null)})),i&&e.clearMemCache();const{fieldsIndex:s,i3sOverrides:l,objectIdField:u,globalIdField:a}=e,d=l.layer.associatedLayer?.infoFor3D,f=new Set(d?[...Object.values(d.assetMapFieldRoles),...Object.values(d.transformFieldRoles)]:[]);for(const[c,I]of o){l.featureAdded(c);const{attributes:e}=I;for(const t in e){if(t!==u&&t!==a&&f.has(t))continue;const n=s.normalizeFieldName(t),o=null!=n?r.get(n):null;if(null==o)continue;const i=e[t];l.updateAttributeValue(c,o,i)}}}function c(e,t){const n=new Map,o=t.adds;if(!o||0===o.length||null==e.globalIdField)return n;for(const r of o){const e=r.oid,t=r.feature;\"mesh\"===t?.geometry?.type&&n.set(e,t)}return n}function I(e,t){const n=t.updates;if(!n||0===n.length)return new p;const o=new p,r=new Map;for(let i=0;i<e.attributeStorageInfo.length;i++)r.set(e.attributeStorageInfo[i].name,i);return e.forEachNode(((t,r)=>{for(const i of n){if(null==i.feature)continue;const n=i.feature,s=i.oid,l=r.indexOf(s);for(const r in n.attributes){const i=e.fieldsIndex.normalizeFieldName(r),u=g(o,t.index,i),a=n.attributes[r];u.push({featureIndex:l,featureId:s,value:a})}}})),o}function g(e,t,n){const o=b(e,t),r=null!=n&&o.get(n);if(r)return r;const i=new Array;return o.set(n,i),i}function b(e,t){const n=e.get(t);if(n)return n;const o=new m;return e.set(t,o),o}!function(e){e[e.EDITING=0]=\"EDITING\",e[e.ROLLED_BACK=1]=\"ROLLED_BACK\",e[e.COMMITTED=2]=\"COMMITTED\"}(r||(r={}));const m=Map,p=Map;export{i as createInteractiveEditSession,u as normalizeEditResultsEvent,f as processAttributeEdits,d as processGeometryEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import r from\"../../core/Logger.js\";import{abortMaybe as o}from\"../../core/maybe.js\";import{unwrapUpdating as i,updating as n,isUpdating as l}from\"../../core/maybeUpdating.js\";import{throwIfAbortError as s,throwIfNotAbortError as a}from\"../../core/promiseUtils.js\";import{whenOnce as m}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{project as u,canProjectWithoutEngine as g,isLoaded as y,load as h}from\"../../geometry/projection.js\";import d from\"./LayerView.js\";let f=class extends d{constructor(){super(...arguments),this.layer=null,this.filter=null,this._geometryEngine=null,this._projectionEngineLoaded=!1,this._abortController=new AbortController}get availableFields(){return[]}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){throw new Error(\"Not implemented\")}get maximumNumberOfFeaturesExceeded(){return!1}get layerFilter(){return i(this._layerFilter)}get _layerFilter(){const e=this.layer?.filter;if(null==e||e.geometries.length<1)return null;const o=this._geometryEngine;if(null==o||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine)return n;const i=e.geometries.at(0).spatialReference,l=e.geometries.toArray().map((e=>{try{e=o.simplify(e)}catch(t){return r.getLogger(this).warnOncePerTick(\"Failed to simplify scene filter mask polygon. Polygon will be ignored.\"),null}if(null==e)return null;if(e.spatialReference.equals(i))return e;try{return u(e,i)}catch(t){return r.getLogger(this).warnOncePerTick(\"Failed to project scene filter mask polygon. Polygon will be ignored.\"),null}})).filter(t).sort(((e,t)=>e.extent.xmin-t.extent.xmin)),s=new Set,a=new Array,m=new Array;for(let t of l){const e=t.extent.xmin;if(a.length=0,s.forEach((r=>{if(e>=r.extent.xmax)return m.push(r),void s.delete(r);t.extent.ymin<=r.extent.ymax&&t.extent.ymax>=r.extent.ymin&&o.intersects(t,r)&&a.push(r)})),a.length>0){a.push(t);try{t=o.union(a)}catch(p){r.getLogger(this).warnOncePerTick(\"Failed to unify filter mask polygons. Polygon will be ignored.\");continue}a.pop(),a.forEach((e=>s.delete(e)))}s.add(t)}return s.forEach((e=>m.push(e))),m.length>0?{spatialRelationship:e.spatialRelationship,geometries:m}:null}get _filterNeedsProjectionEngine(){const e=this.layer.filter;if(null==e||e.geometries.length<=1)return!1;const t=e.geometries.at(0).spatialReference;return e.geometries.some((({spatialReference:e})=>!e.equals(t)&&!g(e,t)))}get layerFilterUpdating(){return l(this._layerFilter)}initialize(){const{signal:e}=this._abortController;m((()=>this.destroyed||!this._geometryEngine&&this.layer?.filter?.geometries?.length),e).then((async()=>{s(e),this._geometryEngine=await import(\"../../geometry/geometryEngine.js\")})).catch(a),this._projectionEngineLoaded=y(),m((()=>this.destroyed||!this._projectionEngineLoaded&&this._filterNeedsProjectionEngine),e).then((async()=>{s(e),await h(),this._projectionEngineLoaded=!0})).catch(a)}destroy(){this._abortController=o(this._abortController)}highlight(e){throw new Error(\"Not implemented\")}queryFeatures(e,t){throw new Error(\"Not implemented\")}queryObjectIds(e,t){throw new Error(\"Not implemented\")}queryFeatureCount(e,t){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(e,t){throw new Error(\"Not implemented\")}};e([p()],f.prototype,\"layer\",void 0),e([p()],f.prototype,\"availableFields\",null),e([p()],f.prototype,\"maximumNumberOfFeatures\",null),e([p({readOnly:!0})],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([p()],f.prototype,\"filter\",void 0),e([p({readOnly:!0})],f.prototype,\"layerFilter\",null),e([p({readOnly:!0})],f.prototype,\"_layerFilter\",null),e([p()],f.prototype,\"_geometryEngine\",void 0),e([p()],f.prototype,\"_projectionEngineLoaded\",void 0),e([p()],f.prototype,\"_filterNeedsProjectionEngine\",null),e([p()],f.prototype,\"layerFilterUpdating\",null),f=e([c(\"esri.views.layers.SceneLayerView\")],f);const w=f;export{w as default};\n"],"names":["c","s","constructor","super","arguments","this","_numUpdating","updating","autoUpdateAsync","t","i","o","async","r","destroyed","_set","getLogger","warn","String","e","n","readOnly","prototype","p","a","layer","layerView","requiredFields","fieldsIndex","definitionExpressionFields","rendererFields","labelingFields","viewFilterFields","l","initialize","addHandles","renderer","_getFieldsAsync","collectRequiredFields","labelsVisible","d","mergedFilter","Set","Array","from","sort","error","type","availableFields","get","outFields","_validateFetchPopupFeatures","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","length","associatedLayer","push","u","Map","set","getObjectId","h","whenGraphicAttributes","catch","then","concat","setAttribute","rollback","commit","attributes","objectIdField","sessions","i3sOverrides","createInteractiveEditSession","f","indexOf","EDITING","I","attributeStorageInfo","findIndex","name","Error","add","forEachNode","getAttributeData","index","setAttributeData","clearMemCache","remove","ROLLED_BACK","delete","COMMITTED","gidToFeatureInfo","oidToFeatureInfo","globalIdField","featureOrIdentifierList","featuresResolved","feature","oid","gid","normalizeFieldName","objectId","globalId","undefined","result","addedFeatures","edits","addFeatures","updatedFeatures","updateFeatures","deletedFeatures","deleteFeatures","globalIdToObjectId","size","createQuery","where","keys","map","join","returnGeometry","cacheHint","ok","value","features","adds","filter","updates","deletes","geometry","updateGeometry","g","featureIndex","featureId","forEach","updateAttributeValue","infoFor3D","Object","values","assetMapFieldRoles","transformFieldRoles","featureAdded","has","m","b","_geometryEngine","_projectionEngineLoaded","_abortController","AbortController","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","layerFilter","_layerFilter","geometries","_filterNeedsProjectionEngine","at","spatialReference","toArray","simplify","warnOncePerTick","equals","extent","xmin","xmax","ymin","ymax","intersects","union","pop","spatialRelationship","some","_ref","layerFilterUpdating","signal","y","destroy","highlight","queryFeatures","queryObjectIds","queryFeatureCount","queryExtent","w"],"sourceRoot":""}