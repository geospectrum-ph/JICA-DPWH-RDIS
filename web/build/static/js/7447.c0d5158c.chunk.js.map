{"version":3,"file":"static/js/7447.c0d5158c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as i}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const f=new n,{vertex:u,fragment:m}=f;return t(u,v),f.include(o,v),f.attributes.add(c.POSITION,\"vec3\"),f.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&f.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),f.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&f.varyings.add(\"depth\",\"float\"),u.code.add(d`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),f.include(r,v),f.include(i,v),m.uniforms.add(new p(\"tex\",(e=>e.texture)),new l(\"opacity\",(e=>e.opacity))),f.varyings.add(\"vTexCoord\",\"vec2\"),v.transparencyPassType===g.ColorAlpha&&(f.outputs.add(\"fragColor\",\"vec4\",0),f.outputs.add(\"fragAlpha\",\"float\",1)),m.include(a),m.code.add(d`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${d.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.ColorAlpha?d`\n              fragColor = premultiplyAlpha(fragColor);\n              fragAlpha = fragColor.a;`:\"\"}\n      ${v.output===e.ObjectAndLayerIdColor?d`\n              fragColor = vec4(0,0,0,1);`:\"\"}\n    }\n    `),f}const f=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{f as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,oitDrawBuffers as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as O,makePipelineState as j,cullingParams as S,defaultDepthWriteParams as v,defaultColorWriteParams as I}from\"../../../webgl/renderState.js\";class N extends r{}class E extends o{initializeProgram(e){return new h(e.rctx,E.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const i=this.configuration,o=e===y.NONE,s=e===y.FrontFace;return j({blending:i.output===t.Color&&i.transparent?o?w:a(e):null,culling:S(i.cullFace),depthTest:{func:l(e)},depthWrite:o?i.writeDepth?v:null:p(e),drawBuffers:c(e),colorWrite:I,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:o||s?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}E.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const w=O(T.ONE,T.ONE_MINUS_SRC_ALPHA);class C extends P{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:y.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[b.POSITION,0],[b.UV0,2],[b.PERSPECTIVEDIVIDE,3]]);export{N as ImageMaterialPassParameters,E as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isOIDorHighlight as t,isColor as r,ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as d}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,ImageMaterialTechniqueConfiguration as E,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";class g extends m{constructor(e){super(e,new P),this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>t(e)||r(e)&&!this.parameters.transparent],[p.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.transparent&&this.parameters.writeDepth],[p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>r(e)&&this.parameters.transparent&&!this.parameters.writeDepth],[p.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._vertexAttributeLocations=_,this._configuration=new E}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=h.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new b(e)}}class I extends i{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(T,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output===s.Color&&this._updateOccludeeState(e),this._updateParameters(e)}}class b extends l{write(t,r,s,a,i){for(const n of this.vertexBufferLayout.fields.keys()){const o=s.attributes.get(n);if(o)if(n===c.PERSPECTIVEDIVIDE){u(1===o.size);const t=a.getField(n,e);t&&f(o,t,i)}else d(n,o,t,r,a,i)}}}class P extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{g as ImageMaterial,P as Parameters};\n"],"names":["v","f","n","vertex","u","fragment","m","t","include","o","attributes","add","c","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","d","r","i","uniforms","p","e","texture","l","opacity","transparencyPassType","g","ColorAlpha","outputs","a","float","s","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","E","initializeProgram","h","rctx","shader","get","this","configuration","_","_setPipelineState","y","NONE","FrontFace","j","blending","Color","transparent","w","culling","S","cullFace","depthTest","func","depthWrite","writeDepth","drawBuffers","colorWrite","I","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","super","O","T","ONE","ONE_MINUS_SRC_ALPHA","C","P","constructor","arguments","None","hasSlicePlane","cullAboveGround","count","COUNT","prototype","constValue","Map","b","supportsEdges","produces","OPAQUE_MATERIAL","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_vertexAttributeLocations","_configuration","getConfiguration","camera","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","clone","f32","material","_updateParameters","updateTexture","_material","textureId","setParameters","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","write","vertexBufferLayout","fields","keys","size","getField","initTextureTransparent"],"sourceRoot":""}