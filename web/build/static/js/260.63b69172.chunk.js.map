{"version":3,"file":"static/js/260.63b69172.chunk.js","mappings":"iIAIA,SAASA,EAAEA,GAAG,OAAOA,GAAG,gBAAgBA,GAAG,aAAaA,CAAC,C,+LCA8EC,eAAeC,EAAEC,GAAS,IAAPC,EAACC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAEG,EAACH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,QAAQJ,EAAEM,KAAKD,GAAG,MAAMN,GAAEQ,EAAAA,EAAAA,IAAEP,EAAEQ,QAAQ,cAAcC,MAAMC,EAAE,EAAEC,IAAIC,EAAE,GAAGC,UAAUC,EAAE,MAAMC,UAAUC,EAAE,YAAYf,EAAEJ,EAAE,CAACoB,MAAM,CAACR,MAAMC,EAAEC,IAAIC,EAAEC,UAAUC,EAAEC,UAAUC,EAAEE,MAAMlB,EAAEmB,QAAQC,OAAOf,GAAGe,QAAQC,QAAQrB,EAAEsB,OAAOC,QAAQxB,EAAEF,GAAG,MAAM,CAAC2B,MAAMH,EAAEG,MAAMC,UAAUJ,EAAEI,UAAUC,UAAUL,EAAEK,UAAUC,KAAKC,IAAA,IAAEC,QAAQ5B,EAAE6B,KAAKvB,EAAEwB,SAAS1B,GAAEuB,EAAA,MAAI,CAACC,QAAQ,IAAIG,KAAK/B,GAAG6B,KAAKvB,EAAEwB,SAAS/B,EAAEiC,iBAAiB5B,GAAG,IAAI,CAACP,eAAeY,EAAEV,EAAEK,EAAEN,EAAEW,GAAG,MAAME,EAAE,IAAIsB,IAAI,IAAI,MAAMH,SAASxB,EAAE4B,QAAQtC,EAAEuC,SAASf,EAAEgB,OAAOC,KAAKjC,EAAE,CAAC,IAAIE,EAAEgC,UAAU,MAAM,IAAItC,EAAAA,EAAE,wBAAwBF,iBAAiB,uCAAuC,MAAMC,EAAEK,GAAGW,EAAET,EAAEiC,MAAM9B,EAAE,GAAGV,KAAKqB,GAAG,MAAMiB,GAAG,KAAK1B,EAAE6B,IAAI/B,IAAIE,EAAE8B,IAAIhC,EAAE,CAACiC,OAAO3C,EAAEoC,SAASf,EAAEgB,OAAOC,EAAEM,MAAM,KAAKhC,EAAEiC,IAAInC,GAAGkC,MAAME,KAAK,CAACC,SAAS1C,EAAE8B,QAAQtC,GAAG,OAAOG,EAAEM,KAAKI,GAAG,MAAMI,GAAEP,EAAAA,EAAAA,IAAEP,EAAEgD,YAAY,QAAQjD,EAAE,eAAe,mBAAmB,IAAI,MAAM4C,OAAO1C,EAAEmC,SAAS7B,EAAE8B,OAAOrB,EAAE4B,MAAM/C,KAAKe,EAAEqC,SAAS,CAAC,MAAM5C,EAAE,GAAG,IAAI,IAAIN,EAAE,EAAEA,EAAEF,EAAEM,OAAOJ,GAAGM,EAAE,CAAC,MAAMO,EAAEf,EAAEqD,MAAMnD,EAAEA,EAAEM,GAAGgB,EAAE,IAAI8B,SAASlD,GAAG,MAAMA,GAAGoB,EAAE+B,OAAO,kBAAkBnD,GAAGM,GAAGc,EAAE+B,OAAO,WAAW,QAAQpC,GAAGK,EAAE+B,OAAO,SAASpC,GAAG,IAAIsB,EAAE,EAAE,IAAI,MAAMS,SAAS/C,EAAEmC,QAAQlC,KAAKW,EAAES,EAAE+B,OAAO,UAAUd,EAAErC,EAAED,GAAGqB,EAAE+B,OAAO,IAAI,cAAcpD,EAAEsB,OAAOC,QAAQT,EAAE,CAACuC,OAAO,OAAOC,KAAKjC,EAAED,OAAOV,GAAGU,QAAQ,CAAC,CAAC,CAACtB,eAAec,EAAEZ,EAAEK,EAAEN,GAAG,IAAIM,EAAEkC,UAAU,MAAM,IAAItC,EAAAA,EAAE,4CAA4C,6CAA6CD,EAAEM,KAAKP,GAAG,MAAMW,GAAEH,EAAAA,EAAAA,IAAEP,EAAEgD,YAAY,yBAAyBhD,EAAEsB,OAAOC,QAAQb,EAAE,CAAC2C,OAAO,OAAOpC,MAAM,CAACc,SAAS1B,EAAEmC,MAAMpB,OAAOrB,GAAGqB,SAASf,EAAEkD,WAAW,IAAI,CAACzD,eAAegB,EAAEd,EAAEC,SAASD,EAAEM,KAAKL,GAAG,MAAMI,GAAEE,EAAAA,EAAAA,IAAEP,EAAEgD,YAAY,mBAAmB,OAAOhD,EAAEsB,OAAOC,QAAQlB,EAAE,CAACgD,OAAO,OAAOpC,MAAM,CAACuC,WAAU,GAAIpC,OAAOnB,GAAGmB,QAAQ,CAAC,SAASJ,EAAEhB,GAAG,MAAMC,EAAED,EAAEyD,YAAY,KAAK,OAAO,IAAIxD,EAAE,CAAC,IAAID,GAAG,CAACA,EAAEkD,MAAM,EAAEjD,GAAGD,EAAEkD,MAAMjD,EAAE,GAAG,CAAC,SAASJ,EAAEG,GAAG,MAAMC,EAAEM,GAAiC,SAAWP,GAAG,MAAMC,GAAEI,EAAAA,EAAAA,IAAEL,GAAG,OAAO,MAAMC,EAAE,CAACD,EAAE,IAAI,CAACA,EAAEkD,MAAM,EAAElD,EAAEG,OAAOF,EAAEE,OAAO,GAAG,IAAIF,IAAI,CAAvHoB,CAAErB,IAAIK,EAAEN,GAAGiB,EAAEf,GAAG,MAAM,CAACI,EAAEN,EAAEQ,EAAE,CAA2FT,eAAewC,EAAErC,GAAG,MAAG,SAASA,EAAEyD,KAAYzD,EAAE0D,KAAQ,SAAS1D,EAAEyD,KAAY,IAAIE,KAAK,CAAC3D,EAAE4D,YAAY,CAACH,KAAK,4BAAkC1D,EAAAA,EAAAA,GAAEC,EAAE6D,IAAI,CAACC,aAAa,UAAUC,IAAI,CAAkH,SAASC,EAAEjE,EAAEC,GAAG,IAAID,EAAEuC,UAAU,OAAO,KAAK,MAAMlC,EAAE,CAACN,GAAGF,EAAEG,EAAEwC,MAAM,OAAOxC,EAAEuD,WAAWtB,kBAAiB1B,EAAAA,EAAAA,IAAEF,EAAEJ,EAAEF,GAAG,C,kDCA/2E,SAASF,EAAEA,GAAGA,GAAGqE,mBAAmBrE,EAAEqE,kBAAkBC,SAASvC,IAAqC,IAAnCwC,OAAOvE,EAAEwE,SAASpE,EAAEqE,UAAUtE,GAAE4B,GAAIrB,EAAAA,EAAAA,GAAEV,IAAIG,GAAGH,EAAE0E,SAAStE,KAAKD,GAAGH,EAAE2E,aAAavE,EAAED,EAAE,GAAG,C,wECApG,SAASH,EAAEA,GAAG,GAAGE,EAAAA,EAAEoB,SAAQmB,EAAAA,EAAAA,GAAEzC,EAAEyB,OAAOwC,KAAK,MAAM,IAAIvD,EAAAA,EAAE,2CAA2C,8BAA8BV,EAAEyB,OAAOwC,4BAA4B,C,2FCAbhE,eAAewC,EAAEtC,EAAEC,EAAEM,GAAG,MAAMR,QAAQsB,EAAErB,EAAEC,EAAEM,SAASkE,EAAE1E,EAAEE,EAAEM,EAAE,CAACT,eAAec,EAAEZ,EAAEC,EAAEM,EAAER,EAAEM,GAAG,MAAMK,QAAQW,EAAEd,EAAER,EAAEM,SAASL,EAAE0E,OAAO,CAACV,KAAK/D,UAAUwE,EAAE/D,EAAEX,EAAEM,EAAE,CAACP,eAAeuB,EAAEtB,EAAEuC,EAAE1B,GAAG,IAAI0B,GAAGZ,UAAU,OAAO,MAAML,EAAEiB,EAAEiB,aAAaxD,EAAEwD,WAAW,IAAIoB,IAAI5E,EAAE6E,OAAO,IAAID,IAAI5E,EAAE6E,MAAMzE,OAAO,EAAEJ,EAAEwD,WAAWjB,EAAEiB,WAAW,MAAMkB,EAAE,IAAIE,IAAIrC,EAAEZ,UAAUmD,OAAOlD,KAAK3B,GAAGA,EAAE+B,SAASS,QAAQ3C,EAAE,IAAI8E,IAAIV,EAAE,GAAGQ,EAAEN,SAASnE,IAAIqB,EAAEyD,OAAO9E,GAAGD,EAAE6E,MAAM9B,KAAK9C,EAAE,IAAI,MAAM+E,EAAE,GAAG/D,EAAE,GAAGgE,EAAE,GAAG,IAAI,MAAMhF,KAAKsC,EAAEZ,UAAUuD,SAAS,GAAG5D,EAAEyD,OAAO9E,EAAE+B,SAASS,MAAMiC,EAAEhC,IAAIzC,EAAE+B,SAASS,OAAO3C,EAAE4C,IAAIzC,EAAE+B,SAASS,MAAM,CAAC,MAAMT,SAAS9B,EAAEkC,QAAQ5B,EAAE2E,OAAO5C,GAAGtC,EAAEY,GAAEF,EAAAA,EAAAA,IAAET,GAAEI,EAAAA,EAAAA,OAAKN,EAAE6E,MAAM9B,KAAKlC,EAAE4B,MAAMuC,EAAEjC,KAAK,CAACf,SAASnB,EAAEuB,cAAcrB,EAAAA,EAAAA,IAAEP,GAAG6B,SAASpC,EAAEoC,WAAWE,GAAG0C,EAAElC,MAAM,IAAIR,EAAE1B,IAAI,KAAK,CAACb,EAAE6E,MAAM9B,KAAK9C,EAAE+B,SAASS,MAAMxB,EAAE8B,KAAK,CAACf,SAAS/B,EAAE+B,SAASI,cAAcrB,EAAAA,EAAAA,IAAEd,EAAEmC,SAASC,SAASpC,EAAEoC,WAAW,MAAMnC,EAAED,EAAEkF,OAAOjF,GAAG+E,EAAElC,MAAM,IAAI7C,EAAED,EAAE+B,YAAYlC,EAAEsF,IAAInF,EAAE+B,SAASS,KAAK,CAAC,IAAI,MAAMxC,KAAKsC,EAAEZ,UAAU0D,MAAM,GAAGrF,EAAE6E,MAAM9B,KAAK9C,EAAE+B,SAASS,MAAMnB,EAAEoB,IAAIzC,EAAE+B,SAASS,MAAMnB,EAAEyD,OAAO9E,EAAE+B,SAASS,UAAU,CAACuC,EAAEjC,KAAK,CAACf,SAAS/B,EAAE+B,SAASI,cAAcrB,EAAAA,EAAAA,IAAEd,EAAEmC,SAASC,SAASpC,EAAEoC,WAAW,MAAMnC,EAAED,EAAEkF,OAAOjF,GAAG+E,EAAElC,MAAM,IAAI7C,EAAED,EAAE+B,WAAW,CAAC,GAAGgD,EAAE5E,QAAQa,EAAEb,OAAO,CAAC,MAAMkF,qBAAqBrF,SAAS,8CAAsDA,EAAEsC,EAAEiB,WAAWwB,EAAE,MAAMnE,SAASZ,EAAEsC,EAAEiB,WAAWvC,EAAE,SAASJ,EAAE,CAAC,GAAGoE,EAAEb,SAASnE,GAAGA,MAAM,IAAIiE,EAAE9D,OAAO,OAAOkB,EAAE,MAAMiE,QAAQrF,EAAAA,EAAAA,IAAEgE,GAAG,IAAG1D,EAAAA,EAAAA,IAAEK,GAAG0E,EAAEnF,OAAO,EAAE,MAAM,IAAIH,EAAAA,EAAE,iBAAiB,uCAAuC,CAACuF,OAAOD,IAAI,OAAOjE,CAAC,CAACvB,eAAe2E,EAAEzE,EAAEC,EAAEM,GAAG,IAAIP,IAAIC,EAAEsD,WAAW,OAAO,MAAMlD,EAAE,GAAG,IAAI,MAAMN,KAAKC,EAAE,CAAC,MAAMA,EAAEC,EAAEsD,WAAWtB,iBAAiBlC,GAAGM,EAAEyC,KAAK9C,EAAEuD,WAAWiC,eAAexF,EAAEO,GAAG,OAAOR,EAAAA,EAAAA,IAAEM,EAAE,C,qECAr0D,SAASL,EAAEC,EAAEM,GAAG,MAAM,IAAIS,EAAEf,EAAEM,GAAGkF,kBAAkB,GAAG,CAAC,SAAS1F,EAAEQ,EAAEP,EAAED,GAAG,MAAMF,GAAEI,EAAAA,EAAAA,IAAEM,EAAEC,SAAS,MAAM,IAAIQ,EAAET,EAAEP,GAAG0F,SAAS,GAAGxB,kBAAkB,GAAGyB,oBAAoB,GAAGC,uBAAuB/F,EAAE,CAACgG,SAAShG,EAAE2C,KAAKsD,YAAY,IAAI,KAAKpE,UAAU3B,EAAE,CAACqF,MAAM,GAAGH,SAAS,GAAGJ,OAAO,GAAGkB,kBAAkB,IAAI,KAAK,CAAC,SAAS/E,EAAEhB,EAAED,GAAG,MAAM,CAACiG,OAAOjG,EAAE+D,KAAI7D,EAAAA,EAAAA,IAAED,EAAEQ,SAASc,OAAOtB,EAAEsB,QAAQf,EAAAA,EAAE0F,aAAa1C,WAAWvD,EAAE,C,4DCA1ZF,eAAeS,EAAEA,EAAEK,EAAEX,EAAEI,EAAEK,EAAEb,EAAEmB,GAAG,IAAIsE,EAAE,KAAK,GAAG,MAAMrF,EAAE,CAAC,MAAMF,EAAE,GAAGQ,eAAeK,EAAEb,EAAEmG,KAAKC,MAAMlG,EAAEmG,UAAUnG,EAAEoG,cAAc,IAAI,MAAM,CAAC3C,KAAK,OAAO4C,gBAAgBtG,EAAAA,EAAAA,GAAEY,EAAE,CAACK,MAAM,CAAC8D,EAAE,UAAU1E,EAAEa,MAAMR,GAAGqD,aAAa,OAAO3C,OAAOJ,KAAKgD,KAAKoC,UAAUnG,EAAEmG,UAAUG,SAAStG,EAAEoG,aAAaG,UAAUvG,EAAEwG,uBAAuBC,UAAU3G,EAAE,CAAC,MAAM4G,GAAG,MAAM9G,GAAGA,EAAE+G,KAAK,oBAAoB,iEAAiEhG,EAAE+F,GAAGrB,EAAEqB,CAAC,CAAC,CAAC,IAAI/F,EAAE,OAAO,KAAK,MAAM0B,EAAE1B,GAAGiG,MAAM,KAAKC,MAAMhG,EAAE,GAAGP,WAAWc,EAAEP,EAAEwB,EAAE,IAAI,MAAM,CAACoB,KAAK,OAAOqD,gBAAgB/G,EAAAA,EAAAA,GAAEqB,EAAE,CAACJ,MAAM,CAAC8D,EAAE,UAAU1E,EAAEa,MAAMR,GAAGqD,aAAa,OAAO3C,OAAOJ,KAAKgD,KAAK0C,UAAU5F,EAAE,CAAC,MAAM6F,GAAG,MAAM,IAAI5G,EAAAA,EAAE,iCAAiC,qBAAqB,CAACiH,UAAU1B,EAAE2B,UAAUN,EAAE7C,IAAIzC,GAAG,CAAC,C,+PCAhzB,IAAIT,EAAE,KAAuB,SAASS,IAAI,OAAOT,CAAC,C,sECAs+C,MAAMsG,EAAEA,IAAI,IAAIC,EAAE,cAAcD,EAAEE,WAAAA,GAAcC,SAASnH,WAAWoH,KAAKC,iBAAiB,KAAKD,KAAKE,WAAW,KAAKF,KAAKG,gBAAgB,KAAKH,KAAKI,SAAS,EAAEJ,KAAKK,SAAS,EAAEL,KAAKM,QAAQ,CAACC,MAAMC,OAAOC,IAAIC,MAAMF,OAAOC,IAAIE,cAAc,IAAIX,KAAKY,UAAU,KAAKZ,KAAKa,kBAAkB,aAAab,KAAKc,MAAM,KAAKd,KAAKe,QAAQ,KAAKf,KAAKgB,UAAU,KAAKhB,KAAKiB,0BAAyB1I,EAAAA,EAAAA,KAAGC,MAAME,EAAEC,EAAEM,KAAK,OAAOP,GAAG,KAAKwI,EAAEC,KAAK,OAAOnB,KAAKoB,MAAMzI,GAAG,KAAKuI,EAAEG,QAAQ,OAAOrB,KAAKsB,QAAQrI,EAAEN,GAAE,GAAI,CAAC4I,oBAAAA,CAAqB7I,EAAEC,GAAG,OAAO6I,EAAE7I,EAAE,CAAC8I,cAAAA,CAAe/I,EAAEC,EAAEM,GAAG,GAAG,MAAMP,GAAG,iBAAiBA,EAAE,CAAC,MAAMD,EAAE,MAAMC,EAAEuH,iBAAiB,IAAIvH,EAAEuH,iBAAiBuB,EAAE7I,IAAID,EAAE,OAAOsF,EAAAA,EAAE0D,SAASjJ,EAAEQ,EAAE,CAAC,MAAMR,EAAEE,EAAEgJ,MAAMpJ,EAAEiJ,EAAE7I,GAAG,OAAO,MAAMJ,GAAG,MAAME,GAAGmJ,SAASC,MAAMC,QAAQrJ,EAAEmJ,SAASnJ,EAAEmJ,OAAOG,MAAMrJ,GAAGA,EAAEsJ,IAAI,KAAK,IAAIhE,EAAAA,EAAE,CAACiE,KAAKxJ,EAAEmJ,OAAO,GAAGM,KAAKzJ,EAAEmJ,OAAO,GAAGO,KAAK1J,EAAEmJ,OAAO,GAAGQ,KAAK3J,EAAEmJ,OAAO,GAAG3B,iBAAiB1H,GAAG,CAAC8J,kBAAAA,CAAmB3J,GAAG,MAAMC,EAAE,CAAC4H,MAAMC,OAAOC,IAAIC,MAAMF,OAAOC,IAAIE,cAAcjI,GAAGO,EAAEP,EAAE6G,MAAM,KAAK,OAAOtG,EAAEJ,QAAQ,IAAIF,EAAE4H,MAAM+B,SAASrJ,EAAE,GAAG,IAAIN,EAAE+H,MAAM4B,SAASrJ,EAAE,GAAG,KAAKN,CAAC,CAAC4J,WAAAA,CAAY7J,EAAEC,GAAG,MAAMM,EAAEN,EAAEgJ,MAAMlJ,EAAE,MAAMQ,EAAEqH,QAAQrH,EAAEqH,QAAQkC,WAAW,GAAG,OAAOxC,KAAKqC,mBAAmB5J,EAAE,CAACgK,mBAAAA,CAAoB/J,GAAG,MAAM,eAAesH,KAAKa,uBAAkB,EAAOnI,CAAC,CAACgK,gBAAAA,CAAiBhK,EAAEC,GAAG,MAAMM,EAAE+G,KAAK/D,YAAY6E,MAAM,GAAG,eAAed,KAAKa,kBAAkB,OAAOb,KAAKxD,KAAIW,EAAAA,EAAAA,IAAE6C,KAAKxD,IAAI7D,EAAEgK,MAAMhK,EAAEgK,KAAK,IAAIlK,EAAEE,EAAEgK,KAAK,IAAIlK,GAAGuH,KAAKxD,IAAI,CAAC,MAAM9D,GAAEkK,EAAAA,EAAAA,IAAE5C,KAAKxD,KAAK,MAAM9D,IAAID,EAAEC,EAAEoI,MAAM,CAAC,MAAM,gCAAgCd,KAAKa,mBAAmB5H,IAAIR,EAAEQ,EAAE,MAAMR,IAAGgF,EAAAA,EAAAA,IAAEhF,EAAE,CAAC,OAAI+D,CAAI9D,GAAG,GAAG,MAAMA,EAAE,YAAYsH,KAAK6C,KAAK,MAAMnK,GAAG,MAAMC,GAAEmK,EAAAA,EAAAA,IAAE,CAACC,MAAM/C,KAAKxD,IAAI9D,EAAEsK,uBAAsB,EAAGC,OAAOxK,EAAAA,EAAEyK,UAAUlD,QAAQA,KAAK6C,KAAK,MAAMlK,EAAE6D,KAAK,MAAM7D,EAAEoI,SAASf,KAAK6C,KAAK,UAAUlK,EAAEoI,QAAQ,CAACoC,QAAAA,CAASzK,EAAEC,EAAEM,EAAER,IAAG4G,EAAAA,EAAAA,IAAEW,KAAKtH,EAAE,SAASC,EAAEF,EAAE,CAAC,aAAI2K,GAAY,MAAM1K,EAAEsH,KAAKqD,KAAK,OAAO1K,GAAEI,EAAAA,EAAAA,IAAEL,GAAG,OAAOC,GAAG,MAAMqH,KAAKe,UAAUpI,EAAEuC,KAAK,GAAGvC,EAAEuC,eAAe8E,KAAKe,WAAWpI,CAAC,CAAC,gCAAM2K,CAA2B5K,EAAEC,GAAGqH,KAAKgB,WAAUuC,EAAAA,EAAAA,GAAEvD,KAAKoD,WAAWlI,MAAM,GAAG8E,KAAKP,SAAS/G,EAAEsH,KAAKwD,iBAAiBxD,KAAKnG,OAAOpB,EAAAA,EAAEyK,UAAUlD,MAAMrH,GAAG,MAAMqH,KAAKE,YAAYF,KAAKE,WAAWuD,MAAMzD,KAAK0D,oBAAoB1D,KAAKgB,UAAU,CAAC0C,aAAAA,CAAchL,GAAG,GAAG,SAASA,GAAG0D,KAAK,CAAC,MAAMzD,EAAED,EAAEoG,UAAUpG,EAAEuG,SAASxG,EAAEC,EAAEsG,UAAU2E,QAAQhL,GAAG,GAAG,MAAMF,GAAGmL,KAAKC,QAAQ,MAAMpL,EAAEmL,IAAIE,SAAS,MAAM,IAAI7K,EAAAA,EAAE,iCAAiC,sBAAsB,GAAGR,EAAEmL,IAAIC,OAAO,GAAG7B,GAAG,MAAMhC,KAAKE,YAAYF,KAAKE,WAAWuD,KAAK,OAAO,MAAMlL,EAAEE,EAAEmL,IAAIE,SAAS/K,EAAEN,EAAEmL,IAAIC,OAAO,GAAGzK,EAAEwF,KAAKmF,KAAKxL,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAIyH,KAAKE,WAAW8D,KAAKjL,EAAEK,EAAE4G,KAAKE,WAAW+D,KAAKlL,EAAEK,CAAC,MAAM,GAAG,SAASV,GAAG0D,KAAK,CAAC,MAAMzD,EAAED,EAAE+G,UAAUyE,IAAI,IAAIrC,MAAMC,QAAQnJ,IAAI,IAAIA,EAAEE,QAAQF,EAAE,GAAGqJ,EAAE,OAAO,MAAM/I,EAAEN,EAAE,GAAGF,EAAEE,EAAE,IAAIuH,WAAW3H,GAAGyH,KAAKzH,IAAIA,EAAEyL,KAAK/K,EAAER,EAAEF,EAAE0L,KAAKhL,EAAER,EAAE,CAAC,CAAC,mBAAM0L,CAAczL,GAAG,GAAG,MAAMsH,KAAKxD,IAAI,MAAM,IAAIvD,EAAAA,EAAE,2BAA2B,oEAAoE,GAAG,MAAM+G,KAAKe,SAAS,mBAAmBqD,KAAKpE,KAAKxD,KAAK,CAAC,MAAM7D,QAAQqH,KAAKqE,mBAAmB3L,GAAG,MAAMC,IAAIqH,KAAKe,QAAQpI,EAAE,CAAC,OAAOqH,KAAKsE,mBAAmB5L,EAAE,CAAC,wBAAM2L,CAAmB3L,GAAG,MAAMO,QAAQN,EAAAA,EAAAA,GAAEqH,KAAKxD,KAAK,GAAG,CAAC7C,MAAM,CAAC8D,EAAE,UAAUuC,KAAKwD,iBAAiB5J,MAAMoG,KAAKnG,QAAQ4C,aAAa,OAAO3C,OAAOpB,IAAI,GAAGO,EAAEyD,MAAMmF,MAAMC,QAAQ7I,EAAEyD,KAAK6H,SAAStL,EAAEyD,KAAK6H,OAAO1L,OAAO,EAAE,OAAOI,EAAEyD,KAAK6H,OAAO,GAAGC,EAAE,CAAC,wBAAMF,CAAmB5L,GAAG,MAAMO,QAAQN,EAAAA,EAAAA,GAAEqH,KAAKoD,WAAWlI,MAAM,GAAG,CAACvB,MAAM,CAAC8D,EAAE,UAAUuC,KAAKwD,iBAAiB5J,MAAMoG,KAAKnG,QAAQ4C,aAAa,OAAO3C,OAAOpB,IAAIO,EAAEwL,KAAKzE,KAAKxD,MAAMwD,KAAKxD,IAAIwD,KAAKxD,IAAIkI,QAAQ,UAAU,WAAW,IAAIjM,GAAE,EAAG,GAAGQ,EAAEyD,KAAKiI,WAAW,UAAU1L,EAAEyD,KAAKiI,YAAYlM,GAAE,GAAIA,EAAE,OAAOuH,KAAK4E,0BAA0B,MAAMrM,EAAEU,EAAEyD,KAAKsD,KAAK6E,KAAKtM,EAAEyH,KAAK8E,sBAAsB9E,KAAK+E,cAAcxM,EAAE,CAAC,6BAAMqM,CAAwBlM,GAAG,MAAMO,SAASN,EAAAA,EAAAA,GAAEqH,KAAKoD,WAAWlI,KAAK,SAAS,CAACvB,MAAM,CAAC8D,EAAE,UAAUuC,KAAKwD,iBAAiB5J,MAAMoG,KAAKnG,QAAQ4C,aAAa,OAAO3C,OAAOpB,KAAKgE,KAAKsD,KAAK6E,KAAK5L,EAAE+G,KAAK8E,sBAAsB9E,KAAK+E,cAAc9L,EAAE,CAAC6L,kBAAAA,GAAqB,MAAM,CAACpG,OAAO,UAAUzC,WAAW+D,KAAK/D,WAAWjC,OAAOgG,KAAK/D,YAAYjC,OAAOwC,IAAIwD,KAAKoD,UAAU,CAAC,2BAAM4B,SAA8BhF,KAAKhH,OAAO,eAAegH,MAAM,mBAAmBA,KAAKiF,kBAAkBjF,KAAKiF,YAAY,CAACF,aAAAA,CAAcrM,GAAG,CAAC,aAAM4I,CAAQ5I,EAAEC,GAAG,MAAMF,EAAE,IAAIyM,KAAKvM,GAAG,IAAIJ,EAAE4M,EAAAA,QAAEC,KAAK1M,GAAG,IAAIH,EAAE,MAAM,IAAIU,EAAAA,EAAE,oCAAoC,gDAA+CoM,EAAAA,EAAAA,GAAE9M,GAAGA,EAAEiM,KAAKjM,EAAEA,EAAE+M,QAAQ/M,EAAEiM,GAAG,MAAM,MAAMzL,EAAER,EAAEyB,QAAQuL,EAAAA,EAAE5G,mBAAmBqB,KAAKgF,wBAAwBzM,EAAE6D,KAAKoJ,EAAEjN,EAAEyB,OAAOjB,EAAE,MAAMK,GAAEqM,EAAAA,EAAAA,GAAElN,EAAE,eAAc,GAAIe,EAAE,CAACiL,OAAO,CAACvE,KAAK0F,MAAM,CAAC,EAAEtM,KAAK,aAAauM,QAAQC,IAAIxM,EAAEgB,UAAUqE,mBAAmB,UAAUuB,KAAK6F,2BAA2BvM,EAAEF,EAAEX,GAAGuH,KAAKxD,MAAMjE,EAAEiE,IAAIwD,KAAKxD,KAAKjE,EAAEuI,QAAQvI,EAAEuI,MAAMd,KAAKc,OAAOgF,EAAEvN,EAAEE,EAAEsN,EAAEC,eAAejN,EAAEkN,eAAelN,EAAEmN,MAAMC,QAAQ,CAACC,KAAK7N,EAAE8N,OAAO5N,GAAG4N,OAAO3J,KAAKpD,WAAWgN,EAAAA,EAAAA,GAAEtG,KAAKuG,mBAAmBnN,GAAG4G,KAAK/D,WAAW1D,GAAEiB,EAAAA,EAAAA,GAAEJ,GAAGA,EAAE6C,WAAW1D,EAAEA,CAAC,CAAC,WAAM6I,CAAM1I,GAAG,MAAMC,EAAE,IAAIuM,KAAKxM,GAAG,IAAIsH,KAAK/D,WAAW,MAAM,IAAIhD,EAAAA,EAAE,mCAAmC,gEAAgE,IAAGoM,EAAAA,EAAAA,GAAErF,KAAK/D,YAAY+D,KAAK/D,WAAWG,OAAOoJ,EAAE,MAAM,IAAIvM,EAAAA,EAAE,sCAAsC,mCAAmCuM,YAAYxF,KAAKgF,wBAAwB,MAAMvM,GAAEgN,EAAAA,EAAAA,GAAEzF,KAAK/D,WAAW,eAAc,GAAI1D,EAAE,CAACgM,OAAO,CAACvE,KAAK0F,MAAM,CAAC,EAAEjN,KAAK,aAAakN,QAAQC,IAAInN,EAAE2B,UAAUqE,mBAAmB,UAAUuB,KAAK6F,2BAA2BtN,EAAEE,EAAEE,GAAGqH,KAAKxD,MAAMwD,KAAK/D,WAAWO,IAAIwD,KAAKxD,KAAKwD,KAAK/D,WAAW6E,QAAQd,KAAK/D,WAAW6E,MAAMd,KAAKc,OAAOgF,EAAE9F,KAAK/D,WAAWtD,EAAEoN,EAAES,oBAAoBC,EAAAA,EAAAA,GAAEzG,KAAK/D,WAAW1D,EAAEyH,KAAKuG,mBAAmB9N,IAAGe,EAAAA,EAAAA,GAAEf,GAAGuH,KAAK/D,UAAU,CAAC,gCAAM4J,CAA2BnN,EAAEC,EAAEJ,GAAG,MAAMQ,EAAER,GAAGmO,mBAAkBC,EAAAA,EAAAA,GAAEhO,EAAE,CAACiO,UAAU,qBAAqB,CAACC,kBAAkB9N,GAAG8N,kBAAkBC,8BAA8B,CAAC,mCAAmC,MAAM1N,EAAEL,GAAGgO,QAAQzN,EAAE0N,IAAI,GAAG5N,GAAGE,EAAE,CAAC,MAAMX,SAASW,KAAK2N,SAASvO,EAAEH,EAAE2O,qBAAqB,IAAIvO,EAAEE,OAAO,OAAO,MAAMO,EAAE,iCAAiCT,EAAEwO,KAAK,QAAQ,GAAG1O,EAAAA,EAAEyK,UAAUlD,MAAMoH,MAAM,iCAAiChO,KAAK,UAAUL,EAAEsO,WAAW,CAAC,MAAM3O,EAAEC,EAAE0B,KAAK3B,GAAG,IAAIO,EAAAA,EAAE,iCAAiCP,KAAK,MAAM,IAAIO,EAAAA,EAAE,8BAA8B,4EAA4E,CAACqO,iBAAiB5O,GAAG,CAAC,CAAC,GAAG,OAAOA,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAEmO,EAAAA,KAAI1H,EAAE2H,UAAU,UAAK,IAAQ9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAKO,EAAAA,KAAKkD,EAAE2H,UAAU,wBAAmB,IAAQ9O,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,GAAE,mBAAmB,CAAC,mBAAmB,iBAAiB,yBAAyBuG,EAAE2H,UAAU,uBAAuB,OAAM9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAK4B,EAAAA,KAAK6B,EAAE2H,UAAU,kBAAa,IAAQ9O,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,GAAE,aAAa,CAAC,aAAa,eAAe,mBAAmB,iBAAiB,yBAAyBuG,EAAE2H,UAAU,iBAAiB,OAAM9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACqO,UAAS,EAAGrL,KAAKrC,EAAAA,KAAK8F,EAAE2H,UAAU,uBAAkB,IAAQ9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAKoE,OAAOkH,KAAK,CAAC/E,KAAK,2BAA2B+C,OAAM,EAAGiC,QAAQ,CAACC,QAAQ,CAAC/C,KAAK,CAACgD,OAAO,YAAYnC,OAAM,QAAS7F,EAAE2H,UAAU,gBAAW,IAAQ9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAKoE,OAAOkH,KAAK,CAAC/E,KAAK,2BAA2B+C,OAAM,EAAGiC,QAAQ,CAACC,QAAQ,CAAC/C,KAAK,CAACgD,OAAO,YAAYnC,OAAM,QAAS7F,EAAE2H,UAAU,gBAAW,IAAQ9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACqO,UAAS,KAAM5H,EAAE2H,UAAU,eAAU,IAAQ9O,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,GAAE,UAAU,CAAC,mBAAmBuG,EAAE2H,UAAU,cAAc,OAAM9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAK0L,OAAOJ,KAAK,CAAC7C,KAAK,CAACgD,OAAO,qBAAqBhI,EAAE2H,UAAU,iBAAY,IAAQ9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAK0L,OAAOJ,KAAK,CAAC7C,MAAK,MAAOhF,EAAE2H,UAAU,yBAAoB,IAAQ9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAK0L,UAAUjI,EAAE2H,UAAU,aAAQ,IAAQ9O,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,GAAE,cAAc,UAAUuG,EAAE2H,UAAU,sBAAsB,OAAM9O,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,GAAE,UAAU,QAAQ,CAAC,UAAUuG,EAAE2H,UAAU,mBAAmB,OAAM9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAKoE,OAAOkH,KAAK,CAACC,QAAQ,CAACC,QAAQ,CAAC/C,KAAK,CAACgD,OAAO,OAAO,cAAc,CAACnC,MAAM,CAAC5I,OAAO,KAAKiL,YAAW,EAAGC,cAAa,GAAInD,MAAK,QAAShF,EAAE2H,UAAU,eAAU,IAAQ9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAEsE,EAAAA,KAAImC,EAAE2H,UAAU,MAAM,OAAM9O,EAAAA,EAAAA,GAAE,EAACsC,EAAAA,EAAAA,GAAE,QAAQ6E,EAAE2H,UAAU,WAAW,OAAM9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,OAAKyG,EAAE2H,UAAU,YAAY,OAAM9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACqO,UAAS,KAAM5H,EAAE2H,UAAU,aAAQ,IAAQ9O,EAAAA,EAAAA,GAAE,EAACU,EAAAA,EAAAA,IAAE,CAACgD,KAAK0L,OAAOL,UAAS,EAAGC,KAAK,CAAC7C,KAAK,CAACgD,OAAO,sBAAsBhI,EAAE2H,UAAU,gBAAW,GAAQ3H,GAAEnH,EAAAA,EAAAA,GAAE,EAACgB,EAAAA,EAAAA,GAAE,oCAAoCmG,GAAGA,CAAC,EAAEmC,GAAG,KAAK,SAASR,EAAE9I,GAAG,GAAG,MAAMA,EAAEuH,iBAAiB,OAAOtD,EAAAA,EAAE+E,SAAShJ,EAAEuH,kBAAkB,MAAMtH,EAAED,EAAEiJ,MAAM1I,EAAEN,EAAEsP,UAAUtP,EAAEuP,cAAczP,EAAEQ,GAAGqJ,SAASrJ,EAAEkP,UAAUlP,EAAEkD,YAAY,KAAK,EAAElD,EAAEJ,QAAQ,IAAI,OAAO,MAAMJ,EAAE,IAAIkE,EAAAA,EAAElE,GAAG,IAAI,CAAC,SAASqN,EAAEpN,EAAEC,EAAEM,GAAGP,EAAE0P,eAAe1P,EAAE0P,aAAa,IAAI,MAAM3P,EAAEE,EAAE0P,kBAAkB,IAAI,MAAM9P,KAAKE,EAAEC,EAAE0P,aAAa5M,KAAKjD,GAAGG,EAAE0P,eAAe1P,EAAE0P,aAAa1P,EAAE0P,aAAaE,QAAQ,CAAC5P,EAAEC,EAAEM,IAAIA,EAAEsP,QAAQ7P,KAAKC,IAAIM,IAAI8M,EAAEC,UAAUtN,EAAE0P,aAAa1P,EAAE0P,aAAaE,QAAQ5P,GAAG,mBAAmBA,KAAK,CAAC,IAAIqN,EAAYrN,KAAgEqN,IAAIA,EAAE,CAAC,IAAlErN,EAAE8N,aAAa,GAAG,eAAe9N,EAAEA,EAAEsN,QAAQ,GAAG,UAAsB,MAAMR,EAAE,gBAAgBN,EAAE,CAACmD,gBAAgBA,IAAI,GAAGnB,oBAAoB,UAAUR,kBAAkB,CAACK,SAAQ,EAAGF,mBAAkB,EAAGQ,WAAW,UAAU,IAAInG,GAAG,SAASxI,GAAGA,EAAEA,EAAEyI,KAAK,GAAG,OAAOzI,EAAEA,EAAE2I,QAAQ,GAAG,SAAS,CAAvD,CAAyDH,IAAIA,EAAE,CAAC,G","sources":["../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/webdoc/support/saveAPIKeyUtils.js","../node_modules/@arcgis/core/webdoc/support/resourceUtils.js","../node_modules/@arcgis/core/portal/support/jsonContext.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js","../node_modules/@arcgis/core/layers/mixins/SceneService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as s}from\"../../core/urlUtils.js\";async function o(e,t={},s){await e.load(s);const o=r(e.itemUrl,\"resources\"),{start:a=1,num:n=10,sortOrder:c=\"asc\",sortField:l=\"resource\"}=t,i={query:{start:a,num:n,sortOrder:c,sortField:l,token:e.apiKey},signal:s?.signal},u=await e.portal.request(o,i);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map((({created:t,size:r,resource:s})=>({created:new Date(t),size:r,resource:e.resourceFromPath(s)})))}}async function a(e,s,o,a){const n=new Map;for(const{resource:r,content:i,compress:u,access:p}of s){if(!r.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const[e,s]=l(r.path),a=`${e}/${u??\"\"}/${p??\"\"}`;n.has(a)||n.set(a,{prefix:e,compress:u,access:p,files:[]});n.get(a).files.push({fileName:s,content:i})}await e.load(a);const c=r(e.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\");for(const{prefix:t,compress:r,access:l,files:i}of n.values()){const s=25;for(let o=0;o<i.length;o+=s){const n=i.slice(o,o+s),u=new FormData;t&&\".\"!==t&&u.append(\"resourcesPrefix\",t),r&&u.append(\"compress\",\"true\"),l&&u.append(\"access\",l);let p=0;for(const{fileName:e,content:t}of n)u.append(\"file\"+ ++p,t,e);u.append(\"f\",\"json\"),await e.portal.request(c,{method:\"post\",body:u,signal:a?.signal})}}}async function n(e,s,o){if(!s.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const a=r(e.userItemUrl,\"removeResources\");await e.portal.request(a,{method:\"post\",query:{resource:s.path},signal:o?.signal}),s.portalItem=null}async function c(e,t){await e.load(t);const s=r(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function i(e){const[t,r]=u(e),[s,o]=l(t);return[s,o,r]}function u(e){const t=s(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}function m(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}export{a as addOrUpdateResources,p as contentToBlob,o as fetchResources,f as getSiblingOfSameType,m as getSiblingOfSameTypeI,c as removeAllResources,n as removeResource,i as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../config.js\";import r from\"../../core/Error.js\";import{supportsApiKey as p}from\"../../support/apiKeyUtils.js\";function i(i){if(o.apiKey&&p(i.portal.url))throw new r(\"save-api-key-utils:api-key-not-supported\",`Saving is not supported on ${i.portal.url} when using an api key`)}export{i as validateSaveAPIKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{allSettledErrors as t,throwIfAborted as r,eachAlways as o}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as a,contentToBlob as c}from\"../../portal/support/resourceUtils.js\";async function p(e,t,r){const o=await u(e,t,r);await h(o,t,r)}async function n(e,t,r,o,s){const a=await u(r,o,s);await e.update({data:t}),await h(a,o,s)}async function u(o,p,n){if(!p?.resources)return;const u=p.portalItem===o.portalItem?new Set(o.paths):new Set;o.paths.length=0,o.portalItem=p.portalItem;const h=new Set(p.resources.toKeep.map((e=>e.resource.path))),i=new Set,m=[];h.forEach((e=>{u.delete(e),o.paths.push(e)}));const f=[],l=[],w=[];for(const e of p.resources.toUpdate)if(u.delete(e.resource.path),h.has(e.resource.path)||i.has(e.resource.path)){const{resource:t,content:r,finish:p}=e,n=a(t,s());o.paths.push(n.path),f.push({resource:n,content:await c(r),compress:e.compress}),p&&w.push((()=>p(n)))}else{o.paths.push(e.resource.path),l.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource))),i.add(e.resource.path)}for(const e of p.resources.toAdd)if(o.paths.push(e.resource.path),u.has(e.resource.path))u.delete(e.resource.path);else{f.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource)))}if(f.length||l.length){const{addOrUpdateResources:e}=await import(\"../../portal/support/resourceUtils.js\");await e(p.portalItem,f,\"add\",n),await e(p.portalItem,l,\"update\",n)}if(w.forEach((e=>e())),0===m.length)return u;const d=await t(m);if(r(n),d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d});return u}async function h(e,t,r){if(!e||!t.portalItem)return;const s=[];for(const o of e){const e=t.portalItem.resourceFromPath(o);s.push(e.portalItem.removeResource(e,r))}await o(s)}export{p as saveResources,n as updateItemWithResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../../core/urlUtils.js\";import r from\"../Portal.js\";function e(t,r){return{...l(t,r),readResourcePaths:[]}}function o(r,e,o){const i=t(r.itemUrl);return{...l(r,e),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:i?{rootPath:i.path,writtenUrls:[]}:null,resources:o?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function l(e,o){return{origin:o,url:t(e.itemUrl),portal:e.portal||r.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";async function r(r,n,t,s,a,i,l){let d=null;if(null!=t){const o=`${r}/nodepages/`,n=o+Math.floor(t.rootIndex/t.nodesPerPage);try{return{type:\"page\",rootPage:(await e(n,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,rootIndex:t.rootIndex,pageSize:t.nodesPerPage,lodMetric:t.lodSelectionMetricType,urlPrefix:o}}catch(g){null!=i&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",n,g),d=g}}if(!n)return null;const p=n?.split(\"/\").pop(),c=`${r}/nodes/`,u=c+p;try{return{type:\"node\",rootNode:(await e(u,{query:{f:\"json\",...s,token:a},responseType:\"json\",signal:l})).data,urlPrefix:c}}catch(g){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:d,nodeError:g,url:u})}}export{r as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nlet n=null;function t(t){n=t}function u(){return n}export{u as getLoader,t as registerLoader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import o from\"../../core/Logger.js\";import{debounce as i}from\"../../core/promiseUtils.js\";import{urlToObject as s}from\"../../core/urlUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as c}from\"../../core/accessorSupport/originUtils.js\";import d from\"../../geometry/Extent.js\";import u from\"../../geometry/HeightModelInfo.js\";import m from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as y,cleanTitle as f,sanitizeUrlWithLayerId as v,writeUrlWithLayerId as g}from\"../support/arcgisLayerUrl.js\";import{id as S,url as w}from\"../support/commonProperties.js\";import{fetchIndexInfo as x}from\"../support/I3SIndexInfo.js\";import{getLoader as I}from\"../support/schemaValidatorLoader.js\";import j from\"../../portal/Portal.js\";import b from\"../../portal/PortalItem.js\";import{createForItemWrite as _}from\"../../portal/support/jsonContext.js\";import{saveResources as E,updateItemWithResources as N}from\"../../webdoc/support/resourceUtils.js\";import{validateSaveAPIKey as A}from\"../../webdoc/support/saveAPIKeyUtils.js\";import{evaluateWriteErrors as R}from\"../../webdoc/support/saveUtils.js\";const L=L=>{let M=class extends L{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=i((async(e,t,r)=>{switch(e){case C.SAVE:return this._save(t);case C.SAVE_AS:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return T(t)}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const o=null==e.spatialReference?{...e,spatialReference:T(t)}:e;return d.fromJSON(o,r)}const o=t.store,i=T(t);return null==i||null==o?.extent||!Array.isArray(o.extent)||o.extent.some((e=>e<U))?null:new d({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\";return this.parseVersionString(o)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem?.title;if(\"item-title\"===this.sublayerTitleMode)return this.url?h(this.url,t.name):t.name;let o=t.name;if(!o&&this.url){const e=y(this.url);null!=e&&(o=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(o=r+\" - \"+o),f(o)}set url(e){if(null==e)return void this._set(\"url\",e);const t=v({layer:this,url:e,nonStandardUrlAllowed:!1,logger:o.getLogger(this)});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){g(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\"),t=s(e);return t&&null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=x(this.parsedUrl?.path??\"\",this.rootNode,e,this.customParameters,this.apiKey,o.getLogger(this),t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===e?.type){const t=e.rootIndex%e.pageSize,o=e.rootPage?.nodes?.[t];if(null==o?.obb?.center||null==o.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(o.obb.center[0]<U||null==this.fullExtent||this.fullExtent.hasZ)return;const i=o.obb.halfSize,s=o.obb.center[2],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);this.fullExtent.zmin=s-a,this.fullExtent.zmax=s+a}else if(\"node\"===e?.type){const t=e.rootNode?.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<U)return;const r=t[2],o=t[3],{fullExtent:i}=this;i&&(i.zmin=r-o,i.zmax=r+o)}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl?.path??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&this.url&&(this.url=this.url.replace(/^http:/i,\"https:\"));let o=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(o=!0),o)return this._fetchVoxelServiceLayer();const i=r.data;this.read(i,this._getServiceContext()),this.validateLayer(i)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl?.path+\"/layer\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,this._getServiceContext()),this.validateLayer(r)}_getServiceContext(){return{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}async _saveAs(e,t){const o={...V,...t};let i=b.from(e);if(!i)throw new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\");A(i),i.id&&(i=i.clone(),i.id=null);const s=i.portal||j.getDefault();await this._ensureLoadBeforeSave(),i.type=K,i.portal=s;const a=_(i,\"portal-item\",!0),n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(n,a,o),this.url&&(i.url=this.url),i.title||(i.title=this.title),O(i,o,P.newItem),await s.signIn(),await(s.user?.addItem({item:i,folder:o?.folder,data:n})),await E(this.resourceReferences,a),this.portalItem=i,c(a),a.portalItem=i,i}async _save(e){const t={...V,...e};if(!this.portalItem)throw new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\");if(A(this.portalItem),this.portalItem.type!==K)throw new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${K}\"`);await this._ensureLoadBeforeSave();const o=_(this.portalItem,\"portal-item\",!0),i={layers:[this.write({},o)]};return await Promise.all(o.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(i,o,t),this.url&&(this.portalItem.url=this.url),this.portalItem.title||(this.portalItem.title=this.title),O(this.portalItem,t,P.existingItem),await N(this.portalItem,i,this.resourceReferences,o),c(o),this.portalItem}async _validateAgainstJSONSchema(e,t,i){const s=i?.validationOptions;R(t,{errorName:\"sceneservice:save\"},{ignoreUnsupported:s?.ignoreUnsupported,supplementalUnsupportedErrors:[\"scenemodification:unsupported\"]});const a=s?.enabled,n=I();if(a&&n){const t=(await n()).validate(e,i.portalItemLayerType);if(!t.length)return;const a=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(o.getLogger(this).error(`_validateAgainstJSONSchema(): ${a}`),\"throw\"===s.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e)));throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{validationErrors:e})}}}};return e([a(S)],M.prototype,\"id\",void 0),e([a({type:m})],M.prototype,\"spatialReference\",void 0),e([n(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],M.prototype,\"readSpatialReference\",null),e([a({type:d})],M.prototype,\"fullExtent\",void 0),e([n(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],M.prototype,\"readFullExtent\",null),e([a({readOnly:!0,type:u})],M.prototype,\"heightModelInfo\",void 0),e([a({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],M.prototype,\"minScale\",void 0),e([a({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],M.prototype,\"maxScale\",void 0),e([a({readOnly:!0})],M.prototype,\"version\",void 0),e([n(\"version\",[\"store.version\"])],M.prototype,\"readVersion\",null),e([a({type:String,json:{read:{source:\"copyrightText\"}}})],M.prototype,\"copyright\",void 0),e([a({type:String,json:{read:!1}})],M.prototype,\"sublayerTitleMode\",void 0),e([a({type:String})],M.prototype,\"title\",void 0),e([n(\"portal-item\",\"title\")],M.prototype,\"readTitlePortalItem\",null),e([n(\"service\",\"title\",[\"name\"])],M.prototype,\"readTitleService\",null),e([a({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],M.prototype,\"layerId\",void 0),e([a(w)],M.prototype,\"url\",null),e([p(\"url\")],M.prototype,\"writeUrl\",null),e([a()],M.prototype,\"parsedUrl\",null),e([a({readOnly:!0})],M.prototype,\"store\",void 0),e([a({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],M.prototype,\"rootNode\",void 0),M=e([l(\"esri.layers.mixins.SceneService\")],M),M},U=-1e38;function T(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf(\"/\")+1,r.length),10);return null!=o?new m(o):null}function O(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),r===P.newItem&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}var P;!function(e){e[e.existingItem=0]=\"existingItem\",e[e.newItem=1]=\"newItem\"}(P||(P={}));const K=\"Scene Service\",V={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};var C;!function(e){e[e.SAVE=0]=\"SAVE\",e[e.SAVE_AS=1]=\"SAVE_AS\"}(C||(C={}));export{C as SaveOperationType,L as SceneService,K as sceneServiceItemType};\n"],"names":["i","async","o","e","t","arguments","length","undefined","s","load","r","itemUrl","start","a","num","n","sortOrder","c","sortField","l","query","token","apiKey","signal","u","portal","request","total","nextStart","resources","map","_ref","created","size","resource","Date","resourceFromPath","Map","content","compress","access","p","hasPath","path","has","set","prefix","files","get","push","fileName","userItemUrl","values","slice","FormData","append","method","body","portalItem","deleteAll","lastIndexOf","type","blob","Blob","jsonString","url","responseType","data","m","writtenProperties","forEach","target","propName","newOrigin","originOf","updateOrigin","h","update","Set","paths","toKeep","delete","f","w","toUpdate","finish","add","toAdd","addOrUpdateResources","d","errors","removeResource","readResourcePaths","messages","blockedRelativeUrls","verifyItemRelativeUrls","rootPath","writtenUrls","pendingOperations","origin","getDefault","Math","floor","rootIndex","nodesPerPage","rootPage","pageSize","lodMetric","lodSelectionMetricType","urlPrefix","g","warn","split","pop","rootNode","pageError","nodeError","L","M","constructor","super","this","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","Number","NaN","minor","versionString","copyright","sublayerTitleMode","title","layerId","indexInfo","_debouncedSaveOperations","C","SAVE","_save","SAVE_AS","_saveAs","readSpatialReference","T","readFullExtent","fromJSON","store","extent","Array","isArray","some","U","xmin","ymin","xmax","ymax","parseVersionString","parseInt","readVersion","toString","readTitlePortalItem","readTitleService","name","y","_set","v","layer","nonStandardUrlAllowed","logger","getLogger","writeUrl","parsedUrl","_get","_fetchIndexAndUpdateExtent","x","customParameters","hasZ","_updateExtent","nodes","obb","center","halfSize","sqrt","zmin","zmax","mbs","_fetchService","test","_fetchFirstLayerId","_fetchServiceLayer","layers","id","ssl","replace","layerType","_fetchVoxelServiceLayer","read","_getServiceContext","validateLayer","_ensureLoadBeforeSave","beforeSave","V","b","from","A","clone","j","K","_","write","Promise","all","_validateAgainstJSONSchema","O","P","newItem","signIn","user","addItem","item","folder","E","resourceReferences","existingItem","N","validationOptions","R","errorName","ignoreUnsupported","supplementalUnsupportedErrors","enabled","I","validate","portalItemLayerType","join","error","failPolicy","validationErrors","S","prototype","readOnly","json","origins","service","source","String","isRequired","ignoreOrigin","indexCRS","geographicCRS","substring","typeKeywords","getTypeKeywords","filter","indexOf"],"sourceRoot":""}