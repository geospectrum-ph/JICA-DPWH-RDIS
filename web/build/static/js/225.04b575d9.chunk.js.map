{"version":3,"file":"static/js/225.04b575d9.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/MediaElementView.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/core/perspectiveUtils.js","../node_modules/@arcgis/core/views/3d/layers/support/MediaLayerInteraction.js","../node_modules/@arcgis/core/views/3d/layers/support/MediaLayerInteractionOptions.js","../node_modules/@arcgis/core/views/layers/MediaLayerView.js","../node_modules/@arcgis/core/views/3d/layers/MediaLayerView3D.js","../node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingManagerPool.js","../node_modules/@arcgis/core/views/interactive/snapping/allLayerSnapping.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/Polygon.js\";import{projectOrLoad as n}from\"../../geometry/projection.js\";import{fromExtent as p}from\"../../geometry/support/aaBoundingRect.js\";import{normalizeCentralMeridianSync as l}from\"../../geometry/support/normalizeUtilsSync.js\";let m=class extends r{constructor(o){super(o)}get bounds(){const o=this.coords;return null==o?.extent?null:p(o.extent)}get coords(){const o=this.element.georeference?.coords;return n(o,this.spatialReference).geometry}get normalizedCoords(){return s.fromJSON(l(this.coords))}get normalizedBounds(){const o=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=o?p(o):null}};o([e()],m.prototype,\"spatialReference\",void 0),o([e()],m.prototype,\"element\",void 0),o([e()],m.prototype,\"bounds\",null),o([e()],m.prototype,\"coords\",null),o([e()],m.prototype,\"normalizedCoords\",null),o([e()],m.prototype,\"normalizedBounds\",null),m=o([t(\"esri.layers.support.MediaElementView\")],m);export{m as MediaElementView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as i}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const f=new n,{vertex:u,fragment:m}=f;return t(u,v),f.include(o,v),f.attributes.add(c.POSITION,\"vec3\"),f.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&f.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),f.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&f.varyings.add(\"depth\",\"float\"),u.code.add(d`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),f.include(r,v),f.include(i,v),m.uniforms.add(new p(\"tex\",(e=>e.texture)),new l(\"opacity\",(e=>e.opacity))),f.varyings.add(\"vTexCoord\",\"vec2\"),v.transparencyPassType===g.ColorAlpha&&(f.outputs.add(\"fragColor\",\"vec4\",0),f.outputs.add(\"fragAlpha\",\"float\",1)),m.include(a),m.code.add(d`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${d.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.ColorAlpha?d`\n              fragColor = premultiplyAlpha(fragColor);\n              fragAlpha = fragColor.a;`:\"\"}\n      ${v.output===e.ObjectAndLayerIdColor?d`\n              fragColor = vec4(0,0,0,1);`:\"\"}\n    }\n    `),f}const f=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{f as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{transpose as t,multiply as r,adjoint as s,set as i}from\"./libs/gl-matrix-2/math/mat3.js\";import{create as m}from\"./libs/gl-matrix-2/factories/mat3f64.js\";import{set as o}from\"./libs/gl-matrix-2/math/vec2.js\";import{s as a,t as e}from\"../chunks/vec32.js\";import{create as c}from\"./libs/gl-matrix-2/factories/vec3f64.js\";const f=c(),n=m(),l=m(),u=m();function p(r,s,i){return a(f,s[0],s[1],1),e(f,f,t(n,i)),0===f[2]?o(r,f[0],f[1]):o(r,f[0]/f[2],f[1]/f[2])}function j(t,i,m){return x(l,i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]),x(u,m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7]),r(t,s(l,l),u),0!==t[8]&&(t[0]/=t[8],t[1]/=t[8],t[2]/=t[8],t[3]/=t[8],t[4]/=t[8],t[5]/=t[8],t[6]/=t[8],t[7]/=t[8],t[8]/=t[8]),t}function x(m,o,c,l,u,p,j,x,b){i(m,o,l,p,c,u,j,1,1,1),a(f,x,b,1),s(n,m);const[g,h,v]=e(f,f,t(n,n));return i(n,g,0,0,0,h,0,0,0,v),r(m,n,m)}export{j as getProjectiveTransform,p as transformProjective};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{destroyHandle as o,makeHandle as i}from\"../../../../core/handleUtils.js\";import{deg2rad as s}from\"../../../../core/mathUtils.js\";import{abortMaybe as r,destroyMaybe as n}from\"../../../../core/maybe.js\";import{debounce as a}from\"../../../../core/promiseUtils.js\";import{initial as l}from\"../../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as d}from\"../../../../core/unitUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as h}from\"../../../../core/libs/gl-matrix-2/math/mat2d.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat2df64.js\";import{set as _,transformMat2d as g}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as u}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{ViewEventPriorities as f}from\"../../../input/InputManager.js\";import{mediaKeys as v,KeyBindings as b}from\"../../../interactive/keybindings.js\";import{acquire as T}from\"../../../interactive/snapping/SnappingManagerPool.js\";const j=Symbol(),w=Symbol(),E=1,M=10;let O=class extends t{get updating(){return this._updatingHandles.updating}get _preferredInteractionTool(){return this.options?.tool??\"transform\"}get _toolType(){switch(this._preferredInteractionTool){case\"transform\":return\"transform-3d\";case\"reshape\":return\"reshape-3d\"}}get _validatedSelectedElement(){const e=this.selectedElement;if(!e)return null;const{layer:{source:t}}=this;return t?\"hasElement\"in t?t.hasElement(e)?e:null:t===e?e:null:null}constructor(e){super(e),this.enabled=!1,this._updatingHandles=new y,this._isOpacityToggled=!1,this._factor=E,this._tool=null,this._object=null,this._createToolAbortController=null,this._onPointerMove=a((async e=>{const t=await this._updatingHandles.addPromise(this._findElementAtScreenPoint(e));this.destroyed||(this.removeHandles(w),t&&t!==this.selectedElement&&(this.view.cursor=\"pointer\",this.addHandles(i((()=>this.view.cursor=null)),w)))})),this._tmpMat2=m(),this._tmpVec2=u()}destroy(){this._createToolAbortController=r(this._createToolAbortController)}initialize(){this.addHandles([o(this._updatingHandles),this._updatingHandles.add((()=>this.enabled),(e=>this._enableDisable(e)),l),this._updatingHandles.add((()=>this._preferredInteractionTool),(e=>this._preferredInteractionToolChanged(e)))])}_enableDisable(e){if(!e)return void this.removeHandles(j);this._dynamicImports();const{view:t}=this,o=new b;o.add(v.undo,(()=>{this._object?.operations?.undo(),this._object?.emit(\"modified-externally\")})),o.add(v.redo,(()=>{this._object?.operations?.redo(),this._object?.emit(\"modified-externally\")})),o.addToggle(v.preserveAspectRatio,(e=>{\"transform-3d\"===this._tool?.type&&(this._tool.preserveAspectRatio=\"key-down\"===e.type)})),o.addToggle(v.rotateIncrements,(e=>{\"transform-3d\"===this._tool?.type&&(this._tool.snapRotation=\"key-down\"===e.type)})),o.add(v.toggleOpacity,(()=>{const e=this._object?.element;e&&(e.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)})),o.add(v.moveUp,(()=>this._move(0,this._factor))),o.add(v.moveDown,(()=>this._move(0,-this._factor))),o.add(v.moveRight,(()=>this._move(this._factor,0))),o.add(v.moveLeft,(()=>this._move(-this._factor,0))),o.addToggle(v.factorModifier,(e=>this._factor=\"key-down\"===e.type?M:E)),this._isOpacityToggled=!1,this.addHandles([o.register(t,f.TOOL),i((()=>{this._isOpacityToggled&&this.selectedElement&&(this.selectedElement.opacity*=2,this._isOpacityToggled=!1)})),t.on(\"immediate-click\",(e=>this._onClick(e)),f.TOOL),t.on(\"pointer-move\",(e=>this._onPointerMove(e).catch((()=>{}))),f.TOOL),this._updatingHandles.add((()=>this._validatedSelectedElement),((e,t)=>{t&&e!==t&&this._isOpacityToggled&&(t.opacity*=2,this._isOpacityToggled=!1),this._selectedElementChanged(e)}),l),i((()=>{t.cursor=null,this._removeTool()}))],j)}async _onClick(e){await this._updatingHandles.addPromise(e.async((async()=>{const t=await this._findElementAtScreenPoint(e);this.destroyed||(t&&e.stopPropagation(),this.selectedElement=t,this.selectedElement&&(this.view.cursor=null))})))}async _selectedElementChanged(e){e?.georeference?this._object?.element!==e&&await this._updatingHandles.addPromise(this._recreateTool()):this._removeTool()}async _recreateTool(){this._createToolAbortController=r(this._createToolAbortController),this._removeTool();const e=this._validatedSelectedElement;if(!e)return;const t=new AbortController;this._createToolAbortController=t;const{ManipulatedObject3DMediaElement:o,ExtentTransformTool:s,ReshapeTool3D:a}=await this._dynamicImports();if(t.signal.aborted)return;const{view:l,layer:d,_toolType:c}=this;switch(this._object=new o({view:l,layer:d,element:e,tool:this._preferredInteractionTool}),c){case\"transform-3d\":{this._tool=new s({view:l,object:this._object});const e=l.inputManager;e.isModifierKeyDown(v.rotateIncrements.key)&&(this._tool.snapRotation=!0),e.isModifierKeyDown(v.preserveAspectRatio.key)&&(this._tool.preserveAspectRatio=!0)}break;case\"reshape-3d\":{const e=T(l);this.addHandles(e,this._tool);const{snappingManager:t}=e;this._tool=new a({view:l,object:this._object,enableMidpoints:!1,enableZShape:!1,snappingManager:t,enableMoveObject:!1,autoHideManipulators:!0,enableDeleteVertices:!1})}}this.addHandles([i((()=>{this._object=n(this._object),this._tool&&(l.tools.remove(this._tool),this._tool=null)}))],this._tool),l.addAndActivateTool(this._tool)}_preferredInteractionToolChanged(e){const{_tool:t}=this;if(!t)return;if(this._toolType!==t.type)return void this._updatingHandles.addPromise(this._recreateTool());const{_object:o}=this;o&&(o.tool=e)}async _dynamicImports(){const[{ManipulatedObject3DMediaElement:e},{ExtentTransformTool:t,ReshapeTool3D:o}]=await Promise.all([import(\"../../interactive/editingTools/ManipulatedObject3DMediaElement.js\"),import(\"../../interactive/editingTools.js\")]);return{ManipulatedObject3DMediaElement:e,ExtentTransformTool:t,ReshapeTool3D:o}}async _findElementAtScreenPoint(e){const t=(await this.view.hitTest(e,{include:[this.layer]})).results[0];return\"media\"===t?.type?t.element:null}_removeTool(){this._tool&&this.removeHandles(this._tool)}_move(e,t){const{view:o,_object:i}=this,r=i?.operations;if(!r)return;const n=o.overlayPixelSizeInMapUnits(o.pointsOfInterest.focus.location)*d(o.spatialReference)/d(r.data.spatialReference),{_tmpMat2:a,_tmpVec2:l}=this,c=h(a,s(360-this.view.camera.heading)),p=_(l,n*e,n*t);g(p,p,c),r.move(p[0],p[1],0),i.emit(\"modified-externally\")}};e([c({constructOnly:!0})],O.prototype,\"view\",void 0),e([c({constructOnly:!0})],O.prototype,\"layer\",void 0),e([c()],O.prototype,\"selectedElement\",void 0),e([c()],O.prototype,\"enabled\",void 0),e([c()],O.prototype,\"options\",void 0),e([c()],O.prototype,\"updating\",null),e([c()],O.prototype,\"_preferredInteractionTool\",null),e([c()],O.prototype,\"_validatedSelectedElement\",null),O=e([p(\"esri.views.3d.layers.support.MediaLayerInteraction\")],O);export{O as MediaLayerInteraction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(){super(...arguments),this.tool=\"transform\"}};o([s()],e.prototype,\"tool\",void 0),e=o([t(\"esri.views.3d.layers.support.MediaLayerInteractionOptions\")],e);export{e as MediaLayerInteractionOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{MediaLayerInteractionOptions as r}from\"../3d/layers/support/MediaLayerInteractionOptions.js\";const s=s=>{let i=class extends s{constructor(...e){super(...e),this.layer=null,this.interactive=!1,this.interactionOptions=new r,this.selectedElement=null}};return e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"interactive\",void 0),e([t()],i.prototype,\"interactionOptions\",void 0),e([t()],i.prototype,\"selectedElement\",void 0),i=e([o(\"esri.views.layers.MediaLayerView\")],i),i};export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{makeHandle as r,handlesGroup as i,destroyHandle as n}from\"../../../core/handleUtils.js\";import\"../../../core/has.js\";import{getProjectiveTransform as a}from\"../../../core/perspectiveUtils.js\";import{debounce as s,isPromiseLike as o}from\"../../../core/promiseUtils.js\";import{watch as l,on as d,syncAndInitial as m}from\"../../../core/reactiveUtils.js\";import{property as c}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{toExtent as u}from\"../../../geometry/support/aaBoundingRect.js\";import{MediaElementView as y}from\"../../../layers/support/MediaElementView.js\";import{DrapeSourceType as g}from\"./interfaces.js\";import{LayerView3D as _}from\"./LayerView3D.js\";import{MediaLayerInteraction as f}from\"./support/MediaLayerInteraction.js\";import{drapedZ as E}from\"../terrain/OverlayRenderer.js\";import{Attribute as D}from\"../webgl-engine/lib/Attribute.js\";import{Geometry as w}from\"../webgl-engine/lib/Geometry.js\";import{DirtyOperation as v,DirtyState as b}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as R}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as j}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as A}from\"../webgl-engine/lib/UpdatePolicy.js\";import{VertexAttribute as T}from\"../webgl-engine/lib/VertexAttribute.js\";import{ImageMaterial as x}from\"../webgl-engine/materials/ImageMaterial.js\";import P from\"../../layers/LayerView.js\";import M from\"../../layers/MediaLayerView.js\";import{isInEffectiveScaleRange as S}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as G}from\"../../webgl/enums.js\";let I=class extends(_(M(P))){get interactive(){return this._interaction.enabled}set interactive(e){this._interaction&&(this._interaction.enabled=e)}get selectedElement(){return this._interaction.selectedElement}set selectedElement(e){this._interaction&&(this._interaction.selectedElement=e)}get visibleAtCurrentScale(){return S(this.layer.effectiveScaleRange,this.view.terrainScale)}constructor(e){super(e),this.type=\"media-3d\",this.drapeSourceType=g.RasterImage,this.updatePolicy=A.ASYNC,this._uidToElement=new Map,this._renderedElements=new Map,this._lastDrapingExtent=null,this._update=s((async(e,t,r)=>{const i=await this._collectMediaElements(e,t,r);this._synchronizeRenderElements(i)}),0);const{view:t,layer:r}=e;this._interaction=new f({view:t,layer:r}),this.addHandles(l((()=>this.interactionOptions),(e=>this._interaction.options=e),m))}initialize(){const{view:e,layer:t}=this;this._renderer=e.basemapTerrain.overlayManager.registerGeometryDrapeSource(this);const i=()=>this._updateWithLastDrapingExtent();this.addHandles([r((()=>e.basemapTerrain.overlayManager.unregisterDrapeSource(this))),d((()=>t.effectiveSource),\"change\",i),d((()=>t.effectiveSource),\"refresh\",i)]),this._updatingHandles.add((()=>this.suspended),i)}setDrapingExtent(e,t){this._lastDrapingExtent={overlays:e,spatialReference:t},this._updateWithLastDrapingExtent()}getHit(e){const t=this._uidToElement.get(e);return t?{type:\"media\",element:t,layer:this.layer}:null}isUpdating(){return super.isUpdating()||this._interaction.updating}_updateWithLastDrapingExtent(){if(null==this._lastDrapingExtent||this.suspended)return void(this._renderer&&this._synchronizeRenderElements(new Set));const{overlays:e,spatialReference:t}=this._lastDrapingExtent;this._updatingHandles.addPromise(this._update(e,t).catch((()=>{})))}async _collectMediaElements(e,t,r){const i=this.layer.effectiveSource;return null==i?new Set:new Set((await Promise.all(e.map((e=>i.queryElements(u(e.extent,t),{signal:r}))))).flat())}_synchronizeRenderElements(e){this._synchronizeRenderElementsRemove(e),this._synchronizeRenderElementsAdd(e)}_synchronizeRenderElementsRemove(e){const t=[];this._renderedElements.forEach(((r,i)=>{e.has(i)||(null!=r.renderData&&t.push(r.renderData.renderGeometry),this._removeElement(i,r),this.emit(\"element-render-changed\",{element:i}))}))}_synchronizeRenderElementsAdd(e){for(const t of e)this._renderedElements.has(t)||this._createRenderElement(t)}_removeElement(e,{renderData:t,handle:r}){this._destroyRenderData(e,t),this._renderedElements.delete(e),this._uidToElement.delete(e.uid),r.remove()}async _createRenderElement(e){const t=new y({spatialReference:this.view.spatialReference,element:e}),r={renderData:null,handle:i([this._updatingHandles.add((()=>e.opacity),(e=>{null!=r.renderData&&r.renderData.material.setParameters({opacity:e})})),this._updatingHandles.add((()=>t.coords),(()=>{null!=r.renderData?this._updateGeometry(t,r,r.renderData):this._initializeRenderData(t,r)})),this._updatingHandles.add((()=>e.content),(()=>this._initializeRenderData(t,r))),n(t)])};this._renderedElements.set(e,r),this._uidToElement.set(e.uid,e),this._updatingHandles.addPromise(e.load().catch((()=>{}))),this._initializeRenderData(t,r)}_initializeRenderData(e,t){const{coords:r,element:i}=e,{contentWidth:n,contentHeight:a}=i;if(null==r||null==i.content)return void(t.renderData=this._destroyRenderData(i,t.renderData));if(null!=t.renderData)return;const s=this._createTexture(i.content),l=s.load(this.view._stage.renderView.renderingContext);this.view._stage.add(s),o(l)&&this._updatingHandles.addPromise(l);const d=new x({initTextureTransparent:!0,textureId:s.id,opacity:i.opacity,transparent:!0,perspectiveInterpolation:!0}),m=this._getPositionAttributeArray(r),c=[0,0,1,0,1,1,0,1],p=this._getPerspectiveDivideAttributeArray(m,n,a),h=[0,1,2,0,2,3],u=new w(d,[[T.POSITION,new D(m,h,3,!0)],[T.UV0,new D(c,h,2,!0)],[T.PERSPECTIVEDIVIDE,new D(p,h,1,!0)]]),y=new R(u,{layerUid:this.layer.uid,graphicUid:i.uid});this._renderer.addGeometries([y],v.ADD),t.renderData={renderGeometry:y,texture:s,material:d},this.emit(\"element-render-changed\",{element:i})}_updateGeometry(e,t,r){const{coords:i,element:n}=e;if(null==i||null==n.content)return void(t.renderData=this._destroyRenderData(n,t.renderData));const a=this._getPositionAttributeArray(i);r.renderGeometry.geometry.setAttributeData(T.POSITION,a);const s=this._getPerspectiveDivideAttributeArray(a,n.contentWidth,n.contentHeight);r.renderGeometry.geometry.setAttributeData(T.PERSPECTIVEDIVIDE,s),r.renderGeometry.geometry.invalidateBoundingInfo(),this._renderer.modifyGeometries([r.renderGeometry],b.GEOMETRY),this.emit(\"element-render-changed\",{element:n})}_getPositionAttributeArray(e){const[t,r,i,n]=e.rings[0];return[t[0],t[1],E,n[0],n[1],E,i[0],i[1],E,r[0],r[1],E]}_getPerspectiveDivideAttributeArray(e,t,r){a(H,[0,0,t,0,t,r,0,r],[e[0],e[1],e[3],e[4],e[6],e[7],e[9],e[10]]);const i=H[6]/H[8]*t,n=H[7]/H[8]*r;return[1,1+i,1+i+n,1+n]}_destroyRenderData(e,t){if(null==t)return null;const r=t.texture;return r.unload(),this.view._stage.remove(r),this._renderer.removeGeometries([t.renderGeometry],v.REMOVE),this.emit(\"element-render-changed\",{element:e}),null}_createTexture(e){const r=e instanceof HTMLImageElement?e.naturalWidth:e.width,i=e instanceof HTMLImageElement?e.naturalHeight:e.height;if(\"getFrame\"in e)throw new t(\"media-layer-view-3d\",\"animation is not supported\");return new j(e,{wrap:{s:G.CLAMP_TO_EDGE,t:G.CLAMP_TO_EDGE},preMultiplyAlpha:!0,width:r,height:i,mipmap:!0,updateCallback:()=>this.view.basemapTerrain.overlayManager.setDrawTexturesDirty()})}get test(){}};e([c({readOnly:!0})],I.prototype,\"type\",void 0),e([c()],I.prototype,\"layer\",void 0),e([c()],I.prototype,\"interactive\",null),e([c()],I.prototype,\"selectedElement\",null),e([c({readOnly:!0})],I.prototype,\"visibleAtCurrentScale\",null),I=e([p(\"esri.views.3d.layers.MediaLayerView3D\")],I);const H=h(),L=I;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isSerializable as t}from\"../../core/JSONSupport.js\";import{create as i}from\"./aaBoundingRect.js\";import{getBoundsXY as s}from\"./boundsUtils.js\";import{closeRings as n}from\"./coordsUtils.js\";import{isPoint as e,isMultipoint as h,isExtent as o,isPolygon as u,isPolyline as r}from\"./jsonUtils.js\";import{cutParams as m,updatePolyGeometry as x,offsetMagnitude as _}from\"./normalizeUtilsCommon.js\";import{getInfo as l,isWebMercator as c}from\"./spatialReferenceUtils.js\";function p(t){return f(t,!0)}function a(t){return f(t,!1)}function f(i,n){if(null==i)return null;const p=i.spatialReference,a=l(p),f=t(i)?i.toJSON():i;if(!a)return f;const I=c(p)?102100:4326,g=m[I].maxX,v=m[I].minX;if(e(f))return y(f,g,v);if(h(f))return f.points=f.points.map((t=>y(t,g,v))),f;if(o(f))return d(f,a);if(u(f)||r(f)){const t=s(S,f),i={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},e=_(i.xmin,v)*(2*g),h=0===e?f:x(f,e);return i.xmin+=e,i.xmax+=e,i.xmax>g?C(h,g,n):i.xmin<v?C(h,v,n):h}return f}function d(t,i){if(!i)return t;const s=I(t,i).map((t=>t.extent));return s.length<2?s[0]||t:s.length>2?(t.xmin=i.valid[0],t.xmax=i.valid[1],t):{rings:s.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}function y(t,i,s){if(Array.isArray(t)){const n=t[0];if(n>i){const s=_(n,i);t[0]=n+s*(-2*i)}else if(n<s){const i=_(n,s);t[0]=n+i*(-2*s)}}else{const n=t.x;if(n>i){const s=_(n,i);t.x+=s*(-2*i)}else if(n<s){const i=_(n,s);t.x+=i*(-2*s)}}return t}function I(t,i){const s=[],{ymin:n,ymax:e,xmin:h,xmax:o}=t,u=t.xmax-t.xmin,[r,m]=i.valid,{x,frameId:_}=g(t.xmin,i),{x:l,frameId:c}=g(t.xmax,i),p=x===l&&u>0;if(u>2*m){const t={xmin:h<o?x:l,ymin:n,xmax:m,ymax:e},i={xmin:r,ymin:n,xmax:h<o?l:x,ymax:e},u={xmin:0,ymin:n,xmax:m,ymax:e},p={xmin:r,ymin:n,xmax:0,ymax:e},a=[],f=[];v(t,u)&&a.push(_),v(t,p)&&f.push(_),v(i,u)&&a.push(c),v(i,p)&&f.push(c);for(let s=_+1;s<c;s++)a.push(s),f.push(s);s.push(new P(t,[_]),new P(i,[c]),new P(u,a),new P(p,f))}else x>l||p?s.push(new P({xmin:x,ymin:n,xmax:m,ymax:e},[_]),new P({xmin:r,ymin:n,xmax:l,ymax:e},[c])):s.push(new P({xmin:x,ymin:n,xmax:l,ymax:e},[_]));return s}function g(t,i){const[s,n]=i.valid,e=2*n;let h,o=0;return t>n?(h=Math.ceil(Math.abs(t-n)/e),t-=h*e,o=h):t<s&&(h=Math.ceil(Math.abs(t-s)/e),t+=h*e,o=-h),{x:t,frameId:o}}function v(t,i){const{xmin:s,ymin:n,xmax:e,ymax:h}=i;return O(t,s,n)&&O(t,s,h)&&O(t,e,h)&&O(t,e,n)}function O(t,i,s){return i>=t.xmin&&i<=t.xmax&&s>=t.ymin&&s<=t.ymax}function C(t,i,s=!0){const e=!r(t);if(e&&n(t),s){return(new T).cut(t,i)}const h=e?t.rings:t.paths,o=e?4:2,u=h.length,m=-2*i;for(let n=0;n<u;n++){const t=h[n];if(t&&t.length>=o){const i=[];for(const s of t)i.push([s[0]+m,s[1]]);h.push(i)}}return e?t.rings=h:t.paths=h,t}class P{constructor(t,i){this.extent=t,this.frameIds=i}}const S=i();class T{constructor(){this._linesIn=[],this._linesOut=[]}cut(t,i){let s;if(this._xCut=i,t.rings)this._closed=!0,s=t.rings,this._minPts=4;else{if(!t.paths)return null;this._closed=!1,s=t.paths,this._minPts=2}for(const e of s){if(!e||e.length<this._minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),s=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&s.push(e);const n=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=n;s.push(e)}return this._closed?t.rings=s:t.paths=s,t}moveTo(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t}lineTo(t){const i=this._side(t[0]);if(i*this._prevSide==-1){const s=this._intersect(this._prevPt,t);this._lineTo(this._xCut,s,0),this._prevSide=0,this._lineTo(t[0],t[1],i)}else this._lineTo(t[0],t[1],i);this._prevSide=i,this._prevPt=t}close(){const t=this._firstPt,i=this._prevPt;t[0]===i[0]&&t[1]===i[1]||this.lineTo(t),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(t,i,s){this._closed?(this._lineIn.push([s<=0?t:this._xCut,i]),this._lineOut.push([s>=0?t:this._xCut,i])):(s<=0&&this._lineIn.push([t,i]),s>=0&&this._lineOut.push([t,i]))}_lineTo(t,i,s){this._closed?(j(this._lineIn,s<=0?t:this._xCut,i),j(this._lineOut,s>=0?t:this._xCut,i)):s<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([t,i])):s>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([t,i])):this._prevSide<0?(this._lineIn.push([t,i]),this._lineOut.push([t,i])):this._prevSide>0&&(this._lineOut.push([t,i]),this._lineIn.push([t,i]))}_checkClosingPt(t){const i=t.length;i>3&&t[0][0]===this._xCut&&t[i-2][0]===this._xCut&&t[1][0]===this._xCut&&(t[0][1]=t[i-2][1],t.pop())}_side(t){return t<this._xCut?-1:t>this._xCut?1:0}_intersect(t,i){const s=(this._xCut-t[0])/(i[0]-t[0]);return t[1]+s*(i[1]-t[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}function j(t,i,s){const n=t.length;n>1&&t[n-1][0]===i&&t[n-2][0]===i?t[n-1][1]=s:t.push([i,s])}export{T as CutVertical,a as normalizeCentralMeridianForDisplay,p as normalizeCentralMeridianSync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,oitDrawBuffers as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as O,makePipelineState as j,cullingParams as S,defaultDepthWriteParams as v,defaultColorWriteParams as I}from\"../../../webgl/renderState.js\";class N extends r{}class E extends o{initializeProgram(e){return new h(e.rctx,E.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const i=this.configuration,o=e===y.NONE,s=e===y.FrontFace;return j({blending:i.output===t.Color&&i.transparent?o?w:a(e):null,culling:S(i.cullFace),depthTest:{func:l(e)},depthWrite:o?i.writeDepth?v:null:p(e),drawBuffers:c(e),colorWrite:I,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:o||s?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}E.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const w=O(T.ONE,T.ONE_MINUS_SRC_ALPHA);class C extends P{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:y.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[b.POSITION,0],[b.UV0,2],[b.PERSPECTIVEDIVIDE,3]]);export{N as ImageMaterialPassParameters,E as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isOIDorHighlight as t,isColor as r,ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as d}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,ImageMaterialTechniqueConfiguration as E,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";class g extends m{constructor(e){super(e,new P),this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>t(e)||r(e)&&!this.parameters.transparent],[p.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.transparent&&this.parameters.writeDepth],[p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>r(e)&&this.parameters.transparent&&!this.parameters.writeDepth],[p.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._vertexAttributeLocations=_,this._configuration=new E}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=h.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new b(e)}}class I extends i{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(T,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output===s.Color&&this._updateOccludeeState(e),this._updateParameters(e)}}class b extends l{write(t,r,s,a,i){for(const n of this.vertexBufferLayout.fields.keys()){const o=s.attributes.get(n);if(o)if(n===c.PERSPECTIVEDIVIDE){u(1===o.size);const t=a.getField(n,e);t&&f(o,t,i)}else d(n,o,t,r,a,i)}}}class P extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{g as ImageMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../core/handleUtils.js\";import{nextTick as n}from\"../../../core/nextTick.js\";import{makeAllLayerSnappingOptions as r}from\"./allLayerSnapping.js\";import{FeatureSnappingEngine as o}from\"./FeatureSnappingEngine.js\";import{SnappingManager as t}from\"./SnappingManager.js\";const i=new Map;function a(n){if(!i.has(n)){const e=r(n,{distance:10}),o=s(n,e.options);i.set(n,{referenceCount:0,snappingManager:o,remove:()=>{e.remove(),o.destroy()}})}const o=i.get(n);o.referenceCount++;const t=e((()=>p(n,o)));return{snappingManager:o.snappingManager,...t}}function p(e,r){r.referenceCount--,r.referenceCount>0||n((()=>{0===r.referenceCount&&(r.remove(),i.delete(e))}))}function s(e,n){return new t({view:e,options:n,snappingEnginesFactory:(n,r)=>[new o({view:e,spatialReference:e.spatialReference,options:r})]})}export{a as acquire};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Collection.js\";import{watch as t,initial as i}from\"../../../core/reactiveUtils.js\";import r from\"./FeatureSnappingLayerSource.js\";import{defaults as o}from\"./Settings.js\";import n from\"./SnappingOptions.js\";function a(a,s){const p=new n({enabled:!0,selfEnabled:!1,featureEnabled:!0,distance:s?.distance??o.distance,touchSensitivityMultiplier:s?.touchSensitivityMultiplier??o.touchSensitivityMultiplier});return{...t((()=>a.map?.allLayers?.toArray()??[]),(t=>{p.featureSources=new e(t.map((e=>new r({layer:e}))))}),i),options:p}}export{a as makeAllLayerSnappingOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["m","r","constructor","o","super","bounds","this","coords","extent","p","element","georeference","n","spatialReference","geometry","normalizedCoords","s","fromJSON","l","normalizedBounds","e","prototype","t","v","f","vertex","u","fragment","include","attributes","add","c","POSITION","UV0","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","d","i","uniforms","texture","opacity","transparencyPassType","g","ColorAlpha","outputs","a","float","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","j","x","b","h","w","O","updating","_updatingHandles","_preferredInteractionTool","options","tool","_toolType","_validatedSelectedElement","selectedElement","layer","source","hasElement","enabled","y","_isOpacityToggled","_factor","_tool","_object","_createToolAbortController","_onPointerMove","async","addPromise","_findElementAtScreenPoint","destroyed","removeHandles","view","cursor","addHandles","_tmpMat2","_tmpVec2","destroy","initialize","_enableDisable","_preferredInteractionToolChanged","_dynamicImports","undo","operations","emit","redo","addToggle","preserveAspectRatio","type","rotateIncrements","snapRotation","toggleOpacity","moveUp","_move","moveDown","moveRight","moveLeft","factorModifier","register","TOOL","on","_onClick","catch","_selectedElementChanged","_removeTool","stopPropagation","_recreateTool","AbortController","ManipulatedObject3DMediaElement","ExtentTransformTool","ReshapeTool3D","signal","aborted","object","inputManager","isModifierKeyDown","key","T","snappingManager","enableMidpoints","enableZShape","enableMoveObject","autoHideManipulators","enableDeleteVertices","tools","remove","addAndActivateTool","Promise","all","hitTest","results","overlayPixelSizeInMapUnits","pointsOfInterest","focus","location","data","camera","heading","_","move","constructOnly","arguments","interactive","interactionOptions","I","M","P","_interaction","visibleAtCurrentScale","S","effectiveScaleRange","terrainScale","drapeSourceType","RasterImage","updatePolicy","A","ASYNC","_uidToElement","Map","_renderedElements","_lastDrapingExtent","_update","_collectMediaElements","_synchronizeRenderElements","_renderer","basemapTerrain","overlayManager","registerGeometryDrapeSource","_updateWithLastDrapingExtent","unregisterDrapeSource","effectiveSource","suspended","setDrapingExtent","overlays","getHit","get","isUpdating","Set","map","queryElements","flat","_synchronizeRenderElementsRemove","_synchronizeRenderElementsAdd","forEach","has","renderData","push","renderGeometry","_removeElement","_createRenderElement","_ref","handle","_destroyRenderData","delete","uid","material","setParameters","_updateGeometry","_initializeRenderData","content","set","load","contentWidth","contentHeight","_createTexture","_stage","renderView","renderingContext","initTextureTransparent","textureId","id","transparent","_getPositionAttributeArray","_getPerspectiveDivideAttributeArray","D","R","layerUid","graphicUid","addGeometries","ADD","setAttributeData","invalidateBoundingInfo","modifyGeometries","GEOMETRY","rings","E","H","unload","removeGeometries","REMOVE","HTMLImageElement","naturalWidth","width","naturalHeight","height","wrap","G","CLAMP_TO_EDGE","preMultiplyAlpha","mipmap","updateCallback","setDrawTexturesDirty","test","readOnly","L","toJSON","maxX","minX","points","xmin","ymin","xmax","ymax","C","valid","frameId","length","Array","isArray","Math","ceil","abs","undefined","cut","paths","frameIds","_linesIn","_linesOut","_xCut","_closed","_minPts","moveTo","lineTo","close","_pushLineIn","_pushLineOut","_prevSide","_side","_moveTo","_prevPt","_firstPt","_intersect","_lineTo","_checkClosingPt","_lineIn","_lineOut","pop","initializeProgram","rctx","shader","configuration","_setPipelineState","NONE","FrontFace","blending","Color","culling","cullFace","depthTest","func","depthWrite","writeDepth","drawBuffers","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","ONE","ONE_MINUS_SRC_ALPHA","None","hasSlicePlane","cullAboveGround","count","COUNT","constValue","supportsEdges","produces","OPAQUE_MATERIAL","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_vertexAttributeLocations","_configuration","getConfiguration","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","clone","f32","_updateParameters","updateTexture","_material","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","write","vertexBufferLayout","fields","keys","size","getField","selfEnabled","featureEnabled","distance","touchSensitivityMultiplier","allLayers","toArray","featureSources","snappingEnginesFactory","referenceCount","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","EventedMixin","parent","when","name","title","getLogger","error","fullOpacity","canResume","suspendInfo","getSuspendInfo","legendEnabled","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean"],"sourceRoot":""}