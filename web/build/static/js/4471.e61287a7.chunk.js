"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4471],{38496:(n,e,r)=>{r.d(e,{Dg:()=>o,EH:()=>h,JH:()=>i,my:()=>a,tM:()=>u});var t=r(78393);function o(n){if((0,t.cy)(n)){if(n.length<t.y9)return n}else if(n.length<t.y9)return Array.from(n);let e=!0,r=!0;return n.some(((n,t)=>(e=e&&0===n,r=r&&n===t,!e&&!r))),e?h(n.length):r?u(n.length):(0,t.cy)(n)||n.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function(n){let e=!0;for(const r of n){if(r>=65536)return(0,t.cy)(n)?new Uint32Array(n):n;r>=256&&(e=!1)}return e?new Uint8Array(n):new Uint16Array(n)}(n):n}function a(n){return n<=t.y9?new Array(n):n<=65536?new Uint16Array(n):new Uint32Array(n)}function i(n){return n<=t.y9?new Array(n):new Uint32Array(n)}let c=(()=>{const n=new Uint32Array(131072);for(let e=0;e<n.length;++e)n[e]=e;return n})();const l=[0],s=(()=>{const n=new Uint16Array(65536);for(let e=0;e<n.length;++e)n[e]=e;return n})();function u(n){if(1===n)return l;if(n<t.y9)return Array.from(new Uint16Array(s.buffer,0,n));if(n<s.length)return new Uint16Array(s.buffer,0,n);if(n>c.length){const e=Math.max(2*c.length,n);c=new Uint32Array(e);for(let n=0;n<c.length;n++)c[n]=n}return new Uint32Array(c.buffer,0,n)}let d=new Uint8Array(65536);function h(n){if(1===n)return l;if(n<t.y9)return new Array(n).fill(0);if(n>d.length){const e=Math.max(2*d.length,n);d=new Uint8Array(e)}return new Uint8Array(d.buffer,0,n)}},51990:(n,e,r)=>{r.d(e,{Eb:()=>i,_j:()=>c,k5:()=>t});var t,o,a=r(15941);function i(n){switch(n){case"multiply":default:return t.Multiply;case"ignore":return t.Ignore;case"replace":return t.Replace;case"tint":return t.Tint}}function c(n,e,r){if(null==n||e===t.Ignore)return r[0]=255,r[1]=255,r[2]=255,void(r[3]=255);const o=(0,a.qE)(Math.round(n[3]*s),0,s),i=0===o||e===t.Tint?0:e===t.Replace?u:d;r[0]=(0,a.qE)(Math.round(n[0]*l),0,l),r[1]=(0,a.qE)(Math.round(n[1]*l),0,l),r[2]=(0,a.qE)(Math.round(n[2]*l),0,l),r[3]=o+i}(o=t||(t={}))[o.Multiply=1]="Multiply",o[o.Ignore=2]="Ignore",o[o.Replace=3]="Replace",o[o.Tint=4]="Tint";const l=255,s=85,u=s,d=2*s},59581:(n,e,r)=>{r.d(e,{A:()=>c});var t,o=r(57528),a=r(51990),i=r(64839);function c(n){n.vertex.code.add((0,i.H)(t||(t=(0,o.A)(["\n    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {\n      float symbolAlpha = 0.0;\n\n      const float maxTint = 85.0;\n      const float maxReplace = 170.0;\n      const float scaleAlpha = 3.0;\n\n      if (symbolColor.a > maxReplace) {\n        colorMixMode = ",";\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);\n      } else if (symbolColor.a > maxTint) {\n        colorMixMode = ",";\n        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);\n      } else if (symbolColor.a > 0.0) {\n        colorMixMode = ",";\n        symbolAlpha = scaleAlpha * symbolColor.a;\n      } else {\n        colorMixMode = ",";\n        symbolAlpha = 0.0;\n      }\n\n      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);\n    }\n  "])),i.H.int(a.k5.Multiply),i.H.int(a.k5.Replace),i.H.int(a.k5.Tint),i.H.int(a.k5.Multiply)))}},34981:(n,e,r)=>{var t;function o(n){return a(n)||n===t.Depth||n===t.Normal||n===t.ObjectAndLayerIdColor}function a(n){return n===t.Shadow||n===t.ShadowHighlight||n===t.ShadowExcludeHighlight||n===t.ViewshedShadow}function i(n){return v(n)||n===t.Normal}function c(n){return n===t.Highlight||n===t.ObjectAndLayerIdColor}function l(n){return n===t.Color||c(n)}function s(n){return n===t.Color}function u(n){return s(n)||n===t.ObjectAndLayerIdColor}function d(n){return s(n)||n===t.Highlight}function h(n){return d(n)||A(n)}function f(n){return s(n)||c(n)}function v(n){return f(n)||A(n)}function A(n){return n===t.Depth}r.d(e,{MO:()=>v,PJ:()=>a,V:()=>t,XY:()=>i,_o:()=>s,aD:()=>h,cb:()=>o,dX:()=>f,eh:()=>A,i3:()=>l,u5:()=>c,zW:()=>u}),function(n){n[n.Color=0]="Color",n[n.Depth=1]="Depth",n[n.Normal=2]="Normal",n[n.Shadow=3]="Shadow",n[n.ShadowHighlight=4]="ShadowHighlight",n[n.ShadowExcludeHighlight=5]="ShadowExcludeHighlight",n[n.ViewshedShadow=6]="ViewshedShadow",n[n.Highlight=7]="Highlight",n[n.ObjectAndLayerIdColor=8]="ObjectAndLayerIdColor",n[n.COUNT=9]="COUNT"}(t||(t={}))},59046:(n,e,r)=>{r.d(e,{W:()=>i,Y:()=>h});var t,o,a,i,c,l=r(57528),s=r(4212),u=r(64839),d=r(66470);function h(n,e){switch(e.normalType){case i.Compressed:n.attributes.add(d.r.NORMALCOMPRESSED,"vec2"),n.vertex.code.add((0,u.H)(t||(t=(0,l.A)(["vec3 decompressNormal(vec2 normal) {\nfloat z = 1.0 - abs(normal.x) - abs(normal.y);\nreturn vec3(normal + sign(normal) * min(z, 0.0), z);\n}\nvec3 normalModel() {\nreturn decompressNormal(normalCompressed);\n}"]))));break;case i.Attribute:n.attributes.add(d.r.NORMAL,"vec3"),n.vertex.code.add((0,u.H)(o||(o=(0,l.A)(["vec3 normalModel() {\nreturn normal;\n}"]))));break;case i.ScreenDerivative:n.fragment.code.add((0,u.H)(a||(a=(0,l.A)(["vec3 screenDerivativeNormal(vec3 positionView) {\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\n}"]))));break;default:(0,s.Xb)(e.normalType);case i.COUNT:case i.Ground:}}(c=i||(i={}))[c.Attribute=0]="Attribute",c[c.Compressed=1]="Compressed",c[c.Ground=2]="Ground",c[c.ScreenDerivative=3]="ScreenDerivative",c[c.COUNT=4]="COUNT"},89299:(n,e,r)=>{r.d(e,{u:()=>c});var t,o,a=r(57528),i=r(64839);function c(n,e){let{code:r}=n;e.doublePrecisionRequiresObfuscation?r.add((0,i.H)(t||(t=(0,a.A)(["vec3 dpPlusFrc(vec3 a, vec3 b) {\nreturn mix(a, a + b, vec3(notEqual(b, vec3(0))));\n}\nvec3 dpMinusFrc(vec3 a, vec3 b) {\nreturn mix(vec3(0), a - b, vec3(notEqual(a, b)));\n}\nvec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\nvec3 t1 = dpPlusFrc(hiA, hiB);\nvec3 e = dpMinusFrc(t1, hiA);\nvec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\nreturn t1 + t2;\n}"])))):r.add((0,i.H)(o||(o=(0,a.A)(["vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\nvec3 t1 = hiA + hiB;\nvec3 e = t1 - hiA;\nvec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\nreturn t1 + t2;\n}"]))))}},81449:(n,e,r)=>{r.d(e,{W:()=>i});var t,o=r(57528),a=r(64839);function i(n){n.code.add((0,a.H)(t||(t=(0,o.A)(["const float MAX_RGBA_FLOAT =\n255.0 / 256.0 +\n255.0 / 256.0 / 256.0 +\n255.0 / 256.0 / 256.0 / 256.0 +\n255.0 / 256.0 / 256.0 / 256.0 / 256.0;\nconst vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\nvec4 float2rgba(const float value) {\nfloat valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);\nvec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);\nconst float toU8AsFloat = 1.0 / 255.0;\nreturn fixedPointU8 * toU8AsFloat;\n}\nconst vec4 RGBA_2_FLOAT_FACTORS = vec4(\n255.0 / (256.0),\n255.0 / (256.0 * 256.0),\n255.0 / (256.0 * 256.0 * 256.0),\n255.0 / (256.0 * 256.0 * 256.0 * 256.0)\n);\nfloat rgba2float(vec4 rgba) {\nreturn dot(rgba, RGBA_2_FLOAT_FACTORS);\n}"]))))}},72468:(n,e,r)=>{r.d(e,{W:()=>a});var t=r(7223),o=r(24245);class a extends t.n{constructor(n,e){super(n,"vec3",o.c.Draw,((r,t,o,a)=>r.setUniform3fv(n,e(t,o,a))))}}},5517:(n,e,r)=>{r.d(e,{t:()=>a});var t=r(7223),o=r(24245);class a extends t.n{constructor(n,e){super(n,"vec3",o.c.Pass,((r,t,o)=>r.setUniform3fv(n,e(t,o))))}}},21390:(n,e,r)=>{r.d(e,{m:()=>a});var t=r(7223),o=r(24245);class a extends t.n{constructor(n,e){super(n,"float",o.c.Pass,((r,t,o)=>r.setUniform1f(n,e(t,o))))}}},42759:(n,e,r)=>{r.d(e,{h:()=>a});var t=r(7223),o=r(24245);class a extends t.n{constructor(n,e){super(n,"mat3",o.c.Draw,((r,t,o)=>r.setUniformMatrix3fv(n,e(t,o))))}}},72106:(n,e,r)=>{r.d(e,{k:()=>a});var t=r(7223),o=r(24245);class a extends t.n{constructor(n,e){super(n,"mat3",o.c.Pass,((r,t,o)=>r.setUniformMatrix3fv(n,e(t,o))))}}},43425:(n,e,r)=>{r.d(e,{X:()=>a});var t=r(7223),o=r(24245);class a extends t.n{constructor(n,e){super(n,"mat4",o.c.Pass,((r,t,o)=>r.setUniformMatrix4fv(n,e(t,o))))}}},27374:(n,e,r)=>{r.d(e,{o:()=>a});var t=r(7223),o=r(24245);class a extends t.n{constructor(n,e){super(n,"sampler2D",o.c.Draw,((r,t,o)=>r.bindTexture(n,e(t,o))))}}},7223:(n,e,r)=>{r.d(e,{n:()=>o});var t=r(24245);class o{constructor(n,e,r,o){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(this.name=n,this.type=e,this.arraySize=a,this.bind={[t.c.Pass]:null,[t.c.Draw]:null},o)switch(r){case t.c.Pass:this.bind[t.c.Pass]=o;break;case t.c.Draw:this.bind[t.c.Draw]=o}}equals(n){return this.type===n.type&&this.name===n.name&&this.arraySize===n.arraySize}}},64839:(n,e,r)=>{r.d(e,{H:()=>o,Y:()=>t});const t=class{};function o(n){let e="";for(let r=0;r<(arguments.length<=1?0:arguments.length-1);r++)e+=n[r]+(r+1<1||arguments.length<=r+1?void 0:arguments[r+1]);return e+=n[n.length-1],e}!function(n){n.int=function(n){return Math.round(n).toString()},n.float=function(n){return n.toPrecision(8)}}(o||(o={}))},24245:(n,e,r)=>{var t;r.d(e,{c:()=>t}),function(n){n[n.Pass=0]="Pass",n[n.Draw=1]="Draw"}(t||(t={}))}}]);
//# sourceMappingURL=4471.e61287a7.chunk.js.map