{"version":3,"file":"static/js/183.e34bf5ac.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as o}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as n}from\"../../../../geometry/support/FloatArray.js\";import{Attribute as i}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(r,o,n){const i=t(r)/e(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/(t(r)/t(o))),m.height=Math.round(m.height/(e(r)/e(o))),m}function l(t,e){return h(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!r(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=o(3*c),d=n(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new m(t,[[g.POSITION,new i(y,j,3,!0)],[g.NORMAL,new i(a,I,3,!0)],[g.UV0,new i(d,j,2,!0)]])}const a=[0,0,1];export{u as computeImageExportSize,l as createGeometryForExtent,s as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import s from\"../../../core/Logger.js\";import{abortMaybe as a}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as n,onAbort as l,isAborted as h,createAbortError as m,throwIfAborted as d}from\"../../../core/promiseUtils.js\";import{whenOnce as c}from\"../../../core/reactiveUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../geometry/Extent.js\";import{equals as f,create as y,width as w,height as _,copy as x,intersection as v}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as R}from\"./interfaces.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{computeImageExportSize as E,createGeometryForExtent as S,createOuterImageGeometry as j}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as I}from\"./support/projectExtentUtils.js\";import{debugFlags as A}from\"../support/debugFlags.js\";import{OverlayIndex as D}from\"../terrain/interfaces.js\";import{DirtyOperation as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as L}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as C}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as G}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as P}from\"../webgl-engine/materials/ImageMaterial.js\";import T from\"../../layers/LayerView.js\";import O from\"../../layers/RefreshableLayerView.js\";import{isInEffectiveScaleRange as U}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as H}from\"../../webgl/enums.js\";let V=class extends(O(b(T))){constructor(){super(...arguments),this.drapeSourceType=R.RasterImage,this.updatePolicy=G.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{n(e)||s.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,t=\"effectiveScaleRange\"in e?e.effectiveScaleRange:null;return U(t,this.view.terrainScale)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(I(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,z);if(null==r)return;const i=E(e.extent,r,e.resolution);let a=e.pixelRatio*this.view.state.pixelRatio;const{layer:o}=this;if(\"imageMaxWidth\"in o&&null!=o.imageMaxWidth||\"imageMaxHeight\"in o&&null!=o.imageMaxHeight){const e=o.imageMaxWidth,t=o.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,a*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,a*=e}}const l=this._extents[t];l&&f(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:y(r),imageSize:i,pixelRatio:a},this.suspended||this._fetch(t).catch((e=>{n(e)||s.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new p(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=w(e)/this.maximumDataResolution.x,s=_(e)/this.maximumDataResolution.y,a=i/t.width,o=s/t.height,n=i/r.width,l=s/r.height,h=Math.abs(a-n),m=Math.abs(o-l),d=A.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:y(i)});const o=this._images[e];o.loadingAbortController=a(o.loadingAbortController);const c=new p(i[0],i[1],i[2],i[3],this._spatialReference);if(0===c.width||0===c.height)return void this._clearImage(e);const g=new AbortController;o.loadingAbortController=g,l(t,(()=>g.abort()));const u=g.signal,f=this._waitFetchReady(u).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:u},{height:i,width:s}=r.imageSize;return this.layer.fetchImage(c,s,i,t)})).then((e=>{if(h(u))throw s.getLogger(this).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),m();return this.processResult(o,e)})).then((()=>{x(o.renderExtent,i)}));o.loadingPromise=f,await this._updatingHandles.addPromise(f.then((async()=>{d(u),await this._createStageObjects(e,o.image,u)})).catch((e=>{throw e&&!n(e)&&s.getLogger(this).error(e),e})).finally((()=>{f===o.loadingPromise&&(o.loadingPromise=null,o.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.UPDATE),t.renderGeometry=null);const e=this.view._stage,r=t.texture;r?.unload(),e.remove(r),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=a(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const s=this.view._stage,a=this._images[e],o=()=>{a.texture?.unload(),s.remove(a.texture),a.texture=null,a.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([a.renderGeometry],M.UPDATE),a.renderGeometry=null)};if(t){const n=new C(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:H.CLAMP_TO_EDGE,t:H.CLAMP_TO_EDGE}});let l;if(await r(this._images[e===D.INNER?D.OUTER:D.INNER].loadingPromise),d(i),o(),await s.schedule((()=>n.load(s.renderView.renderingContext)),i),s.add(n),a.texture=n,null==a.material?(a.material=new P({transparent:!0,textureId:n.id}),s.add(a.material)):a.material.setParameters({textureId:n.id}),e===D.INNER)l=S(a.material,a.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void o();l=j(a.material,e,a.renderExtent)}a.renderGeometry=new L(l),a.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([a.renderGeometry],M.UPDATE)}else o(),s.remove(a.material),a.material=null}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return x(t,e);const r=this.view.basemapTerrain;return r.ready?v(e,r.extent,t):x(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await c((()=>this.view.stationary),e),d(e)}};e([g()],V.prototype,\"layer\",void 0),e([g()],V.prototype,\"suspended\",void 0),e([g({readOnly:!0})],V.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([g({readOnly:!0})],V.prototype,\"visibleAtCurrentScale\",null),e([g()],V.prototype,\"updating\",void 0),V=e([u(\"esri.views.3d.layers.DynamicLayerView3D\")],V);const N=V,z=y();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as i}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as n}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as g}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as c}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function v(v){const f=new n,{vertex:u,fragment:m}=f;return t(u,v),f.include(o,v),f.attributes.add(c.POSITION,\"vec3\"),f.attributes.add(c.UV0,\"vec2\"),v.perspectiveInterpolation&&f.attributes.add(c.PERSPECTIVEDIVIDE,\"float\"),f.varyings.add(\"vpos\",\"vec3\"),v.multipassEnabled&&f.varyings.add(\"depth\",\"float\"),u.code.add(d`\n    void main(void) {\n      vpos = position;\n      ${v.multipassEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0;\n      gl_Position = transformPosition(proj, view, vpos);\n\n      ${v.perspectiveInterpolation?\"gl_Position *= perspectiveDivide;\":\"\"}\n    }\n  `),f.include(r,v),f.include(i,v),m.uniforms.add(new p(\"tex\",(e=>e.texture)),new l(\"opacity\",(e=>e.opacity))),f.varyings.add(\"vTexCoord\",\"vec2\"),v.transparencyPassType===g.ColorAlpha&&(f.outputs.add(\"fragColor\",\"vec4\",0),f.outputs.add(\"fragAlpha\",\"float\",1)),m.include(a),m.code.add(d`\n    void main() {\n      discardBySlice(vpos);\n      ${v.multipassEnabled?\"terrainDepthTest(depth);\":\"\"}\n      fragColor = texture(tex, vTexCoord) * opacity;\n\n      if (fragColor.a < ${d.float(s)}) {\n        discard;\n      }\n\n      fragColor = highlightSlice(fragColor, vpos);\n      ${v.transparencyPassType===g.ColorAlpha?d`\n              fragColor = premultiplyAlpha(fragColor);\n              fragAlpha = fragColor.a;`:\"\"}\n      ${v.output===e.ObjectAndLayerIdColor?d`\n              fragColor = vec4(0,0,0,1);`:\"\"}\n    }\n    `),f}const f=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:\"Module\"}));export{f as I,v as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{project as e}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as r}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const t=l.view.spatialReference,o=l.layer.fullExtent,s=null!=o&&o.spatialReference;if(null==o||!s)return Promise.resolve(null);if(s.equals(t))return Promise.resolve(o.clone());const n=e(o,t);return null!=n?Promise.resolve(n):l.view.state.isLocal?r(o,t,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as n}from\"../lib/basicInterfaces.js\";import{oitBlending as a,oitDepthTest as l,oitDepthWrite as p,oitDrawBuffers as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as P}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as O,makePipelineState as j,cullingParams as S,defaultDepthWriteParams as v,defaultColorWriteParams as I}from\"../../../webgl/renderState.js\";class N extends r{}class E extends o{initializeProgram(e){return new h(e.rctx,E.shader.get().build(this.configuration),_)}_setPipelineState(e,r){const i=this.configuration,o=e===y.NONE,s=e===y.FrontFace;return j({blending:i.output===t.Color&&i.transparent?o?w:a(e):null,culling:S(i.cullFace),depthTest:{func:l(e)},depthWrite:o?i.writeDepth?v:null:p(e),drawBuffers:c(e),colorWrite:I,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:o||s?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}E.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const w=O(T.ONE,T.ONE_MINUS_SRC_ALPHA);class C extends P{constructor(){super(...arguments),this.output=t.Color,this.cullFace=n.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}e([s({count:t.COUNT})],C.prototype,\"output\",void 0),e([s({count:n.COUNT})],C.prototype,\"cullFace\",void 0),e([s()],C.prototype,\"hasSlicePlane\",void 0),e([s()],C.prototype,\"transparent\",void 0),e([s()],C.prototype,\"enableOffset\",void 0),e([s()],C.prototype,\"writeDepth\",void 0),e([s()],C.prototype,\"hasOccludees\",void 0),e([s({count:y.COUNT})],C.prototype,\"transparencyPassType\",void 0),e([s()],C.prototype,\"multipassEnabled\",void 0),e([s()],C.prototype,\"cullAboveGround\",void 0),e([s()],C.prototype,\"perspectiveInterpolation\",void 0),e([s({constValue:!1})],C.prototype,\"occlusionPass\",void 0);const _=new Map([[b.POSITION,0],[b.UV0,2],[b.PERSPECTIVEDIVIDE,3]]);export{N as ImageMaterialPassParameters,E as ImageMaterialTechnique,C as ImageMaterialTechniqueConfiguration,_ as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isOIDorHighlight as t,isColor as r,ShaderOutput as s}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as i}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as n}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as l}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as h}from\"./DefaultLayouts.js\";import{TriangleMaterial as m}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as d}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as _,ImageMaterialTechniqueConfiguration as E,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";class g extends m{constructor(e){super(e,new P),this.supportsEdges=!0,this.produces=new Map([[p.OPAQUE_MATERIAL,e=>t(e)||r(e)&&!this.parameters.transparent],[p.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.transparent&&this.parameters.writeDepth],[p.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,e=>r(e)&&this.parameters.transparent&&!this.parameters.writeDepth],[p.DRAPED_MATERIAL,e=>r(e)||t(e)]]),this._vertexAttributeLocations=_,this._configuration=new E}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=h.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new b(e)}}class I extends i{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(T,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(e){return this._output===s.Color&&this._updateOccludeeState(e),this._updateParameters(e)}}class b extends l{write(t,r,s,a,i){for(const n of this.vertexBufferLayout.fields.keys()){const o=s.attributes.get(n);if(o)if(n===c.PERSPECTIVEDIVIDE){u(1===o.size);const t=a.getField(n,e);t&&f(o,t,i)}else d(n,o,t,r,a,i)}}}class P extends n{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=a.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}export{g as ImageMaterial,P as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["i","a","initialize","this","addHandles","o","layer","r","doRefresh","dataChanged","catch","s","e","getLogger","error","t","l","h","u","Math","min","max","f","p","w","b","c","y","d","n","j","Array","A","M","x","O","G","I","length","m","g","POSITION","NORMAL","UV0","V","T","constructor","super","arguments","drapeSourceType","R","RasterImage","updatePolicy","SYNC","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","async","destroyed","_doRefresh","visibleAtCurrentScale","effectiveScaleRange","U","view","terrainScale","basemapTerrain","overlayManager","registerGeometryDrapeSource","unregisterDrapeSource","addResolvingPromise","then","_set","_updatingHandles","add","suspended","_suspendedChangeHandler","destroy","clear","setDrapingExtent","_spatialReference","forEach","_updateImageExtent","_clippedExtent","extent","z","width","height","round","E","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","_fetch","_clearImage","push","Promise","allSettled","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","getFetchOptions","redraw","_createStageObjects","_","abs","TESTS_DISABLE_OPTIMIZATIONS","texture","material","renderGeometry","loadingPromise","loadingAbortController","pixelData","renderExtent","AbortController","abort","signal","_waitFetchReady","requestAsImageElement","fetchImage","warnOnce","addPromise","finally","removeGeometries","UPDATE","_stage","unload","remove","C","preMultiplyAlpha","wrap","H","CLAMP_TO_EDGE","D","INNER","OUTER","schedule","load","renderView","renderingContext","P","transparent","textureId","id","setParameters","S","L","localOrigin","renderLocalOrigin","addGeometries","viewingMode","ready","v","stationary","prototype","readOnly","N","vertex","fragment","include","attributes","perspectiveInterpolation","PERSPECTIVEDIVIDE","varyings","multipassEnabled","code","uniforms","opacity","transparencyPassType","ColorAlpha","outputs","float","output","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","spatialReference","fullExtent","resolve","equals","clone","isLocal","portalItem","initializeProgram","rctx","shader","get","configuration","_setPipelineState","NONE","FrontFace","blending","Color","culling","cullFace","depthTest","func","depthWrite","writeDepth","drawBuffers","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","initializePipeline","_occludeePipelineState","getPipeline","ONE","ONE_MINUS_SRC_ALPHA","None","hasSlicePlane","cullAboveGround","count","COUNT","constValue","Map","supportsEdges","produces","OPAQUE_MATERIAL","parameters","TRANSPARENT_MATERIAL","TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL","DRAPED_MATERIAL","_vertexAttributeLocations","_configuration","getConfiguration","camera","relativeElevation","multipassTerrain","createGLMaterial","createBufferWriter","f32","_updateParameters","updateTexture","_material","textureBindParameters","ensureTechnique","_updateOccludeeState","beginSlot","_output","write","vertexBufferLayout","fields","keys","size","getField","initTextureTransparent","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","EventedMixin","parent","when","name","title","fullOpacity","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","isUpdating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","type","Boolean"],"sourceRoot":""}