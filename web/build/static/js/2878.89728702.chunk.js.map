{"version":3,"file":"static/js/2878.89728702.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/imageutils.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/glb.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/types.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/bufferview.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/buffer.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/geometry.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltf.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/asset.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/node.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/index.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/scene.js","../node_modules/@arcgis/core/geometry/support/meshUtils/exporters/gltf/gltfexport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../../core/has.js\";import e from\"../../../../../core/Error.js\";import{throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import{isDataProtocol as n,dataComponents as r}from\"../../../../../core/urlUtils.js\";function a(e){const t=m(e);return null!=t?t.toDataURL():\"\"}async function i(n,r){const a=m(n);if(null==a)throw new e(\"imageToArrayBuffer\",\"Unsupported image type\");const i=o(n),s=await new Promise((e=>a.toBlob(e,i)));if(t(r),!s)throw new e(\"imageToArrayBuffer\",\"Failed to encode image\");const c=await s.arrayBuffer();return t(r),{data:c,type:i}}function o(e){if(!(e instanceof HTMLImageElement))return\"image/png\";const t=e.src;if(n(t)){const e=r(t);return\"image/jpeg\"===e?.mediaType?e.mediaType:\"image/png\"}return/\\.png$/i.test(t)?\"image/png\":/\\.(jpg|jpeg)$/i.test(t)?\"image/jpeg\":\"image/png\"}function m(e){if(e instanceof HTMLCanvasElement)return e;if(e instanceof HTMLVideoElement)return null;const t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;const n=t.getContext(\"2d\");return e instanceof HTMLImageElement?n.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&n.putImageData(e,0,0),t}function s(e){const t=[],n=new Uint8Array(e);for(let r=0;r<n.length;r++)t.push(String.fromCharCode(n[r]));return\"data:application/octet-stream;base64,\"+btoa(t.join(\"\"))}function c(e){if(e.byteLength<8)return!1;const t=new Uint8Array(e);return 137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}export{s as encodeBase64DataUri,i as imageToArrayBuffer,a as imageToDataURI,m as imageTypeToCanvas,c as isArrayBufferPNG};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar t;!function(t){t[t.JSON=1313821514]=\"JSON\",t[t.BIN=5130562]=\"BIN\"}(t||(t={}));class e{constructor(i,r){if(!i)throw new Error(\"GLB requires a JSON gltf chunk\");this._length=e.HEADER_SIZE,this._length+=e.CHUNK_HEADER_SIZE;const s=n(i);if(this._length+=h(s.byteLength,4),r&&(this._length+=e.CHUNK_HEADER_SIZE,this._length+=r.byteLength,r.byteLength%4))throw new Error(\"Expected BIN chunk length to be divisible by 4 at this point\");this.buffer=new ArrayBuffer(this._length),this._outView=new DataView(this.buffer),this._writeHeader();const _=this._writeChunk(s,12,t.JSON,32);r&&this._writeChunk(r,_,t.BIN)}_writeHeader(){this._outView.setUint32(0,e.MAGIC,!0),this._outView.setUint32(4,e.VERSION,!0),this._outView.setUint32(8,this._length,!0)}_writeChunk(t,e,n,r=0){const s=h(t.byteLength,4);for(this._outView.setUint32(e,s,!0),this._outView.setUint32(e+=4,n,!0),i(this._outView.buffer,t,e+=4,0,t.byteLength),e+=t.byteLength;e%4;)r&&this._outView.setUint8(e,r),e++;return e}}function i(t,e,i,n,h){new Uint8Array(t,i,h).set(new Uint8Array(e,n,h),0)}function n(t){return(new TextEncoder).encode(t).buffer}function h(t,e){return e*Math.ceil(t/e)}e.HEADER_SIZE=12,e.CHUNK_HEADER_SIZE=8,e.MAGIC=1179937895,e.VERSION=2;export{e as GLB};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar E,A,R,L,o,I,N;!function(E){E[E.External=0]=\"External\",E[E.DataURI=1]=\"DataURI\",E[E.GLB=2]=\"GLB\"}(E||(E={})),function(E){E[E.External=0]=\"External\",E[E.DataURI=1]=\"DataURI\",E[E.GLB=2]=\"GLB\"}(A||(A={})),function(E){E[E.ARRAY_BUFFER=34962]=\"ARRAY_BUFFER\",E[E.ELEMENT_ARRAY_BUFFER=34963]=\"ELEMENT_ARRAY_BUFFER\"}(R||(R={})),function(E){E.SCALAR=\"SCALAR\",E.VEC2=\"VEC2\",E.VEC3=\"VEC3\",E.VEC4=\"VEC4\",E.MAT2=\"MAT2\",E.MAT3=\"MAT3\",E.MAT4=\"MAT4\"}(L||(L={})),function(E){E[E.POINTS=0]=\"POINTS\",E[E.LINES=1]=\"LINES\",E[E.LINE_LOOP=2]=\"LINE_LOOP\",E[E.LINE_STRIP=3]=\"LINE_STRIP\",E[E.TRIANGLES=4]=\"TRIANGLES\",E[E.TRIANGLE_STRIP=5]=\"TRIANGLE_STRIP\",E[E.TRIANGLE_FAN=6]=\"TRIANGLE_FAN\"}(o||(o={})),function(E){E.OPAQUE=\"OPAQUE\",E.MASK=\"MASK\",E.BLEND=\"BLEND\"}(I||(I={})),function(E){E[E.NoColor=0]=\"NoColor\",E[E.FaceColor=1]=\"FaceColor\",E[E.VertexColor=2]=\"VertexColor\"}(N||(N={}));export{I as AlphaMode,L as AttributeType,E as BufferOutputType,N as ColorMode,A as ImageOutputType,o as MeshMode,R as TargetBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{TargetBuffer as e,AttributeType as t}from\"./types.js\";import{DataType as s}from\"../../../../../views/webgl/enums.js\";class i{constructor(t,s,i,r,n){this._buffer=t,this._componentType=i,this._dataType=r,this._data=[],this._isFinalized=!1,this._accessorIndex=-1,this._accessorAttribute=null,this._accessorMin=null,this._accessorMax=null,s.bufferViews||(s.bufferViews=[]),this.index=s.bufferViews.length,this._bufferView={buffer:t.index,byteLength:-1,target:n};const a=this._getElementSize();a>=4&&n!==e.ELEMENT_ARRAY_BUFFER&&(this._bufferView.byteStride=a),s.bufferViews.push(this._bufferView),this._numComponentsForDataType=this._calculateNumComponentsForDataType()}push(e){const t=this._data.length;if(this._data.push(e),this._accessorIndex>=0){const s=t%this._numComponentsForDataType,i=this._accessorMin[s];this._accessorMin[s]=\"number\"!=typeof i?e:Math.min(i,e);const r=this._accessorMax[s];this._accessorMax[s]=\"number\"!=typeof r?e:Math.max(r,e)}}get dataSize(){return this._data.length*this._sizeComponentType()}get byteSize(){function e(e,t){return t*Math.ceil(e/t)}return e(this.dataSize,4)}getByteOffset(){if(!this._isFinalized)throw new Error(\"Cannot get BufferView offset until it is finalized\");return this._buffer.getByteOffset(this)}get byteOffset(){if(!this._isFinalized)throw new Error(\"Cannot get BufferView offset until it is finalized\");return this._buffer.getByteOffset(this)}_createTypedArray(e,t){switch(this._componentType){case s.BYTE:return new Int8Array(e,t);case s.FLOAT:return new Float32Array(e,t);case s.SHORT:return new Int16Array(e,t);case s.UNSIGNED_BYTE:return new Uint8Array(e,t);case s.UNSIGNED_INT:return new Uint32Array(e,t);case s.UNSIGNED_SHORT:return new Uint16Array(e,t)}}writeOutToBuffer(e,t){this._createTypedArray(e,t).set(this._data)}writeAsync(e){if(this._asyncWritePromise)throw new Error(\"Can't write multiple bufferView values asynchronously\");return this._asyncWritePromise=e.then((e=>{const t=new Uint8Array(e);for(let s=0;s<t.length;++s)this._data.push(t[s]);delete this._asyncWritePromise})),this._asyncWritePromise}startAccessor(e){if(this._accessorIndex>=0)throw new Error(\"Accessor was started without ending the previous one\");this._accessorIndex=this._data.length,this._accessorAttribute=e;const t=this._numComponentsForDataType;this._accessorMin=new Array(t),this._accessorMax=new Array(t)}endAccessor(){if(this._accessorIndex<0)throw new Error(\"An accessor was not started, but was attempted to be ended\");const e=this._getElementSize(),t=this._numComponentsForDataType,i=(this._data.length-this._accessorIndex)/t;if(i%1)throw new Error(\"An accessor was ended with missing component values\");for(let s=0;s<this._accessorMin.length;++s)\"number\"!=typeof this._accessorMin[s]&&(this._accessorMin[s]=0),\"number\"!=typeof this._accessorMax[s]&&(this._accessorMax[s]=0);const r={byteOffset:e*(this._accessorIndex/t),componentType:this._componentType,count:i,type:this._dataType,min:this._accessorMin,max:this._accessorMax,name:this._accessorAttribute};switch(this._accessorAttribute){case\"TEXCOORD_0\":case\"TEXCOORD_1\":case\"COLOR_0\":case\"WEIGHTS_0\":switch(this._componentType){case s.UNSIGNED_BYTE:case s.UNSIGNED_SHORT:r.normalized=!0}}return this._accessorIndex=-1,this._accessorAttribute=null,this._accessorMin=null,this._accessorMax=null,r}get finalized(){return this._finalizedPromise?this._finalizedPromise:this._isFinalized?this._finalizedPromise=Promise.resolve():this._finalizedPromise=new Promise((e=>this._finalizedPromiseResolve=e))}async finalize(){const e=this._bufferView,t=this._buffer.getViewFinalizePromises(this);this._asyncWritePromise&&t.push(this._asyncWritePromise),await Promise.allSettled(t),this._isFinalized=!0,e.byteOffset=this.getByteOffset(),e.byteLength=this.dataSize,this._finalizedPromiseResolve&&this._finalizedPromiseResolve()}_getElementSize(){return this._sizeComponentType()*this._numComponentsForDataType}_sizeComponentType(){switch(this._componentType){case s.BYTE:case s.UNSIGNED_BYTE:return 1;case s.SHORT:case s.UNSIGNED_SHORT:return 2;case s.UNSIGNED_INT:case s.FLOAT:return 4}}_calculateNumComponentsForDataType(){switch(this._dataType){case t.SCALAR:return 1;case t.VEC2:return 2;case t.VEC3:return 3;case t.VEC4:case t.MAT2:return 4;case t.MAT3:return 9;case t.MAT4:return 16}}}export{i as BufferView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{BufferView as e}from\"./bufferview.js\";class i{constructor(e){this._gltf=e,this._bufferViews=[],this._isFinalized=!1,e.buffers||(e.buffers=[]),this.index=e.buffers.length;const i={byteLength:-1};e.buffers.push(i),this._buffer=i}addBufferView(i,t,r){if(this._finalizePromise)throw new Error(\"Cannot add buffer view after fiinalizing buffer\");const f=new e(this,this._gltf,i,t,r);return this._bufferViews.push(f),f}getByteOffset(e){let i=0;for(const t of this._bufferViews){if(t===e)return i;i+=t.byteSize}throw new Error(\"Given bufferView was not present in this buffer\")}getViewFinalizePromises(e){const i=[];for(const t of this._bufferViews){if(e&&t===e)return i;i.push(t.finalized)}return i}getArrayBuffer(){if(!this._isFinalized)throw new Error(\"Cannot get ArrayBuffer from Buffer before it is finalized\");const e=this._getTotalSize(),i=new ArrayBuffer(e);let t=0;for(const r of this._bufferViews)r.writeOutToBuffer(i,t),t+=r.byteSize;return i}finalize(){if(this._finalizePromise)throw new Error(`Buffer ${this.index} was already finalized`);return this._finalizePromise=Promise.allSettled(this.getViewFinalizePromises()).then((()=>{this._isFinalized=!0;const e=this.getArrayBuffer();this._buffer.byteLength=e.byteLength,this._buffer.uri=e})),this._gltf.extras.promises.push(this._finalizePromise),this._finalizePromise}_getTotalSize(){let e=0;for(const i of this._bufferViews)e+=i.byteSize;return e}}export{i as Buffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{s as o,f as n,b as s,n as t}from\"../../../../../chunks/vec32.js\";import{create as r}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";function c(o,n){if(o.components)for(const s of o.components)s.faces&&\"smooth\"===s.shading&&e(s,n)}function e(r,c){null==c.normal&&(c.normal=new Float32Array(c.position.length));const e=r.faces,{position:m,normal:p}=c,h=e.length/3;for(let t=0;t<h;++t){const r=3*e[3*t],c=3*e[3*t+1],l=3*e[3*t+2],h=o(a,m[r],m[r+1],m[r+2]),g=o(f,m[c],m[c+1],m[c+2]),u=o(i,m[l],m[l+1],m[l+2]),b=n(g,g,h),j=n(u,u,h),v=s(b,b,j);p[r]+=v[0],p[r+1]+=v[1],p[r+2]+=v[2],p[c]+=v[0],p[c+1]+=v[1],p[c+2]+=v[2],p[l]+=v[0],p[l+1]+=v[1],p[l+2]+=v[2]}for(let n=0;n<p.length;n+=3)o(l,p[n],p[n+1],p[n+2]),t(l,l),p[n]=l[0],p[n+1]=l[1],p[n+2]=l[2]}const a=r(),f=r(),i=r(),l=r();export{c as smoothNormals};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Logger.js\";import{getOrCreateMapValue as t}from\"../../../../../core/MapUtils.js\";import{deg2rad as s}from\"../../../../../core/mathUtils.js\";import{exactEquals as r}from\"../../../../../core/libs/gl-matrix-2/math/quat.js\";import{IDENTITY as i,clone as a}from\"../../../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{e as o}from\"../../../../../chunks/vec32.js\";import{ZEROS as n,clone as l,ONES as c}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import u from\"../../../MeshMaterialMetallicRoughness.js\";import{convertVertexSpace as h}from\"../../vertexSpaceConversion.js\";import{Buffer as f}from\"./buffer.js\";import{smoothNormals as m}from\"./geometry.js\";import{BufferOutputType as p,ImageOutputType as d,AttributeType as g,TargetBuffer as x,AlphaMode as _}from\"./types.js\";import{imageToArrayBuffer as T,imageToDataURI as R}from\"./imageutils.js\";import{isEncodedMeshTexture as A}from\"../../../../../views/3d/glTF/internal/resourceUtils.js\";import{DataType as b,TextureWrapMode as E}from\"../../../../../views/webgl/enums.js\";const M=()=>e.getLogger(\"esri.geometry.support.meshUtils.exporters.gltf.gltf\");class O{constructor(e,t){this.options=t,this._materialMap=new Array,this._imageMap=new Map,this._textureMap=new Map,this.gltf={asset:{version:\"2.0\",copyright:e.copyright,generator:e.generator},extras:{output:t.output,binChunkBuffer:null,promises:[]}},this._addScenes(e)}_addScenes(e){this.gltf.scene=e.defaultScene;const t=this.gltf.extras,s=t.output.buffer===p.GLB||t.output.image===d.GLB;s&&(t.binChunkBuffer=new f(this.gltf)),e.forEachScene((e=>{this._addScene(e)})),s&&t.binChunkBuffer.finalize()}_addScene(e){this.gltf.scenes||(this.gltf.scenes=[]);const t={};e.name&&(t.name=e.name),e.forEachNode((e=>{t.nodes||(t.nodes=[]),t.nodes.push(...this._addNodes(e))})),this.gltf.scenes.push(t)}_addNodes(e){this.gltf.nodes||(this.gltf.nodes=[]);const t={};e.name&&(t.name=e.name);const s=e.translation;o(s,n)||(t.translation=l(s));const u=e.rotation;r(u,i)||(t.rotation=a(u));const h=e.scale;o(h,c)||(t.scale=l(h));const f=this.gltf.nodes.length;if(this.gltf.nodes.push(t),e.mesh&&e.mesh.vertexAttributes.position){const s=this._createMeshes(e.mesh),r=[f];if(1===s.length)this._addMesh(t,s[0]);else for(const e of s){const t={};this._addMesh(t,e),r.push(this.gltf.nodes.length),this.gltf.nodes.push(t)}return r}return e.forEachNode((e=>{t.children||(t.children=[]),t.children.push(...this._addNodes(e))})),[f]}_addMesh(e,t){this.gltf.meshes??=[];const s=this.gltf.meshes.length;this.gltf.meshes.push(t),e.mesh=s}_createMeshes(e){const t=this.gltf.extras,s=t.output.buffer===p.GLB;let r;r=s?t.binChunkBuffer:new f(this.gltf);const i=this.options.origin,a=e.vertexSpace.clone();a.origin=[i.x,i.y,i.z??0];const o=h({vertexAttributes:e.vertexAttributes,vertexSpace:e.vertexSpace,transform:this.options?.ignoreLocalTransform?null:e.transform,spatialReference:e.spatialReference},a,{targetUnit:\"meters\"});if(!o)return[];m(e,o),w(o);const{position:n,normal:l,tangent:c}=o,{uv:u,color:d}=e.vertexAttributes,_=r.addBufferView(b.FLOAT,g.VEC3,x.ARRAY_BUFFER);let T,R,A,E;l&&(T=r.addBufferView(b.FLOAT,g.VEC3,x.ARRAY_BUFFER)),u&&(R=r.addBufferView(b.FLOAT,g.VEC2,x.ARRAY_BUFFER)),c&&(A=r.addBufferView(b.FLOAT,g.VEC4,x.ARRAY_BUFFER)),d&&(E=r.addBufferView(b.UNSIGNED_BYTE,g.VEC4,x.ARRAY_BUFFER)),_.startAccessor(\"POSITION\"),T&&T.startAccessor(\"NORMAL\"),R&&R.startAccessor(\"TEXCOORD_0\"),A&&A.startAccessor(\"TANGENT\"),E&&E.startAccessor(\"COLOR_0\");const M=o.position.length/3;for(let h=0;h<M;++h)_.push(n[3*h]),_.push(n[3*h+1]),_.push(n[3*h+2]),T&&null!=l&&(T.push(l[3*h]),T.push(l[3*h+1]),T.push(l[3*h+2])),R&&null!=u&&(R.push(u[2*h]),R.push(u[2*h+1])),A&&null!=c&&(A.push(c[4*h]),A.push(c[4*h+1]),A.push(c[4*h+2]),A.push(c[4*h+3])),E&&null!=d&&(E.push(d[4*h]),E.push(d[4*h+1]),E.push(d[4*h+2]),E.push(d[4*h+3]));const O=_.endAccessor(),C=this._addAccessor(_.index,O);let I,N,v,S,B;if(T){const e=T.endAccessor();I=this._addAccessor(T.index,e)}if(R){const e=R.endAccessor();N=this._addAccessor(R.index,e)}if(A){const e=A.endAccessor();v=this._addAccessor(A.index,e)}if(E){const e=E.endAccessor();S=this._addAccessor(E.index,e)}const L=[];return e.components&&e.components.length>0&&e.components[0].faces?(B=r.addBufferView(b.UNSIGNED_INT,g.SCALAR,x.ELEMENT_ARRAY_BUFFER),this._addMeshVertexIndexed(B,e.components,L,C,I,N,v,S)):this._addMeshVertexNonIndexed(e.components,L,C,I,N,v,S),_.finalize(),T&&T.finalize(),R&&R.finalize(),A&&A.finalize(),B&&B.finalize(),E&&E.finalize(),s||r.finalize(),L}_addMaterial(e){if(null===e)return;const t=this._materialMap.indexOf(e);if(-1!==t)return t;this.gltf.materials||(this.gltf.materials=[]);const s={};switch(e.alphaMode){case\"mask\":s.alphaMode=_.MASK;break;case\"auto\":case\"blend\":s.alphaMode=_.BLEND}.5!==e.alphaCutoff&&(s.alphaCutoff=e.alphaCutoff),e.doubleSided&&(s.doubleSided=e.doubleSided),s.pbrMetallicRoughness={};const r=e=>e**2.1,i=e=>{const t=e.toRgba();return t[0]=r(t[0]/255),t[1]=r(t[1]/255),t[2]=r(t[2]/255),t};if(null!=e.color&&(s.pbrMetallicRoughness.baseColorFactor=i(e.color)),null!=e.colorTexture&&(s.pbrMetallicRoughness.baseColorTexture=this._createTextureInfo(e.colorTexture,e.colorTextureTransform)),null!=e.normalTexture&&(s.normalTexture=this._createTextureInfo(e.normalTexture,e.normalTextureTransform)),e instanceof u){if(null!=e.emissiveTexture&&(s.emissiveTexture=this._createTextureInfo(e.emissiveTexture,e.emissiveTextureTransform)),null!=e.emissiveColor){const t=i(e.emissiveColor);s.emissiveFactor=[t[0],t[1],t[2]]}null!=e.occlusionTexture&&(s.occlusionTexture=this._createTextureInfo(e.occlusionTexture,e.occlusionTextureTransform)),null!=e.metallicRoughnessTexture&&(s.pbrMetallicRoughness.metallicRoughnessTexture=this._createTextureInfo(e.metallicRoughnessTexture,e.metallicRoughnessTextureTransform)),s.pbrMetallicRoughness.metallicFactor=e.metallic,s.pbrMetallicRoughness.roughnessFactor=e.roughness}else s.pbrMetallicRoughness.metallicFactor=1,s.pbrMetallicRoughness.roughnessFactor=1,M().warnOnce(\"Meshes exported to GLTF without MeshMaterialMetallicRoughness material will appear different when imported back.\");const a=this.gltf.materials.length;return this.gltf.materials.push(s),this._materialMap.push(e),a}_createTextureInfo(e,t){const r={index:this._addTexture(e)};return t?(r.extensions||(r.extensions={}),r.extensions.KHR_texture_transform={scale:t.scale,offset:t.offset,rotation:s(t.rotation)},r):r}_addTexture(e){const s=this.gltf.textures??[];return this.gltf.textures=s,t(this._textureMap,e,(()=>{const t={sampler:this._addSampler(e),source:this._addImage(e)},r=s.length;return s.push(t),r}))}_addImage(e){const t=this._imageMap.get(e);if(null!=t)return t;this.gltf.images||(this.gltf.images=[]);const s={};if(e.url)s.uri=e.url;else{const t=e.data;s.extras=t;for(let e=0;e<this.gltf.images.length;++e)if(t===this.gltf.images[e].extras)return e;const r=this.gltf.extras;switch(r.output.image){case d.GLB:{const e=r.binChunkBuffer.addBufferView(b.UNSIGNED_BYTE,g.SCALAR);if(A(t))null!=t.data&&e.writeOutToBuffer(t.data,0);else{const i=T(t,this.options.signal).then((({data:e,type:t})=>(s.mimeType=t,e)));r.promises.push(e.writeAsync(i).then((()=>{e.finalize()})))}s.bufferView=e.index;break}case d.DataURI:if(A(t)){M().warnOnce(\"Image export for basis compressed textures not available.\");break}s.uri=R(t);break;default:if(A(t)){M().warnOnce(\"Image export for basis compressed textures not available.\");break}r.promises.push(T(t,this.options.signal).then((({data:e,type:t})=>{s.uri=e,s.mimeType=t})))}}const r=this.gltf.images.length;return this.gltf.images.push(s),this._imageMap.set(e,r),r}_addSampler(e){this.gltf.samplers||(this.gltf.samplers=[]);let t=E.REPEAT,s=E.REPEAT;if(\"string\"==typeof e.wrap)switch(e.wrap){case\"clamp\":t=E.CLAMP_TO_EDGE,s=E.CLAMP_TO_EDGE;break;case\"mirror\":t=E.MIRRORED_REPEAT,s=E.MIRRORED_REPEAT}else{switch(e.wrap.vertical){case\"clamp\":s=E.CLAMP_TO_EDGE;break;case\"mirror\":s=E.MIRRORED_REPEAT}switch(e.wrap.horizontal){case\"clamp\":t=E.CLAMP_TO_EDGE;break;case\"mirror\":t=E.MIRRORED_REPEAT}}const r={wrapS:t,wrapT:s};for(let a=0;a<this.gltf.samplers.length;++a)if(JSON.stringify(r)===JSON.stringify(this.gltf.samplers[a]))return a;const i=this.gltf.samplers.length;return this.gltf.samplers.push(r),i}_addAccessor(e,t){this.gltf.accessors||(this.gltf.accessors=[]);const s={bufferView:e,byteOffset:t.byteOffset,componentType:t.componentType,count:t.count,type:t.type,min:t.min,max:t.max,name:t.name};t.normalized&&(s.normalized=!0);const r=this.gltf.accessors.length;return this.gltf.accessors.push(s),r}_addMeshVertexIndexed(e,t,s,r,i,a,o,n){const l=new Map;for(const c of t){e.startAccessor(\"INDICES\");for(let s=0;s<c.faces.length;++s)e.push(c.faces[s]);const t=e.endAccessor(),u={attributes:{POSITION:r},indices:this._addAccessor(e.index,t),material:this._addMaterial(c.material)};i&&\"flat\"!==c.shading&&(u.attributes.NORMAL=i),a&&(u.attributes.TEXCOORD_0=a),o&&\"flat\"!==c.shading&&(u.attributes.TANGENT=o),n&&(u.attributes.COLOR_0=n);const h=l.get(c.name);if(h)h.primitives.push(u);else{const e={name:c.name,primitives:[u]};l.set(c.name,e),s.push(e)}}}_addMeshVertexNonIndexed(e,t,s,r,i,a,o){const n={primitives:[]};t.push(n);const l={attributes:{POSITION:s}};r&&(l.attributes.NORMAL=r),i&&(l.attributes.TEXCOORD_0=i),a&&(l.attributes.TANGENT=a),o&&(l.attributes.COLOR_0=o),e&&(l.material=this._addMaterial(e[0].material)),n.primitives.push(l)}}function w({position:e,normal:t,tangent:s}){C(e,3),C(t,3),C(s,4)}function C(e,t){if(null!=e)for(let s=1,r=2;s<e.length;s+=t,r+=t){const t=e[s],i=e[r];e[s]=i,e[r]=-t}}export{O as GLTF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../../../../../core/arrayUtils.js\";class s{constructor(){this.copyright=\"\",this.defaultScene=0,this.generator=\"\",this._scenes=[]}addScene(e){if(this._scenes.includes(e))throw new Error(\"Scene already added\");this._scenes.push(e)}removeScene(s){e(this._scenes,s)}forEachScene(e){this._scenes.forEach(e)}}export{s as Asset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{fromEuler as t}from\"../../../../../core/libs/gl-matrix-2/math/quat.js\";import{create as s}from\"../../../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{create as o,clone as r,ONES as i}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";class e{constructor(t){this.mesh=t,this.name=\"\",this.translation=o(),this.rotation=s(),this.scale=r(i),this._nodes=[]}addNode(t){if(this._nodes.includes(t))throw new Error(\"Node already added\");this._nodes.push(t)}forEachNode(t){this._nodes.forEach(t)}set rotationAngles(s){t(this.rotation,s[0],s[1],s[2])}}export{e as Node};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../../core/promiseUtils.js\";import{GLB as t}from\"./glb.js\";import{GLTF as r}from\"./gltf.js\";import{ImageOutputType as o,BufferOutputType as s}from\"./types.js\";export{AlphaMode,AttributeType,ColorMode,MeshMode}from\"./types.js\";import{isArrayBufferPNG as n,encodeBase64DataUri as a}from\"./imageutils.js\";export{Asset}from\"./asset.js\";export{Scene}from\"./scene.js\";export{Node}from\"./node.js\";const f=\"model.gltf\",i=\"model.glb\";async function u(u,l){const c=new r(u,l).gltf,p=c.extras.promises;let m=1,g=1,d=null;await Promise.allSettled(p),e(l.signal);const b=l.jsonSpacing??4,j=new Map,w=JSON.stringify(c,((e,t)=>{if(\"extras\"!==e){if(t instanceof ArrayBuffer){if(n(t))switch(l.output?.image){case o.DataURI:case o.GLB:break;case o.External:default:{const e=`img${g}.png`;return g++,j.set(e,t),e}}switch(l.output?.buffer){case s.DataURI:return a(t);case s.GLB:if(d)throw new Error(\"Already encountered an ArrayBuffer, there should only be one in the GLB format.\");return void(d=t);case s.External:default:{const e=`data${m}.bin`;return m++,j.set(e,t),e}}}return t}}),b);return l.output?.buffer===s.GLB||l.output?.image===o.GLB?j.set(i,new t(w,d).buffer):j.set(f,w),j}async function l(e,t){const r=(await u(e,{output:{buffer:s.GLB,image:o.GLB},jsonSpacing:0,...t})).get(i);if(!(r&&r instanceof ArrayBuffer))throw new Error(\"failed to export to glb\");return r}export{s as BufferOutputType,o as ImageOutputType,l as exportGLB,u as exportGLTF,i as modelNameGlb,f as modelNameGltf};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass d{constructor(){this.name=\"\",this._nodes=[]}addNode(d){if(this._nodes.includes(d))throw new Error(\"Node already added\");this._nodes.push(d)}forEachNode(d){this._nodes.forEach(d)}}export{d as Scene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{exportGLB as o}from\"./index.js\";import{Node as n}from\"./node.js\";import{Asset as e}from\"./asset.js\";import{Scene as r}from\"./scene.js\";async function i(i,t){const s=new e,m=new r;return s.addScene(m),m.addNode(new n(i)),await o(s,{origin:i.origin,...t})}export{i as toBinaryGLTF};\n"],"names":["a","e","t","m","toDataURL","async","i","n","r","HTMLImageElement","src","mediaType","test","o","s","Promise","toBlob","c","arrayBuffer","data","type","HTMLCanvasElement","HTMLVideoElement","document","createElement","width","height","getContext","drawImage","ImageData","putImageData","Uint8Array","length","push","String","fromCharCode","btoa","join","byteLength","JSON","BIN","constructor","Error","this","_length","HEADER_SIZE","CHUNK_HEADER_SIZE","TextEncoder","encode","buffer","h","ArrayBuffer","_outView","DataView","_writeHeader","_","_writeChunk","setUint32","MAGIC","VERSION","arguments","undefined","set","setUint8","Math","ceil","E","A","R","L","I","N","External","DataURI","GLB","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","OPAQUE","MASK","BLEND","NoColor","FaceColor","VertexColor","_buffer","_componentType","_dataType","_data","_isFinalized","_accessorIndex","_accessorAttribute","_accessorMin","_accessorMax","bufferViews","index","_bufferView","target","_getElementSize","byteStride","_numComponentsForDataType","_calculateNumComponentsForDataType","min","max","dataSize","_sizeComponentType","byteSize","getByteOffset","byteOffset","_createTypedArray","BYTE","Int8Array","FLOAT","Float32Array","SHORT","Int16Array","UNSIGNED_BYTE","UNSIGNED_INT","Uint32Array","UNSIGNED_SHORT","Uint16Array","writeOutToBuffer","writeAsync","_asyncWritePromise","then","startAccessor","Array","endAccessor","componentType","count","name","normalized","finalized","_finalizedPromise","resolve","_finalizedPromiseResolve","finalize","getViewFinalizePromises","allSettled","_gltf","_bufferViews","buffers","addBufferView","_finalizePromise","f","getArrayBuffer","_getTotalSize","uri","extras","promises","normal","position","faces","p","l","g","u","b","j","v","M","getLogger","O","options","_materialMap","_imageMap","Map","_textureMap","gltf","asset","version","copyright","generator","output","binChunkBuffer","_addScenes","scene","defaultScene","image","d","forEachScene","_addScene","scenes","forEachNode","nodes","_addNodes","translation","rotation","scale","mesh","vertexAttributes","_createMeshes","_addMesh","children","meshes","origin","vertexSpace","clone","x","y","z","transform","ignoreLocalTransform","spatialReference","targetUnit","components","shading","w","tangent","uv","color","T","C","_addAccessor","S","B","_addMeshVertexIndexed","_addMeshVertexNonIndexed","_addMaterial","indexOf","materials","alphaMode","alphaCutoff","doubleSided","pbrMetallicRoughness","toRgba","baseColorFactor","colorTexture","baseColorTexture","_createTextureInfo","colorTextureTransform","normalTexture","normalTextureTransform","emissiveTexture","emissiveTextureTransform","emissiveColor","emissiveFactor","occlusionTexture","occlusionTextureTransform","metallicRoughnessTexture","metallicRoughnessTextureTransform","metallicFactor","metallic","roughnessFactor","roughness","warnOnce","_addTexture","extensions","KHR_texture_transform","offset","textures","sampler","_addSampler","source","_addImage","get","images","url","signal","_ref","mimeType","bufferView","_ref2","samplers","REPEAT","wrap","CLAMP_TO_EDGE","MIRRORED_REPEAT","vertical","horizontal","wrapS","wrapT","stringify","accessors","attributes","POSITION","indices","material","NORMAL","TEXCOORD_0","TANGENT","COLOR_0","primitives","_ref3","_scenes","addScene","includes","removeScene","forEach","_nodes","addNode","rotationAngles","jsonSpacing"],"sourceRoot":""}