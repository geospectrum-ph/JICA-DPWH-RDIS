{"version":3,"file":"static/js/4279.c527d82a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/programUtils.js","../node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaders/MaterialPrograms.js","../node_modules/@arcgis/core/layers/support/kmlUtils.js","../node_modules/@arcgis/core/views/webgl/rasterUtils.js","../node_modules/@arcgis/core/views/support/imageReprojection.js","../node_modules/@arcgis/core/views/2d/layers/KMLLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e){const{options:n,value:o}=e;return\"number\"==typeof n[o]}function n(n){let o=\"\";for(const t in n){const i=n[t];if(\"boolean\"==typeof i)i&&(o+=`#define ${t}\\n`);else if(\"number\"==typeof i)o+=`#define ${t} ${i.toFixed()}\\n`;else if(\"object\"==typeof i)if(e(i)){const{value:e,options:n,namespace:f}=i,s=f?`${f}_`:\"\";for(const t in n)o+=`#define ${s}${t} ${n[t].toFixed()}\\n`;o+=`#define ${t} ${s}${e}\\n`}else{const e=i.options;let n=0;for(const t in e)o+=`#define ${e[t]} ${(n++).toFixed()}\\n`;o+=`#define ${t} ${e[i.value]}\\n`}}return o}export{n as glslifyDefineMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{brushes as e}from\"./brushes.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import s from\"./webgl/WGLContainer.js\";class a extends s{constructor(){super(...arguments),this._hasCrossfade=!1}get requiresDedicatedFBO(){return super.requiresDedicatedFBO||this._hasCrossfade}beforeRender(e){super.beforeRender(e),this._manageFade()}prepareRenderPasses(s){const a=s.registerRenderPass({name:\"bitmap\",brushes:[e.bitmap],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),a]}_manageFade(){this.children.reduce(((e,r)=>e+(r.inFadeTransition?1:0)),0)>=2?(this.children.forEach((e=>e.blendFunction=\"additive\")),this._hasCrossfade=!0):(this.children.forEach((e=>e.blendFunction=\"standard\")),this._hasCrossfade=!1)}}export{a as BitmapContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e,FeatureSelection as r}from\"../../engine/webgl/enums.js\";import{AGraphicContainer as i}from\"./AGraphicContainer.js\";import{renderHighlight as s}from\"../support/util.js\";class t extends i{renderChildren(i){for(const e of this.children)e.setTransform(i.state);if(super.renderChildren(i),this.attributeView.update(),this.children.some((e=>e.hasData))){switch(i.drawPhase){case e.MAP:this._renderChildren(i,r.All);break;case e.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(i)}this._boundsRenderer&&this._boundsRenderer.doRender(i)}}_renderHighlight(e){s(e,!1,(e=>{this._renderChildren(e,r.Highlight)}))}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{resolveIncludes as r}from\"./sources/resolver.js\";import{glslifyDefineMap as t}from\"../../../../webgl/programUtils.js\";const e=r=>{let t=\"\";t+=r[0].toUpperCase();for(let e=1;e<r.length;e++){const s=r[e];s===s.toUpperCase()?(t+=\"_\",t+=s):t+=s.toUpperCase()}return t},s=r=>{const s={};for(const t in r){s[e(t)]=r[t]}return t(s)},o=(t,e,o,n)=>{const a=t+t.substring(t.lastIndexOf(\"/\")),p=e+e.substring(e.lastIndexOf(\"/\")),f=s(n);return{attributes:o,shaders:{vertexShader:f+r(`${a}.vert`),fragmentShader:f+r(`${p}.frag`)}}};export{o as createProgramTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import{id as o}from\"../../kernel.js\";import t from\"../../PopupTemplate.js\";import r from\"../../request.js\";import{clone as s}from\"../../core/lang.js\";import{addQueryParameters as n}from\"../../core/urlUtils.js\";import i from\"../../geometry/SpatialReference.js\";import{create as f,negativeInfinity as a,expandWithAABB as l,equals as u}from\"../../geometry/support/aaBoundingBox.js\";import{getBoundsXYZ as m}from\"../../geometry/support/boundsUtils.js\";import{fromJSON as p}from\"../../renderers/support/jsonUtils.js\";import y from\"../../rest/support/FeatureSet.js\";const c={esriGeometryPoint:\"points\",esriGeometryPolyline:\"polylines\",esriGeometryPolygon:\"polygons\"};function d(e){const o=e.folders||[],t=o.slice(),r=new Map,n=new Map,i=new Map,f=new Map,a=new Map,l={esriGeometryPoint:n,esriGeometryPolyline:i,esriGeometryPolygon:f};(e.featureCollection?.layers||[]).forEach((e=>{const o=s(e);o.featureSet.features=[];const t=e.featureSet.geometryType;r.set(t,o);const a=e.layerDefinition.objectIdField;\"esriGeometryPoint\"===t?h(n,a,e.featureSet.features):\"esriGeometryPolyline\"===t?h(i,a,e.featureSet.features):\"esriGeometryPolygon\"===t&&h(f,a,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((e=>{a.set(e.id,e)})),o.forEach((o=>{o.networkLinkIds.forEach((r=>{const s=P(r,o.id,e.networkLinks);s&&t.push(s)}))})),t.forEach((e=>{if(e.featureInfos){e.points=s(r.get(\"esriGeometryPoint\")),e.polylines=s(r.get(\"esriGeometryPolyline\")),e.polygons=s(r.get(\"esriGeometryPolygon\")),e.mapImages=[];for(const o of e.featureInfos)switch(o.type){case\"esriGeometryPoint\":case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":{const t=l[o.type].get(o.id);t&&e[c[o.type]]?.featureSet.features.push(t);break}case\"GroundOverlay\":{const t=a.get(o.id);t&&e.mapImages.push(t);break}}e.fullExtent=j([e])}}));const u=j(t);return{folders:o,sublayers:t,extent:u}}function g(t,s,i,f){const a=o?.findCredential(t);t=n(t,{token:a?.token});const l=e.kmlServiceUrl;return r(l,{query:{url:t,model:\"simple\",folders:\"\",refresh:0!==i||void 0,outSR:JSON.stringify(s)},responseType:\"json\",signal:f})}function S(e,o,t=null,r=[]){const s=[],n={},i=o.sublayers,f=new Set(o.folders.map((e=>e.id)));return i.forEach((o=>{const i=new e;if(t?i.read(o,t):i.read(o),r.length&&f.has(i.id)&&(i.visible=r.includes(i.id)),n[o.id]=i,null!=o.parentFolderId&&-1!==o.parentFolderId){const e=n[o.parentFolderId];e.sublayers||(e.sublayers=[]),e.sublayers?.unshift(i)}else s.unshift(i)})),s}function h(e,o,t){t.forEach((t=>{e.set(t.attributes[o],t)}))}function G(e,o){let t;return o.some((o=>o.id===e&&(t=o,!0))),t}function P(e,o,t){const r=G(e,t);return r&&(r.parentFolderId=o,r.networkLink=r),r}async function b(e){const o=y.fromJSON(e.featureSet).features,r=e.layerDefinition,s=p(r.drawingInfo.renderer),n=t.fromJSON(e.popupInfo),i=[];for(const t of o){const e=await s.getSymbolAsync(t);t.symbol=e,t.popupTemplate=n,t.visible=!0,i.push(t)}return i}function j(e){const o=f(a),t=f(a);for(const r of e){if(r.polygons?.featureSet?.features)for(const e of r.polygons.featureSet.features)m(o,e.geometry),l(t,o);if(r.polylines?.featureSet?.features)for(const e of r.polylines.featureSet.features)m(o,e.geometry),l(t,o);if(r.points?.featureSet?.features)for(const e of r.points.featureSet.features)m(o,e.geometry),l(t,o);if(r.mapImages)for(const e of r.mapImages)m(o,e.extent),l(t,o)}return u(t,a)?void 0:{xmin:t[0],ymin:t[1],zmin:t[2],xmax:t[3],ymax:t[4],zmax:t[5],spatialReference:i.WGS84}}export{j as computeExtent,g as fetchService,b as getGraphics,d as parseKML,S as sublayersFromJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{PixelType as t,SizedPixelFormat as n,PixelFormat as r,TextureSamplingMode as a,TextureWrapMode as i,UniformType as o}from\"./enums.js\";import{Texture as s}from\"./Texture.js\";import{TextureDescriptor as u}from\"./TextureDescriptor.js\";function f(e,o,f=\"nearest\",c=!1){const m=!(c&&\"u8\"===o.pixelType),l=m?t.FLOAT:t.UNSIGNED_BYTE,_=null==o.pixels||0===o.pixels.length?null:m?o.getAsRGBAFloat():o.getAsRGBA(),g=e.capabilities.textureFloatLinear,p=new u;return p.width=o.width,p.height=o.height,p.internalFormat=m?n.RGBA32F:r.RGBA,p.samplingMode=!g||\"bilinear\"!==f&&\"cubic\"!==f?a.NEAREST:a.LINEAR,p.dataType=l,p.wrapMode=i.CLAMP_TO_EDGE,new s(e,p,_)}function c(e,r){const{spacing:o,offsets:f,coefficients:c,size:[m,l]}=r,_=o[0]>1,g=new u;g.width=_?4*m:m,g.height=l,g.internalFormat=n.RGBA32F,g.dataType=t.FLOAT,g.samplingMode=a.NEAREST,g.wrapMode=i.CLAMP_TO_EDGE;const p=new Float32Array(_?m*l*16:2*f.length);if(_&&null!=c)for(let t=0,n=0;t<c.length;t++)p[n++]=c[t],t%3==2&&(p[n++]=1);else for(let t=0;t<l;t++)for(let e=0;e<m;e++){const n=4*(t*m+e),r=2*(e*l+t);p[n]=f[r],p[n+1]=f[r+1],p[n+3]=-1===f[r]?0:1}return new s(e,g,p)}function m(e,t){const n=new u;return n.internalFormat=r.RGBA,n.width=t.length/4,n.height=1,n.samplingMode=a.NEAREST,n.wrapMode=i.CLAMP_TO_EDGE,new s(e,n,t)}function l(t,n,r,a=1,i=!0){return{u_flipY:i,u_applyTransform:!!t,u_opacity:a,u_transformSpacing:t?t.spacing:e,u_transformGridSize:t?t.size:e,u_targetImageSize:n,u_srcImageSize:r}}function _(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}}function g(e,t){return{u_scale:e,u_offset:t}}function p(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function A(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function T(e,t){const n=e.gl,r=t.glName,a=new Map;if(null==r)return a;const i=n.getProgramParameter(r,n.ACTIVE_UNIFORMS);let o;for(let s=0;s<i;s++)o=n.getActiveUniform(r,s),o&&a.set(o.name,{location:n.getUniformLocation(r,o.name),info:o});return a}function h(e,t,n){Object.keys(n).forEach((r=>{const a=t.get(r)||t.get(r+\"[0]\");a&&E(e,r,n[r],a)}))}function O(e,t,n,r){n.length===r.length&&(r.some((e=>null==e))||n.some((e=>null==e))||n.forEach(((n,a)=>{t.setUniform1i(n,a),e.bindTexture(r[a],a)})))}function E(e,t,n,r){if(null===r||null==n)return!1;const{info:a}=r;switch(a.type){case o.FLOAT:a.size>1?e.setUniform1fv(t,n):e.setUniform1f(t,n);break;case o.FLOAT_VEC2:e.setUniform2fv(t,n);break;case o.FLOAT_VEC3:e.setUniform3fv(t,n);break;case o.FLOAT_VEC4:e.setUniform4fv(t,n);break;case o.FLOAT_MAT3:e.setUniformMatrix3fv(t,n);break;case o.FLOAT_MAT4:e.setUniformMatrix4fv(t,n);break;case o.INT:a.size>1?e.setUniform1iv(t,n):e.setUniform1i(t,n);break;case o.BOOL:e.setUniform1i(t,n?1:0);break;case o.INT_VEC2:case o.BOOL_VEC2:e.setUniform2iv(t,n);break;case o.INT_VEC3:case o.BOOL_VEC3:e.setUniform3iv(t,n);break;case o.INT_VEC4:case o.BOOL_VEC4:e.setUniform4iv(t,n);break;default:return!1}return!0}export{m as createColormapTexture,f as createRasterTexture,c as createTransformTexture,g as getBasicGridUniforms,_ as getColormapUniforms,l as getCommonUniforms,A as getShadedReliefUniforms,p as getStretchUniforms,T as getUniformLocationInfos,O as setTextures,h as setUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import e from\"../../geometry/Point.js\";import{project as r}from\"../../geometry/projection.js\";import{projectResolution as i,getProjectionOffsetGrid as a}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{isImageSource as s,rasterize as n}from\"../2d/engine/Bitmap.js\";import o from\"../2d/engine/webgl/VertexStream.js\";import{createProgramTemplate as m}from\"../2d/engine/webgl/shaders/MaterialPrograms.js\";import{createContext as c}from\"../webgl/contextUtils.js\";import{TextureWrapMode as p,PixelFormat as h,PixelType as x,ColorAttachment as u}from\"../webgl/enums.js\";import{FramebufferObject as d}from\"../webgl/FramebufferObject.js\";import{createTransformTexture as _}from\"../webgl/rasterUtils.js\";import{RenderingContext as g}from\"../webgl/RenderingContext.js\";import{Texture as f}from\"../webgl/Texture.js\";import{TextureDescriptor as l}from\"../webgl/TextureDescriptor.js\";class w{constructor(t){if(this._ownsRctx=!1,t)this._ownsRctx=!1,this._rctx=t;else{if(w._instance)return w._instanceRefCount++,w._instance;w._instanceRefCount=1,w._instance=this,this._ownsRctx=!0;const t=document.createElement(\"canvas\"),e=c(t);e.getExtension(\"OES_texture_float\"),this._rctx=new g(e,{})}const e={applyProjection:!0,bilinear:!1,bicubic:!1},r=m(\"raster/reproject\",\"raster/reproject\",new Map([[\"a_position\",0]]),e);this._program=this._rctx.programCache.acquire(r.shaders.vertexShader,r.shaders.fragmentShader,r.attributes),this._rctx.useProgram(this._program),this._program.setUniform1f(\"u_opacity\",1),this._program.setUniform1i(\"u_image\",0),this._program.setUniform1i(\"u_flipY\",0),this._program.setUniform1i(\"u_transformGrid\",1),this._quad=new o(this._rctx,[0,0,1,0,0,1,1,1])}reprojectTexture(t,s,n=!1){const o=r(t.extent,s),m=new e({x:(t.extent.xmax-t.extent.xmin)/t.texture.descriptor.width,y:(t.extent.ymax-t.extent.ymin)/t.texture.descriptor.height,spatialReference:t.extent.spatialReference}),{x:c,y:g}=i(m,s,t.extent);let f=(c+g)/2;const w=Math.round((o.xmax-o.xmin)/f),b=Math.round((o.ymax-o.ymin)/f);f=(o.width/w+o.height/b)/2;const j=new e({x:f,y:f,spatialReference:o.spatialReference}),D=a({projectedExtent:o,srcBufferExtent:t.extent,pixelSize:j,hasWrapAround:!0,spacing:[16,16]}),R=_(this._rctx,D),T=new l(w,b);T.wrapMode=p.CLAMP_TO_EDGE;const C=new d(this._rctx,T);this._rctx.bindFramebuffer(C),this._rctx.setViewport(0,0,w,b),this._rctx.useProgram(this._program),this._rctx.bindTexture(t.texture,0),this._rctx.bindTexture(R,1),this._quad.bind();const{width:y=0,height:E=0}=t.texture.descriptor;if(this._program.setUniform2f(\"u_srcImageSize\",y,E),this._program.setUniform2fv(\"u_transformSpacing\",D.spacing),this._program.setUniform2fv(\"u_transformGridSize\",D.size),this._program.setUniform2f(\"u_targetImageSize\",w,b),this._quad.draw(),this._quad.unbind(),this._rctx.useProgram(null),this._rctx.bindFramebuffer(null),R.dispose(),n){const{width:t,height:e}=C,r=new ImageData(t??0,e??0);C.readPixels(0,0,t??0,e??0,h.RGBA,x.UNSIGNED_BYTE,r.data);const i=C.detachColorTexture(u.COLOR_ATTACHMENT0);return C.dispose(),{texture:i,extent:o,imageData:r}}const U=C.detachColorTexture(u.COLOR_ATTACHMENT0);return C.dispose(),{texture:U,extent:o}}reprojectBitmapData(t,e){const r=s(t.bitmapData)?n(t.bitmapData):t.bitmapData,i=new l;i.wrapMode=p.CLAMP_TO_EDGE,i.width=t.bitmapData.width,i.height=t.bitmapData.height;const a=new f(this._rctx,i,r),o=this.reprojectTexture({texture:a,extent:t.extent},e,!0);o.texture.dispose();const m=document.createElement(\"canvas\"),c=o.imageData;m.width=c.width,m.height=c.height;return m.getContext(\"2d\").putImageData(c,0,0),{bitmapData:m,extent:o.extent}}async loadAndReprojectBitmapData(e,r,i){const a=(await t(e,{responseType:\"image\"})).data,s=document.createElement(\"canvas\");s.width=a.width,s.height=a.height;const n=s.getContext(\"2d\");n.drawImage(a,0,0);const o=n.getImageData(0,0,s.width,s.height);if(r.spatialReference.equals(i))return{bitmapData:o,extent:r};const m=this.reprojectBitmapData({bitmapData:o,extent:r},i);return{bitmapData:m.bitmapData,extent:m.extent}}destroy(){this._ownsRctx?(w._instanceRefCount--,0===w._instanceRefCount&&(this._quad.dispose(),this._program.dispose(),this._rctx.dispose(),w._instance=null)):(this._quad.dispose(),this._program.dispose())}}w._instanceRefCount=0;export{w as ImageReprojector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{version as i}from\"../../../kernel.js\";import t from\"../../../core/Collection.js\";import{abortMaybe as s,destroyMaybe as a}from\"../../../core/maybe.js\";import{watch as o}from\"../../../core/reactiveUtils.js\";import{queryToObject as l,objectToQuery as r}from\"../../../core/urlUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../geometry/Extent.js\";import{load as m,project as c}from\"../../../geometry/projection.js\";import d from\"../../../geometry/SpatialReference.js\";import{getGraphics as y,fetchService as g,parseKML as w}from\"../../../layers/support/kmlUtils.js\";import{parseUrl as u}from\"../../../rest/utils.js\";import{GraphicsCollection as _}from\"../../../support/GraphicsCollection.js\";import{Bitmap as b}from\"../engine/Bitmap.js\";import{BitmapContainer as V}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as f}from\"./LayerView2D.js\";import v from\"./graphics/GraphicContainer.js\";import S from\"./graphics/GraphicsView2D.js\";import I from\"../../layers/LayerView.js\";import{ImageReprojector as x}from\"../../support/imageReprojection.js\";class C{constructor(){this.allSublayers=new Map,this.allPoints=[],this.allPolylines=[],this.allPolygons=[],this.allMapImages=[]}}let j=class extends(f(I)){constructor(){super(...arguments),this._bitmapIndex=new Map,this._mapImageContainer=new V,this._kmlVisualData=new C,this._fetchController=null,this.allVisiblePoints=new _,this.allVisiblePolylines=new _,this.allVisiblePolygons=new _,this.allVisibleMapImages=new t}async hitTest(e,i){const t=this.layer;return[this._pointsView?.hitTest(e),this._polylinesView?.hitTest(e),this._polygonsView?.hitTest(e)].flat().filter(Boolean).map((i=>(i.layer=t,i.sourceLayer=t,{type:\"graphic\",graphic:i,layer:t,mapPoint:e})))}update(e){this._polygonsView&&this._polygonsView.processUpdate(e),this._polylinesView&&this._polylinesView.processUpdate(e),this._pointsView&&this._pointsView.processUpdate(e)}attach(){this._fetchController=new AbortController,this.container.addChild(this._mapImageContainer),this._polygonsView=new S({view:this.view,graphics:this.allVisiblePolygons,requestUpdateCallback:()=>this.requestUpdate(),container:new v(this.view.featuresTilingScheme)}),this.container.addChild(this._polygonsView.container),this._polylinesView=new S({view:this.view,graphics:this.allVisiblePolylines,requestUpdateCallback:()=>this.requestUpdate(),container:new v(this.view.featuresTilingScheme)}),this.container.addChild(this._polylinesView.container),this._pointsView=new S({view:this.view,graphics:this.allVisiblePoints,requestUpdateCallback:()=>this.requestUpdate(),container:new v(this.view.featuresTilingScheme)}),this.container.addChild(this._pointsView.container),this.addAttachHandles([this.allVisibleMapImages.on(\"change\",(e=>{e.added.forEach((e=>this._addMapImage(e))),e.removed.forEach((e=>this._removeMapImage(e)))})),o((()=>this.layer.visibleSublayers),(e=>{for(const[i,t]of this._kmlVisualData.allSublayers)t.visibility=0;for(const i of e){const e=this._kmlVisualData.allSublayers.get(i.id);e&&(e.visibility=1)}this._refreshCollections()}))]),this._updatingHandles.addPromise(this._fetchService(this._fetchController.signal)),this._imageReprojector=new x}detach(){this._fetchController=s(this._fetchController),this._mapImageContainer.removeAllChildren(),this.container.removeAllChildren(),this._bitmapIndex.clear(),this._polygonsView=a(this._polygonsView),this._polylinesView=a(this._polylinesView),this._pointsView=a(this._pointsView),this._imageReprojector=a(this._imageReprojector)}viewChange(){this._polygonsView.viewChange(),this._polylinesView.viewChange(),this._pointsView.viewChange()}moveEnd(){}isUpdating(){return this._pointsView.updating||this._polygonsView.updating||this._polylinesView.updating}_addMapImage(e){(this.view.spatialReference?.isWGS84||this.view.spatialReference?.isWebMercator)&&this._imageReprojector.loadAndReprojectBitmapData(e.href,p.fromJSON(e.extent),this.view.spatialReference).then((i=>{const t=new b(i.bitmapData);t.x=i.extent.xmin,t.y=i.extent.ymax,t.resolution=i.extent.width/i.bitmapData.width,t.rotation=e.rotation,this._mapImageContainer.addChild(t),this._bitmapIndex.set(e,t)}))}async _getViewDependentUrl(e,t){const{viewFormat:s,viewBoundScale:a,httpQuery:o}=e;if(null!=s){if(null==t)throw new Error(\"Loading this network link requires a view state.\");let n;if(await m(),null!=a&&1!==a){const e=new p(t.extent);e.expand(a),n=e}else n=t.extent;n=c(n,d.WGS84);const h=c(n,d.WebMercator),y=n.xmin,g=n.xmax,w=n.ymin,_=n.ymax,b=t.size[0]*t.pixelRatio,V=t.size[1]*t.pixelRatio,f=Math.max(h.width,h.height),v={\"[bboxWest]\":y.toString(),\"[bboxEast]\":g.toString(),\"[bboxSouth]\":w.toString(),\"[bboxNorth]\":_.toString(),\"[lookatLon]\":n.center.x.toString(),\"[lookatLat]\":n.center.y.toString(),\"[lookatRange]\":f.toString(),\"[lookatTilt]\":\"0\",\"[lookatHeading]\":t.rotation.toString(),\"[lookatTerrainLon]\":n.center.x.toString(),\"[lookatTerrainLat]\":n.center.y.toString(),\"[lookatTerrainAlt]\":\"0\",\"[cameraLon]\":n.center.x.toString(),\"[cameraLat]\":n.center.y.toString(),\"[cameraAlt]\":f.toString(),\"[horizFov]\":\"60\",\"[vertFov]\":\"60\",\"[horizPixels]\":b.toString(),\"[vertPixels]\":V.toString(),\"[terrainEnabled]\":\"0\",\"[clientVersion]\":i,\"[kmlVersion]\":\"2.2\",\"[clientName]\":\"ArcGIS API for JavaScript\",\"[language]\":\"en-US\"},S=e=>{for(const i in e){let t;for(t in v)e[i]=e[i].replace(t,v[t])}},I=l(s);S(I);let x={};null!=o&&(x=l(o),S(x));const C=u(e.href);C.query={...C.query,...I,...x};return`${C.path}?${r(I)}`}return e.href}async _fetchService(e){const i=new C;await this._loadVisualData(this.layer.url,i,e),this._kmlVisualData=i,this._refreshCollections()}_refreshCollections(){this.allVisiblePoints.removeAll(),this.allVisiblePolylines.removeAll(),this.allVisiblePolygons.removeAll(),this.allVisibleMapImages.removeAll(),this.allVisiblePoints.addMany(this._kmlVisualData.allPoints.filter((e=>this._isSublayerVisible(e.sublayerId))).map((({item:e})=>e))),this.allVisiblePolylines.addMany(this._kmlVisualData.allPolylines.filter((e=>this._isSublayerVisible(e.sublayerId))).map((({item:e})=>e))),this.allVisiblePolygons.addMany(this._kmlVisualData.allPolygons.filter((e=>this._isSublayerVisible(e.sublayerId))).map((({item:e})=>e))),this.allVisibleMapImages.addMany(this._kmlVisualData.allMapImages.filter((e=>this._isSublayerVisible(e.sublayerId))).map((({item:e})=>e)))}_isSublayerVisible(e){const i=this._kmlVisualData.allSublayers.get(e);return!!i?.visibility&&(-1===i.parentFolderId||this._isSublayerVisible(i.parentFolderId))}_loadVisualData(e,i,t){return this._fetchParsedKML(e,t).then((async e=>{for(const s of e.sublayers){i.allSublayers.set(s.id,s);const e=s.points?await y(s.points):[],a=s.polylines?await y(s.polylines):[],o=s.polygons?await y(s.polygons):[],l=s.mapImages||[];if(i.allPoints.push(...e.map((e=>({item:e,sublayerId:s.id})))),i.allPolylines.push(...a.map((e=>({item:e,sublayerId:s.id})))),i.allPolygons.push(...o.map((e=>({item:e,sublayerId:s.id})))),i.allMapImages.push(...l.map((e=>({item:e,sublayerId:s.id})))),s.networkLink){const e=await this._getViewDependentUrl(s.networkLink,this.view.state);await this._loadVisualData(e,i,t)}}}))}_fetchParsedKML(e,i){return g(e,this.layer.spatialReference,this.layer.refreshInterval,i).then((e=>w(e.data)))}_removeMapImage(e){const i=this._bitmapIndex.get(e);i&&(this._mapImageContainer.removeChild(i),this._bitmapIndex.delete(e))}};e([n()],j.prototype,\"_pointsView\",void 0),e([n()],j.prototype,\"_polylinesView\",void 0),e([n()],j.prototype,\"_polygonsView\",void 0),e([n()],j.prototype,\"updating\",void 0),j=e([h(\"esri.views.2d.layers.KMLLayerView2D\")],j);const k=j;export{k as default};\n"],"names":["e","options","n","value","o","t","i","toFixed","namespace","f","s","a","constructor","super","arguments","this","_hasCrossfade","requiresDedicatedFBO","beforeRender","_manageFade","prepareRenderPasses","registerRenderPass","name","brushes","bitmap","target","children","drawPhase","r","MAP","reduce","inFadeTransition","forEach","blendFunction","renderChildren","setTransform","state","attributeView","update","some","hasData","_renderChildren","All","HIGHLIGHT","hasHighlight","_renderHighlight","_boundsRenderer","doRender","Highlight","toUpperCase","length","substring","lastIndexOf","p","attributes","shaders","vertexShader","fragmentShader","c","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","d","folders","slice","Map","l","featureCollection","layers","featureSet","features","geometryType","set","layerDefinition","objectIdField","h","groundOverlays","id","networkLinkIds","G","parentFolderId","networkLink","P","networkLinks","push","featureInfos","points","get","polylines","polygons","mapImages","type","fullExtent","j","u","sublayers","extent","g","findCredential","token","kmlServiceUrl","query","url","model","refresh","outSR","JSON","stringify","responseType","signal","S","undefined","Set","map","read","has","visible","includes","unshift","async","b","y","fromJSON","drawingInfo","renderer","popupInfo","getSymbolAsync","symbol","popupTemplate","m","geometry","xmin","ymin","zmin","xmax","ymax","zmax","spatialReference","WGS84","pixelType","FLOAT","UNSIGNED_BYTE","_","pixels","getAsRGBAFloat","getAsRGBA","capabilities","textureFloatLinear","width","height","internalFormat","RGBA32F","RGBA","samplingMode","NEAREST","LINEAR","dataType","wrapMode","CLAMP_TO_EDGE","spacing","offsets","coefficients","size","Float32Array","u_flipY","u_applyTransform","u_opacity","u_transformSpacing","u_transformGridSize","u_targetImageSize","u_srcImageSize","u_colormapOffset","u_colormapMaxIndex","u_scale","u_offset","u_bandCount","bandCount","u_minOutput","outMin","u_maxOutput","outMax","u_minCutOff","minCutOff","u_maxCutOff","maxCutOff","u_factor","factor","u_useGamma","useGamma","u_gamma","gamma","u_gammaCorrection","gammaCorrection","A","u_hillshadeType","hillshadeType","u_sinZcosAs","sinZcosAs","u_sinZsinAs","sinZsinAs","u_cosZs","cosZs","u_weights","weights","u_minValue","minValue","u_maxValue","maxValue","T","gl","glName","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","location","getUniformLocation","info","Object","keys","setUniform1fv","setUniform1f","FLOAT_VEC2","setUniform2fv","FLOAT_VEC3","setUniform3fv","FLOAT_VEC4","setUniform4fv","FLOAT_MAT3","setUniformMatrix3fv","FLOAT_MAT4","setUniformMatrix4fv","INT","setUniform1iv","setUniform1i","BOOL","INT_VEC2","BOOL_VEC2","setUniform2iv","INT_VEC3","BOOL_VEC3","setUniform3iv","INT_VEC4","BOOL_VEC4","setUniform4iv","E","O","bindTexture","w","_ownsRctx","_rctx","_instance","_instanceRefCount","document","createElement","getExtension","applyProjection","bilinear","bicubic","_program","programCache","acquire","useProgram","_quad","reprojectTexture","x","texture","descriptor","Math","round","D","projectedExtent","srcBufferExtent","pixelSize","hasWrapAround","R","C","bindFramebuffer","setViewport","bind","setUniform2f","draw","unbind","dispose","ImageData","readPixels","data","detachColorTexture","COLOR_ATTACHMENT0","imageData","U","reprojectBitmapData","bitmapData","getContext","putImageData","loadAndReprojectBitmapData","drawImage","getImageData","equals","destroy","allSublayers","allPoints","allPolylines","allPolygons","allMapImages","I","_bitmapIndex","_mapImageContainer","V","_kmlVisualData","_fetchController","allVisiblePoints","allVisiblePolylines","allVisiblePolygons","allVisibleMapImages","hitTest","layer","_pointsView","_polylinesView","_polygonsView","flat","filter","Boolean","sourceLayer","graphic","mapPoint","processUpdate","attach","AbortController","container","addChild","view","graphics","requestUpdateCallback","requestUpdate","v","featuresTilingScheme","addAttachHandles","on","added","_addMapImage","removed","_removeMapImage","visibleSublayers","visibility","_refreshCollections","_updatingHandles","addPromise","_fetchService","_imageReprojector","detach","removeAllChildren","clear","viewChange","moveEnd","isUpdating","updating","isWGS84","isWebMercator","href","then","resolution","rotation","_getViewDependentUrl","viewFormat","viewBoundScale","httpQuery","Error","expand","WebMercator","pixelRatio","max","toString","center","replace","path","_loadVisualData","removeAll","addMany","_isSublayerVisible","sublayerId","_ref","item","_ref2","_ref3","_ref4","_fetchParsedKML","refreshInterval","removeChild","delete","prototype","k"],"sourceRoot":""}