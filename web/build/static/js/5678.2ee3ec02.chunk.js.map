{"version":3,"file":"static/js/5678.2ee3ec02.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js","../node_modules/@arcgis/core/views/3d/layers/graphics/StreamGraphics3DGraphicsPipeline.js","../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/StreamLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}peekLast(){return 0===this.size?null:this._buffer[(this._start+(this.size-1))%this.maxSize]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../TimeExtent.js\";import{isSome as e}from\"../core/arrayUtils.js\";import{deprecatedFunction as n}from\"../core/deprecate.js\";import{clone as i}from\"../core/lang.js\";import r from\"../core/Logger.js\";import{offsetDate as s}from\"../core/timeUtils.js\";import{isWebMap as l}from\"../webmap/utils.js\";import{isWebScene as o}from\"../webscene/utils.js\";function m(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??f(t.allLayers,e)}function a(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function c(t){const{numStops:e,stopInterval:n,stops:r}=t;return r?{dates:i(r)}:n?{interval:n.clone()}:{count:e??5}}async function f(n,i){if(0===n.length)return t.allTime;await Promise.all(n.map((t=>t.load({signal:i}))));const r=n.filter(m),s=n.filter((t=>!m(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===s.length)return t.allTime;const l=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):l.push(t);const u=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...s.map((t=>t.visibilityTimeExtent))];if(a.some(u))return t.allTime;const c=l.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:i}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),f=(await Promise.allSettled(c)).map((t=>\"fulfilled\"===t.status?t.value:null));if(f.some(u))return t.allTime;const p=[...f,...a].filter(e);if(0===p.length)return t.allTime;return p.reduce(((t,e)=>t.union(e)))}function p(e,n){const i=e.currentTimeExtent;if(!i)return null;const{start:r,end:s}=i,l=r??s??null;switch(n){case\"time-window\":return new t({start:r,end:s});case\"cumulative-from-start\":return new t({start:null,end:l});case\"cumulative-from-end\":return new t({start:l,end:null});case\"instant\":return new t({start:l,end:l})}}async function d(t,e){return n(r.getLogger(\"esri.support.timeUtils.getTimeSliderSettingsFromWebMap\"),\"`timeUtils.getTimeSliderSettingsFromWebMap` is deprecated in favor of 'timeUtils.getTimeSliderSettingsFromWebDocument'\",{replacement:\"timeUtils.getTimeSliderSettingsFromWebDocument\",version:\"4.30\",see:\"https://developers.arcgis.com/javascript/latest/api-reference/esri-support-timeUtils.html#getTimeSliderSettingsFromWebDocument\",warnOnce:!0}),null!=t&&l(t)?await g(t,e):null}async function g(t,e){if(!l(t)&&!o(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),r=n.loop,s=a(n);return{fullTimeExtent:i,loop:r,mode:s,playRate:n.stopDelay??2e3,stops:c(n),timeExtent:p(n,s)}}function T(e){if(!e)return e;const{start:n,end:i}=e;return new t({start:null!=n?s(n,-n.getTimezoneOffset(),\"minutes\"):n,end:null!=i?s(i,-i.getTimezoneOffset(),\"minutes\"):i})}function w(e){if(!e)return e;const{start:n,end:i}=e;return new t({start:null!=n?s(n,n.getTimezoneOffset(),\"minutes\"):n,end:null!=i?s(i,i.getTimezoneOffset(),\"minutes\"):i})}export{f as getTimeExtentFromLayers,g as getTimeSliderSettingsFromWebDocument,d as getTimeSliderSettingsFromWebMap,w as toLocalTimeExtent,T as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{watch as i}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamFeatureManager as c}from\"../data/StreamFeatureManager.js\";import{createConnection as h}from\"../sources/connections/createConnection.js\";import{EventedSet as d}from\"../../../views/3d/support/EventedSet.js\";import{featureGeometryTypeKebabDictionary as l}from\"../../../geometry/support/typeUtils.js\";const p=2500;let u=class extends t{constructor(e){super(e)}getObjectId(){return this.objectId}};e([a({type:Number,json:{read:!0}})],u.prototype,\"objectId\",void 0),u=e([n(\"esri.layers.graphics.controllers.StreamController.StreamGraphic\")],u);class m{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}let y=class extends(o(s)){constructor(){super(...arguments),this.isPaused=!1,this.graphics=new d,this._updateInfo={websocket:0,client:0},this._updateIntervalId=null,this._outSpatialReference=null}initialize(){this.addResolvingPromise(this.layer.when((()=>this._startup())))}destroy(){this.clear()}_clearInterval(){null!==this._updateIntervalId&&(clearInterval(this._updateIntervalId),this._updateIntervalId=null)}clear(){this._shutdown(),this.graphics.clear()}get updating(){return!this.connection||\"connected\"===this.connection.connectionStatus}_shutdown(){this._clearInterval(),this.connection=r(this.connection),this.store=r(this.store),this.removeAllHandles()}_startup(){const{layer:e,layerView:t}=this,{spatialReference:s,definitionExpression:r,geometryDefinition:o,objectIdField:a,timeInfo:n,purgeOptions:d,maxReconnectionAttempts:p,maxReconnectionInterval:u,customParameters:y}=e,f=e.geometryType?l.toJSON(e.geometryType):null,g=s,_=t.view.spatialReference;this.clear(),this._set(\"connection\",h(e.parsedUrl,g,_,f,r,o,p,u,y??void 0)),this._outSpatialReference=_.toJSON(),this.store=new m(this._onUpdate.bind(this)),this.featuresManager=new c(this.store,a,n.toJSON(),d);const I=\"startup-watches\";this.removeHandles(I),this.addHandles([e.on(\"send-message-to-socket\",(e=>this.connection.sendMessageToSocket(e))),e.on(\"send-message-to-client\",(e=>this.connection.sendMessageToClient(e))),this.connection.on(\"data-received\",(e=>this._onFeature(e))),this.connection.on(\"message-received\",(e=>this._onWebSocketMessage(e))),i((()=>[e.definitionExpression,e.geometryDefinition,e.purgeOptions]),(()=>this._startup()))],I),this.isPaused||this._initUpdateInterval()}_onWebSocketMessage(e){if(this.layerView.emit(\"message-received\",e),\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this.featuresManager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this.featuresManager.removeByTrackId(t);break;case\"clear\":this.store.forEach((e=>this.featuresManager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener(\"data-received\")&&this.layerView.emit(\"data-received\",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{null==e.geometry||e.geometry.spatialReference||(e.geometry.spatialReference=this._outSpatialReference);const t=u.fromJSON(e);t.sourceLayer=t.layer=this.layer,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){null!=t&&this.graphics.removeMany(t),null!=e&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}_initUpdateInterval(){this._clearInterval();const{updateInterval:e}=this.layer;let t=performance.now();this._updateIntervalId=setInterval((()=>{const e=performance.now(),s=e-t;if(s>p){t=e;const r=Math.round(this._updateInfo.client/(s/1e3)),o=Math.round(this._updateInfo.websocket/(s/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit(\"update-rate\",{client:r,websocket:o})}this.featuresManager.checkForUpdates()}),e)}pauseStream(){this.isPaused=!0,this._clearInterval()}resumeStream(){this.isPaused=!1,this._initUpdateInterval()}disconnect(){this._shutdown()}connect(){null==this.connection&&this._startup()}clearGraphics(){this.graphics.clear()}};e([a()],y.prototype,\"isPaused\",void 0),e([a({constructOnly:!0})],y.prototype,\"layer\",void 0),e([a({constructOnly:!0})],y.prototype,\"layerView\",void 0),e([a()],y.prototype,\"connection\",void 0),e([a({readOnly:!0})],y.prototype,\"updating\",null),y=e([n(\"esri.layers.graphics.controllers.StreamController\")],y);export{y as StreamController,u as StreamGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{StreamController as t}from\"../../../../layers/graphics/controllers/StreamController.js\";import{Graphics3DGraphicsPipeline as s}from\"./Graphics3DGraphicsPipeline.js\";let c=class extends s{constructor(r){super(r),this.suspendResumeExtentMode=\"computed\"}get connection(){return this.controller?.connection}createController(){return new t({layer:this.layer,layerView:this.layerView})}beforeSetController(){}pause(){this.controller?.pauseStream()}resume(){this.controller?.resumeStream()}disconnect(){this.controller?.disconnect()}connect(){this.controller?.connect()}clear(){this.controller?.clearGraphics()}};r([e()],c.prototype,\"controller\",void 0),r([e()],c.prototype,\"connection\",null),r([e()],c.prototype,\"suspendResumeExtentMode\",void 0),c=r([o(\"esri.views.3d.layers.graphics.StreamGraphics3DGraphicsPipeline\")],c);export{c as StreamGraphics3DGraphicsPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamController as s}from\"../../../layers/graphics/controllers/StreamController.js\";import n from\"../../../rest/support/Query.js\";import{FeatureLikeLayerView3D as a}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{StreamGraphics3DGraphicsPipeline as c}from\"./graphics/StreamGraphics3DGraphicsPipeline.js\";import{UpdatePolicy as l}from\"../webgl-engine/lib/UpdatePolicy.js\";import h from\"../../layers/LayerView.js\";import m from\"../../layers/StreamLayerView.js\";let u=class extends(m(a(p(h)))){constructor(){super(...arguments),this.type=\"stream-3d\",this.updatePolicy=l.ASYNC,this.hasZ=!0,this.hasM=!1}initialize(){this.addHandles(t((()=>this.suspended),(e=>{this.graphicsPipeline&&this._onSuspendedChange(e)})))}get connectionError(){const e=this.graphicsPipeline?.connection?.errorString;return e?new r(\"stream-controller\",e):null}createQuery(){return new n({outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(e,r){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(e),r?.signal)}get _streamConnectionStatus(){return this.graphicsPipeline?.connection?.connectionStatus??\"disconnected\"}createGraphicsPipeline(){return new c({layerView:this})}createController(){return new s({layer:this.layer,layerView:this})}beforeSetController(){}_doPause(){this.graphicsPipeline?.pause()}_doResume(){this.graphicsPipeline?.resume()}_doDisconnect(){this.graphicsPipeline?.disconnect(),this._doPause()}_doConnect(){this.graphicsPipeline?.connect(),this.resume()}_doClear(){this.graphicsPipeline?.clear()}};e([i({readOnly:!0})],u.prototype,\"updatePolicy\",void 0),e([i({readOnly:!0})],u.prototype,\"connectionError\",null),e([i()],u.prototype,\"graphicsPipeline\",void 0),e([i({readOnly:!0})],u.prototype,\"hasZ\",void 0),e([i({readOnly:!0})],u.prototype,\"hasM\",void 0),e([i({readOnly:!0})],u.prototype,\"_streamConnectionStatus\",null),u=e([o(\"esri.views.3d.layers.StreamLayerView3D\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../layers/support/FeatureFilter.js\";const r=r=>{let i=class extends r{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}disconnect(){this._doDisconnect()}connect(){this._doConnect()}clear(){this._doClear()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return(this._isUserPaused||this.suspended)&&\"connected\"===this._streamConnectionStatus?\"paused\":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return s([e()],i.prototype,\"_isUserPaused\",void 0),s([e({readOnly:!0})],i.prototype,\"connectionStatus\",null),s([e({type:o})],i.prototype,\"filter\",void 0),i=s([t(\"esri.views.layers.StreamLayerView\")],i),i};export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n"],"names":["t","constructor","this","size","_start","maxSize","_buffer","Array","entries","enqueue","s","dequeue","peek","peekLast","find","clear","i","n","timeInfo","datesInUnknownTimezone","l","timeOffset","o","useViewTime","m","u","timeExtent","e","start","end","getTimezoneOffset","r","intersection","isEmpty","isAllTime","offset","value","unit","equals","super","getObjectId","objectId","a","type","Number","json","read","prototype","onUpdate","_idToGraphic","Map","destroy","add","set","get","forEach","removeById","sourceLayer","layer","delete","update","y","arguments","isPaused","graphics","d","_updateInfo","websocket","client","_updateIntervalId","_outSpatialReference","initialize","addResolvingPromise","when","_startup","_clearInterval","clearInterval","_shutdown","updating","connection","connectionStatus","store","removeAllHandles","layerView","spatialReference","definitionExpression","geometryDefinition","objectIdField","purgeOptions","maxReconnectionAttempts","p","maxReconnectionInterval","customParameters","f","geometryType","toJSON","g","_","view","_set","h","parsedUrl","_onUpdate","bind","featuresManager","c","I","removeHandles","addHandles","on","sendMessageToSocket","sendMessageToClient","_onFeature","_onWebSocketMessage","_initUpdateInterval","emit","objectIds","trackIds","removeByTrackId","hasEventListener","attributes","centroid","geometry","fromJSON","removeMany","length","addMany","updateInterval","performance","now","setInterval","Math","round","checkForUpdates","pauseStream","resumeStream","disconnect","connect","clearGraphics","constructOnly","readOnly","suspendResumeExtentMode","_this$controller","controller","createController","beforeSetController","pause","_this$controller2","resume","_this$controller3","_this$controller4","_this$controller5","_this$controller6","updatePolicy","ASYNC","hasZ","hasM","suspended","graphicsPipeline","_onSuspendedChange","connectionError","_this$graphicsPipelin","errorString","createQuery","outFields","returnGeometry","outSpatialReference","queryLatestObservations","queryEngine","executeQueryForLatestObservations","_ensureQuery","signal","_streamConnectionStatus","_this$graphicsPipelin2","_this$graphicsPipelin3","createGraphicsPipeline","_doPause","_this$graphicsPipelin4","_doResume","_this$graphicsPipelin5","_doDisconnect","_this$graphicsPipelin6","_doConnect","_this$graphicsPipelin7","_doClear","_this$graphicsPipelin8","EventedMixin","_updatingHandles","parent","catch","name","_this$layer","id","title","getLogger","error","concat","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","_this$_updatingHandle","isUpdating","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","_this$layer5","visibilityTimeExtent","_this$layer6","_this$parent2","_this$view","effectiveScaleRange","loaded","ready","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean","_isUserPaused","filter","async","_n$fieldsIndex","_n$fieldsIndex2","undefined","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","typeIdField","globalIdField","relationships","includes","push","has","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}