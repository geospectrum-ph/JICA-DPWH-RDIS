{"version":3,"file":"static/js/2018.d75129a0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js","../node_modules/@arcgis/core/core/maybeUpdating.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Logger.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&i.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&i.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return i.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const e=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:e}),e.length>0?(i.getLogger(this).error(`definitionExpression references unknown fields: ${e.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return i.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,i){try{return r.testFeature(i)}catch(e){return this.logError(e),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const i=this.i3slayer.definitionExpression,e=r.clone();return e.where?e.where=`(${i}) AND (${e.where})`:e.where=i,e}};return r([e({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([e({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";class r extends e{constructor(e){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}export{r as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{someMap as t}from\"../../../../core/MapUtils.js\";class s extends e{constructor(e,t){super(),this._updateAndCompare=e,this._notifyUpdated=t,this._nodes=new Map,this._graphics=new Map,this._duplicates=new Map}clear(){if(this._graphics.size>0){const e=this.toArray();this._graphics.clear(),this.emit(\"change\",{added:[],removed:e})}this._nodes.clear()}get length(){return this._graphics.size}get(e){return this._graphics.get(e)}getNode(e){return this._nodes.get(e)}hasNode(e){return this._nodes.has(e)}nodes(){return this._nodes.values()}addNode(e,t){this._nodes.set(e,t);const s=t.graphics;if(0===s.length)return;const i=new Set;for(let o=0;o<s.length;o++){const t=s[o],n=t.objectId,h=this._graphics.get(n);if(h){i.add(n),t!==h&&(s[o]=h);const r=this._duplicates.get(n);r?r.push(e):this._duplicates.set(n,[h.nodeIndex,e])}else t.nodeIndex=e,this._graphics.set(n,t)}i.size&&this._updateForeignGraphics(t);const n=i.size>0?s.filter((e=>!i.has(e.objectId))):s;n.length>0&&this.emit(\"change\",{added:n,removed:[]})}removeNode(e){const t=this._nodes.get(e);if(!t)return;this._nodes.delete(e);const s=new Set,i=[];for(const n of t.graphics){const t=n.objectId,o=this._graphics.get(t);if(!o)continue;const h=this._duplicates.get(t);if(h){const i=h.indexOf(e);if(-1===i)continue;if(h.splice(i,1),o.nodeIndex===e){let e=this.getNode(h[0]);for(let t=1;t<h.length;t++){const s=this.getNode(h[t]);(null==e||null!=s&&s.node.level>e.node.level)&&(e=s)}null!=e&&s.add(e)}1===h.length&&this._duplicates.delete(t)}else this._graphics.delete(t),i.push(n)}i.length>0&&this.emit(\"change\",{added:[],removed:i}),s.forEach((e=>this._updateForeignGraphics(e)))}_updateForeignGraphics(e){const t=[],s=e.node.index,i=e.node.level;let n=0;for(;n<e.graphics.length;){const o=e.graphics[n].nodeIndex;if(o===s){n++;continue}let h=1;for(;n+h<e.graphics.length&&e.graphics[n+h].nodeIndex===o;)h++;const r=this.getNode(o);if(null!=r&&r.node.level>i)n+=h;else{for(let i=n;i<n+h;i++){const n=e.graphics[i];n.nodeIndex=s,this._updateAndCompare(n,e,i)&&t.push(n)}n+=h}}t.length>0&&this._notifyUpdated(t)}toArray(){return Array.from(this._graphics.values())}find(e){let s;return t(this._graphics,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._graphics.forEach((t=>e(t)))}forEachNode(e){this._nodes.forEach(((t,s)=>e(t,s)))}get nodeCount(){return this._nodes.size}_checkInvariants(){const e=new Map;this._nodes.forEach(((t,s)=>{t.graphics.forEach((t=>{e.set(t.objectId,1+(e.get(t.objectId)??0)),this._duplicates.get(t.objectId)}))})),e.forEach(((e,t)=>{const s=this._graphics.get(t);if(!s)return;if(!this._nodes.get(s.nodeIndex))return;const i=this._duplicates.get(t);i&&i.forEach((e=>{this._nodes.get(e)}))}))}}export{s as I3SGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{binaryIndexOf as r}from\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{initial as o,watch as a}from\"../../../core/reactiveUtils.js\";import{estimateSize as n}from\"../../../core/typedArrayUtil.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as u}from\"../../../chunks/vec32.js\";import{ZEROS as h,create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as c}from\"../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as g}from\"../../../geometry/projection/projectVectorToVector.js\";import{extentContainsCoords3D as m,extentContainsCoords2D as y}from\"../../../geometry/support/contains.js\";import{newDoubleArray as f,doubleArrayFrom as _}from\"../../../geometry/support/DoubleArray.js\";import{getGeometryZScaler as b}from\"../../../geometry/support/zscale.js\";import{fallbackObjectIDAttribute as v}from\"../../../layers/LayerConstants.js\";import{estimateSize as I}from\"../../../layers/graphics/dehydratedFeatures.js\";import{makeDehydratedPoint as x}from\"../../../layers/graphics/dehydratedPoint.js\";import{hydrateGraphic as E}from\"../../../layers/graphics/hydratedFeatures.js\";import w from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import N from\"../../../layers/support/FeatureFilter.js\";import j from\"../../../rest/support/Query.js\";import{isBasemapLayer as O}from\"../../../support/basemapUtils.js\";import{I3SPointsWorkerHandle as C}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import{Graphics3DFeatureProcessor as S}from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as F}from\"./graphics/QueryEngine.js\";import{createInteractiveEditSession as G,normalizeEditResultsEvent as A,processAttributeEdits as P}from\"./i3s/featureEditing.js\";import{I3SGraphicsMap as L}from\"./i3s/I3SGraphicsMap.js\";import{I3SOverrides as V}from\"./i3s/I3SOverrides.js\";import{checkRecyclable as R,checkSpatialReferences as M,containsDraco as H,whenGraphicAttributes as Q,getCachedAttributeValue as U}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as q}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as T}from\"./support/fieldProperties.js\";import{LayerViewPerformanceInfo as B}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as k}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as z}from\"./support/SceneLayerViewRequiredFields.js\";import{TemporalSceneLayerView as W}from\"./support/TemporalSceneLayerView.js\";import{debugFlags as Z}from\"../support/debugFlags.js\";import{compute as K}from\"../support/orientedBoundingBox.js\";import{updatingProgress as Y}from\"../support/updatingProperties.js\";import{Vertices as $}from\"../webgl-engine/lib/Attribute.js\";import{UpdatePolicy as J}from\"../webgl-engine/lib/UpdatePolicy.js\";import X from\"../../layers/SceneLayerView.js\";import{hasPopupTemplate as ee}from\"../../layers/support/popupUtils.js\";import{TaskPriority as te}from\"../../support/Scheduler.js\";const re=T();class ie{constructor(e,t,r,i){this.graphics=e,this.featureIds=t,this.attributeInfo=r,this.node=i}}let se=class extends(W(q(k(D(X))))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this._pendingEditsQueue=Promise.resolve(),this.loadedGraphics=new L(((e,t,r)=>le(e,t,r)),(e=>this.processor.graphicsCore.recreateGraphics(e))),this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(e,t){return e.url===this.layer.url&&this._i3sOverrides.isEmpty?e.load(t).then((()=>{R(this.layer,e,this._i3sOverrides),this.layer=e,this._i3sOverrides.destroy();const t=this.view.resourceController?.memoryController;this._i3sOverrides=new V({view:this.view,layer:e,memoryController:t}),s(this._queryEngine),this._setupQueryEngine(),this.processor.resetObjectStates()})):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);const e=this.view.resourceController?.memoryController;this._i3sOverrides=new V({view:this.view,layer:this.layer,memoryController:e}),M(this.layer,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new z({layerView:this}),this._updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),o),this._updatingHandles.add((()=>this.layer.renderer),((e,t)=>this._rendererChange(e,t))),this._updatingHandles.add((()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted]),(()=>this._filterChange())),this.addHandles(a((()=>Z.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Z.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||Z.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}),o)),this._set(\"processor\",new S({owner:this,preferredUpdatePolicy:J.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on(\"invalidate-elevation\",(({extent:e,spatialReference:t})=>this._controller.updateElevationChanged(e,t))),this.supportsHeightUnitConversion&&(this._verticalScale=b(\"point\",this.layer.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.initializePromise),this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`),this._controller=new w({layerView:this}),H(this.layer.geometryDefinitions)&&(this._worker=new C((e=>this.view.resourceController.immediate.schedule(e)))),this.addHandles(this.layer.on(\"apply-edits\",(e=>this._updatingHandles.addPromise(e.result)))),this.addHandles(this.layer.on(\"edits\",(e=>{const t=this._pendingEditsQueue.then((()=>this._handleEdits(e))).then();this._pendingEditsQueue=t,this._updatingHandles.addPromise(t)}))),this.when((()=>{this._setupQueryEngine(),this._updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),o),this._updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=s(this._treeDebugger),this._i3sOverrides=s(this._i3sOverrides),this._set(\"processor\",s(this.processor)),this._controller=s(this._controller),this._queryEngine=s(this._queryEngine),this._worker=s(this._worker),this._memCache=s(this._memCache),this.loadedGraphics.clear(),this._fieldsHelper=s(this._fieldsHelper)}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??1}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIdsSorted(){const e=this.layer.excludeObjectIds;return e.length?e.toArray().sort(((e,t)=>e-t)):null}get lodFactor(){return\"Labels\"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}get contentVisible(){return!this.suspended&&!!this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}async whenGraphicAttributes(e,t){return Q(this.layer,e,this._getObjectIdField(),t,(()=>[...this.loadedGraphics.nodes()]))}getHit(e){if(!this.loadedGraphics)return null;const t=E(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t?.attributes?.[r]?(t.layer=this.layer,t.sourceLayer=this.layer,{type:\"graphic\",graphic:t,layer:t.layer}):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return G(this._attributeEditingContext,e)}async _decompressBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};null==this._worker&&(this._worker=new C((e=>this.view.resourceController.immediate.schedule(e))));const i=await this._worker.invoke(r,t);if(null==i)throw new Error(\"Failed to decompress Draco point data\");return{positionData:i.positions,featureIds:i.featureIds}}async addNode(e,t,r){if(!ne(t)&&!ae(t))throw new Error;if(this.loadedGraphics.hasNode(e.index))return void i.getLogger(this).error(\"I3S node \"+e.id+\" already added\");const s=null!=this.layer.fullExtent?ue(this.layer.fullExtent.clone(),.5):null,{featureIds:o,pointPositions:a}=ne(t)?await this._extractBinaryPointPositions(e,t,r):this._extractLegacyPointPositions(t),n=new Array;this._validatePositions(e,o,a,s,n);const l=this._controller.crsVertex,d=this.view.spatialReference;c(a,l,0,a,d,0,o.length);const u=ne(t)?e.level:0,h=this._createGraphics(o,a,e.index,u),p=new ie(h,o,t.attributeDataInfo,e);if(await this._i3sOverrides.applyAttributeOverrides(p.featureIds,t.attributeDataInfo,r),e.numFeatures=p.graphics.length,this._updateNodeMemory(e),de(p),n.length>0&&(this._computeObb(e,n,l),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(p);if(null!=this._verticalScale)for(const i of p.graphics)this._verticalScale(i.geometry);const g=this.view._stage.renderView.objectAndLayerIdRenderHelper;if(null!=g){const e=O(this.view.map,this.layer.uid);for(let t=0;t<p.featureIds.length;t++){const r=p.featureIds[t];g.setUidToObjectAndLayerId(r,p.graphics[t].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled&&!e&&ee(this.layer,this.view.popup?.defaultPopupTemplateEnabled),p.node.resources.attributes,t)}}this.loadedGraphics.addNode(e.index,p),this._controller.updateLoadStatus(e.index,!0),this._filterNode(p),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;c(t,r,0,t,s,0,t.length/3),e.serviceObbInIndexSR=K(new $(t,3)),i.isGeographic&&(g(e.serviceObbInIndexSR.center,s,pe,i),e.serviceObbInIndexSR.center=pe)}isNodeLoaded(e){return this.loadedGraphics.hasNode(e)}isNodeReloading(){return!1}updateNodeState(){}async _extractBinaryPointPositions(e,t,r){const i=await this._decompressBinaryPointData(t,r),s=i.positionData,o=3,a=s.length/o,n=f(3*a),l=null!=e.serviceObbInIndexSR?e.serviceObbInIndexSR.center:h,d=Math.abs(l[2])*2**-20;for(let u=0;u<a;u++){const e=u*o;n[e]=s[e]+l[0],n[e+1]=s[e+1]+l[1],n[e+2]=s[e+2]+l[2],Math.abs(n[e+2])<d&&(n[e+2]=0)}return{featureIds:i.featureIds?_(i.featureIds):[],pointPositions:n}}_extractLegacyPointPositions(e){const t=e.pointData.length,r=f(3*t),i=new Array;for(let s=0;s<t;s++){const t=e.pointData[s],o=t.featureDataPosition,a=o.length,n=t.geometries?.[0]??he[a],l=t.featureIds[0];if(\"Embedded\"!==n.type||\"points\"!==n.params.type||a<2||a>3)continue;const d=n.params.vertexAttributes?.position??[0,0,0],u=3*i.length;r[u]=o[0]+d[0],r[u+1]=o[1]+d[1],r[u+2]=3===a?o[2]+d[2]:NaN,i.push(l)}return{featureIds:i,pointPositions:r}}_validatePositions(e,t,r,s,o){if(null==s&&e.serviceObbInIndexSR)return;const a=t.length,n=3;for(let l=0;l<a;l++){const t=l*n;u(pe,r[t],r[t+1],r[t+2]);const a=!Number.isNaN(r[2]);null==s||(a?m(s,pe):y(s,pe))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&i.getLogger(this).error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&i.getLogger(this).error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++),e.serviceObbInIndexSR||o.push(pe[0],pe[1],pe[2])}}_createGraphics(e,r,i,s){const o=e.length,a=3,n=this._getObjectIdField(),l=this.processor.graphicsCore,d=new Array,u=this.view.spatialReference;for(let h=0;h<o;h++){const o=e[h],p={};null!=o&&(p[n]=o);const c=o??t.generateUID(),g=h*a,m=isNaN(r[g+2])?void 0:r[g+2],y=x(r[g],r[g+1],m,u),f=this.loadedGraphics.get(c);if(null!=f)(null==f.level||f.level<s)&&(ce.property=\"geometry\",ce.graphic=f,ce.oldValue=f.geometry,ce.newValue=y,f.geometry=y,f.level=s,l.graphicUpdateHandler(ce)),d.push(f);else{const e=t.generateUID();d.push({objectId:c,uid:e,geometry:y,attributes:p,visible:!0,nodeIndex:i,level:s})}}return d}_updateNodeMemory(e){e.memory=4096+(null!=e.numFeatures?e.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){const t=e.graphics.reduce(((e,t)=>I(t)+e),n(e.featureIds)+1024);this._memCache.put(this._getMemCacheKey(e.node),e,t)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode(((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)})),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this.loadedGraphics.getNode(e);return null==t?null:(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeNode(e),this._treeDebugger&&this._treeDebugger.update(),t)}async loadCachedNodeData(e){return this._memCache?.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,r,s){this.loadedGraphics.hasNode(e.index)?i.getLogger(this).error(\"I3S node \"+e.id+\" already added\"):(await this._i3sOverrides.applyAttributeOverrides(t.featureIds,r,s),t.attributeInfo=r,this.loadedGraphics.addNode(e.index,t),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),de(t),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this.loadedGraphics.forEachNode((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this.loadedGraphics.forEachNode((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this.loadedGraphics.forEachNode(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this.loadedGraphics.getNode(e);null!=r?.attributeInfo&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this.loadedGraphics.getNode(e);null!=i&&(await this._i3sOverrides.applyAttributeOverrides(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){if(de(e),this._filterNode(e),this.processor.graphicsCore.labelsEnabled){const t=e.node.index,r=new Array;e.graphics.forEach((e=>e.nodeIndex===t&&r.push(e.uid))),this.processor.graphicsCore.updateLabelingInfo(r)}}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||v}_getGlobalIdField(){return this.layer.associatedLayer?.globalIdField}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&i.getLogger(this).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this.loadedGraphics.forEachNode((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression,i=this._excludeObjectIdsSorted,s=this._getObjectIdField();for(const o of e.graphics){const e=o.visible,a=!t||this._evaluateClause(t,o),n=null==i||r(i,o.attributes[s])<0;o.visible=a&&n,e!==o.visible&&(ce.graphic=o,ce.property=\"visible\",ce.oldValue=e,ce.newValue=o.visible,this.processor.graphicsCore.graphicUpdateHandler(ce))}}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new j(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():j.from(e))}_setupQueryEngine(){const e=()=>this.processor.featureStore;this._queryEngine=new F({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return e()},hasZ:this.hasZ,hasM:this.hasM},priority:te.FEATURE_QUERY_ENGINE})}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}get ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}async _handleEdits(e){const t=this._attributeEditingContext,r=await A(t,e);P(t,r)}get _attributeEditingContext(){const e=this._getObjectIdField(),t=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,globalIdField:t,forEachNode:e=>this.loadedGraphics.forEachNode((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this.loadedGraphics.getNode(t);if(null!=i){const t=this.loadedGraphics.get(i.attributes[e]);null!=t&&this.processor.graphicsCore.recreateGraphics([t])}else null!=s&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){return new B(this.usedMemory,this.loadedGraphics.length,-1,this.maximumNumberOfFeatures,this.loadedGraphics.nodeCount,this.processor.graphicsCore.performanceInfo)}get test(){}};e([l()],se.prototype,\"processor\",void 0),e([l({type:N})],se.prototype,\"filter\",void 0),e([l()],se.prototype,\"loadedGraphics\",void 0),e([l()],se.prototype,\"i3slayer\",null),e([l()],se.prototype,\"_controller\",void 0),e([l()],se.prototype,\"updating\",void 0),e([l()],se.prototype,\"suspended\",void 0),e([l()],se.prototype,\"holeFilling\",void 0),e([l(Y)],se.prototype,\"updatingProgress\",void 0),e([l()],se.prototype,\"updatingProgressValue\",null),e([l(re.requiredFields)],se.prototype,\"requiredFields\",null),e([l(re.availableFields)],se.prototype,\"availableFields\",void 0),e([l()],se.prototype,\"_fieldsHelper\",void 0),e([l({type:Number})],se.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0})],se.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l()],se.prototype,\"_excludeObjectIdsSorted\",null),e([l({readOnly:!0})],se.prototype,\"lodFactor\",null),e([l({readOnly:!0})],se.prototype,\"hasM\",null),e([l({readOnly:!0})],se.prototype,\"hasZ\",null),e([l()],se.prototype,\"contentVisible\",null),e([l({readOnly:!0})],se.prototype,\"legendEnabled\",null),se=e([d(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],se);const oe=se;function ae(e){return\"pointData\"in e}function ne(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function le(e,t,r){const i=t.attributeInfo;if(null==i?.loadedAttributes||null==i.attributeData)return!1;let s=!1;for(const{name:o}of i.loadedAttributes)if(i.attributeData[o]){const t=U(i.attributeData[o],r);t!==e.attributes[o]&&(e.attributes[o]=t,s=!0)}return s}function de(e){const t=e.attributeInfo,r=e.node.index;if(null!=t?.loadedAttributes&&null!=t.attributeData)for(let i=0;i<e.graphics.length;i++){const s=e.graphics[i];if(s.nodeIndex===r){s.attributes||(s.attributes={});for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=U(t.attributeData[e],i))}}}function ue(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,null!=e.zmin&&null!=e.zmax&&(e.zmin-=t,e.zmax+=t),null!=e.mmin&&null!=e.mmax&&(e.mmin-=t,e.mmax+=t),e}const he={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},pe=p(),ce={graphic:null,property:null,oldValue:null,newValue:null};export{oe as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getTimeOperator as i}from\"../../../../layers/graphics/data/timeSupport.js\";import s from\"../../../../layers/support/FeatureFilter.js\";import{combineTimeExtent as n}from\"../../../../layers/support/timeSupport.js\";import{filterInPlace as o,getCachedAttributeValue as l}from\"../i3s/I3SUtil.js\";const u=i=>{let o=class extends i{get timeExtent(){return n(this.i3slayer,this.view?.timeExtent,this._get(\"timeExtent\"))}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new s;return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:n}=r;if(!n||null==i&&null==s)return;const o=r.toJSON(),l=e.toJSON();t.push(((t,e)=>a(t,e,o,l)))}};return t([e({readOnly:!0})],o.prototype,\"timeExtent\",null),t([e()],o.prototype,\"mergedFilter\",null),o=t([r(\"esri.views.3d.layers.support.TemporalSceneLayerView\")],o),o};function a(t,e,r,s){const n=e.attributeInfo?.attributeData;if(null==n)return;const{startTimeField:l,endTimeField:u}=r;if(!!(null!=l&&null==n[l]||null!=u&&null==n[u]))return;const a=i(r,s,new m(n));if(null==a)return;const{featureIds:p}=e;o(t,p,a)}class m{constructor(t){this.attributeData=t}getAttribute(t,e){return l(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"string\"==typeof r?new Date(r).getTime():\"number\"==typeof r||null==r?r:null}}export{u as TemporalSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n"],"names":["t","p","constructor","super","arguments","this","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","r","i","getLogger","error","parsedDefinitionExpression","i3slayer","definitionExpression","o","create","fieldsIndex","isStandardized","e","s","fieldNames","n","fields","missingFields","length","join","definitionExpressionFields","_evaluateClause","testFeature","_addDefinitionExpressionToQuery","clone","where","readOnly","prototype","dracoDecompressPointCloudData","geometryBuffer","hasInitialize","_updateAndCompare","_notifyUpdated","_nodes","Map","_graphics","_duplicates","clear","size","toArray","emit","added","removed","get","getNode","hasNode","has","nodes","values","addNode","set","graphics","Set","objectId","h","add","push","nodeIndex","_updateForeignGraphics","filter","removeNode","delete","indexOf","splice","node","level","forEach","index","Array","from","find","forEachNode","nodeCount","_checkInvariants","re","T","ie","featureIds","attributeInfo","se","W","q","k","D","X","type","_queryEngine","_memCache","_interactiveEditingSessions","_pendingEditsQueue","Promise","resolve","loadedGraphics","L","loadedAttributes","attributeData","name","U","attributes","le","processor","graphicsCore","recreateGraphics","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","tryRecycleWith","url","layer","_i3sOverrides","isEmpty","load","then","R","destroy","view","resourceController","memoryController","V","_setupQueryEngine","resetObjectStates","initialize","addResolvingPromise","indexInfo","M","spatialReference","viewingMode","_fieldsHelper","z","layerView","_updatingHandles","rangeInfos","_rangeInfosChanged","renderer","_rendererChange","_excludeObjectIdsSorted","_filterChange","addHandles","a","Z","I3S_TREE_SHOW_TILES","_treeDebugger","_controller","crsIndex","_ref","I3STreeDebugger","lv","nodeSR","_set","S","owner","preferredUpdatePolicy","J","ASYNC","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","setUidToIdOnAdd","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_ref2","extent","updateElevationChanged","_verticalScale","b","initializePromise","newCache","uid","w","H","geometryDefinitions","_worker","C","immediate","schedule","addPromise","result","_handleEdits","when","maximumNumberOfFeatures","featureTarget","suspended","_removeAllNodeData","updatingProgressValue","updatingProgress","requiredFields","displayFeatureLimit","_override","fixedFeatureTarget","_clearOverride","maximumNumberOfFeaturesExceeded","useMaximumNumberOfFeatures","leavesReached","excludeObjectIds","sort","lodFactor","semantic","qualitySettings","sceneService","point","hasM","hasZ","contentVisible","rootNodeVisible","legendEnabled","whenGraphicAttributes","Q","_getObjectIdField","getHit","E","sourceLayer","graphic","whenGraphicBounds","computeAttachmentOrigin","isUpdating","updating","layerFilterUpdating","highlight","objectIdField","updatePolicy","effectiveUpdatePolicy","createInteractiveEditSession","G","_attributeEditingContext","_decompressBinaryPointData","invoke","Error","positionData","positions","ne","ae","id","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax","ue","pointPositions","_extractBinaryPointPositions","_extractLegacyPointPositions","_validatePositions","l","crsVertex","d","c","u","_createGraphics","attributeDataInfo","applyAttributeOverrides","numFeatures","_updateNodeMemory","de","_computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","geometry","g","_stage","renderView","objectAndLayerIdRenderHelper","O","map","setUidToObjectAndLayerId","popupEnabled","ee","popup","defaultPopupTemplateEnabled","resources","updateLoadStatus","_filterNode","update","isGeographic","renderSpatialReference","serviceObbInIndexSR","K","$","center","pe","isNodeLoaded","isNodeReloading","updateNodeState","f","Math","abs","_","pointData","featureDataPosition","geometries","he","params","vertexAttributes","position","NaN","Number","isNaN","m","y","generateUID","x","ce","property","oldValue","newValue","graphicUpdateHandler","visible","memory","usedMemoryPerGraphic","reduce","I","put","_getMemCacheKey","_removeNodeStageData","loadCachedNodeData","pop","addCachedNodeData","getLoadedNodeIds","getVisibleNodes","getLoadedNodeIndices","getLoadedAttributes","getAttributeData","_setAttributeData","_attributeValuesChanged","updateAttributes","labelsEnabled","updateLabelingInfo","updateClippingArea","v","_getGlobalIdField","associatedLayer","globalIdField","collectRequiredFields","every","_reloadAllNodes","warn","restartNodeLoading","createQuery","outFields","returnGeometry","outSpatialReference","j","queryFeatures","executeQuery","_ensureQuery","signal","queryObjectIds","executeQueryForIds","queryFeatureCount","executeQueryForCount","queryExtent","executeQueryForExtent","featureStore","F","context","scheduler","priority","te","FEATURE_QUERY_ENGINE","usedMemory","unloadedMemory","unloadedMemoryEstimate","unprocessedMemoryEstimate","ignoresMemoryFactor","A","P","sessions","attributeStorageInfo","i3sOverrides","setAttributeData","clearMemCache","performanceInfo","B","test","N","Y","availableFields","oe","timeExtent","_get","mergedFilter","intersection","getTimeFilterDependencies","timeInfo","startField","endField","addTimeFilter","useTime","toJSON","startTimeField","endTimeField","getAttribute","getAttributeAsTimestamp","Date","getTime"],"sourceRoot":""}