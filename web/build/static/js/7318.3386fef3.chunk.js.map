{"version":3,"file":"static/js/7318.3386fef3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/core/workers/WorkerHandle.js","../node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import s from\"../Logger.js\";import{throwIfAborted as r}from\"../promiseUtils.js\";import{open as i}from\"./workers.js\";class h{constructor(e,t,r,h,o={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=i(e,{...o,schedule:h}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,o.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>s.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`)))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),t((()=>{i.removed=!0,e(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,s){if(this._thread){const r=this._transferLists[e],i=r?r(t):[];return this._thread.invoke(e,t,{transferList:i,signal:s})}return this._promise?this._promise.then((()=>(r(s),this.invokeMethod(e,t,s)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{numberMaxFloat32 as e}from\"../core/mathUtils.js\";import{multiply as i,fromTranslation as o}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as t}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as s}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{s as a}from\"./vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as c,positiveInfinity as l}from\"../geometry/support/aaBoundingBox.js\";import{ShaderOutput as p}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SlicePlaneParameters as d,SliceDraw as m}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2DrawUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{Float2PassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3DrawUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js\";import{NoParameters as v,glsl as h}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4DrawUniform as w}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js\";import{Matrix4PassUniform as z}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as b}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as M}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";class j extends v{constructor(){super(...arguments),this.clipBox=c(l),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class P extends d{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function y(r){const s=new b,n=r.output===p.Color,c=r.output===p.Highlight,{vertex:l,fragment:d}=s;return s.include(m,r),s.attributes.add(M.POSITION,\"vec3\"),s.attributes.add(M.COLOR,\"vec3\"),l.uniforms.add(new w(\"modelView\",((e,r)=>i(R,r.camera.viewMatrix,o(R,e.origin)))),new z(\"proj\",((e,i)=>i.camera.projectionMatrix)),new u(\"screenMinMaxSize\",((e,i,o)=>t(F,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,O(e.isLeaf)*i.camera.pixelRatio))),r.useFixedSizes?new S(\"pointScale\",((e,i)=>t(F,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new u(\"pointScale\",((e,i,o)=>t(F,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?l.uniforms.add(new x(\"clipMin\",((e,i,o)=>a(B,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new x(\"clipMax\",((e,i,o)=>a(B,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))):(l.constants.add(\"clipMin\",\"vec3\",[-e,-e,-e]),l.constants.add(\"clipMax\",\"vec3\",[e,e,e])),n&&s.varyings.add(\"vColor\",\"vec3\"),l.code.add(h`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = modelView * vec4(position, 1.0);\n\n      float pointSize = pointScale.x;\n      vec4 position = proj * camera;\n     ${r.drawScreenSize?h`\n      float clampedScreenSize = pointSize;`:h`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = proj * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = pointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = proj * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${n?h`vColor = color;`:\"\"}\n    }\n  `),d.include(g,r),c&&s.include(f,r),d.code.add(h`\n    void main(void) {\n        vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n        float r2 = dot(vOffset, vOffset);\n\n        if (r2 > 0.25) {\n          discard;\n        }\n        ${c?h`outputHighlight();`:\"\"}\n        ${n?h`fragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),s}function O(e){return e?256:64}const R=r(),B=n(),F=s(),_=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:P,PointRendererPassParameters:j,build:y,getMaxPointSizeScreenspace:O},Symbol.toStringTag,{value:\"Module\"}));export{j as P,P as a,_ as b,y as c,O as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as s}from\"./support/LayerViewPerformanceInfo.js\";class e extends s{constructor(s,e,o,r,i){super(s,e,-1,o,r),this.queue=i}}class o{constructor(s,e,o,r){this.loading=s,this.indexLoading=e,this.processing=o,this.idleProcessing=r}}export{e as PointCloudLayerViewPerformanceInfo,o as QueuePerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as t}from\"../../../core/workers/WorkerHandle.js\";class r extends t{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>u(t)},t)}}function u(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const u of t.filterAttributesData)null!=u&&u.buffer&&r.push(u.buffer);for(const u of t.userAttributesData)u.buffer&&r.push(u.buffer);return r}export{r as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{m as e}from\"../../../../chunks/vec32.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderObb(t.remove[0]).center,h=l.getRenderObb(r.remove[0]).center;return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getSphericalPCPF as e}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{create as t,contains as s,intersects as n}from\"../../../../geometry/support/aaBoundingBox.js\";class i{constructor(t,s,n){this._pages=[],this.pageSize=0,this._nodeSR=t,this._renderSR=s,this._renderSRSphericalPCPF=e(s),this.pageSize=n}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);r(t,this._nodeSR,this._renderSR,s,this._renderSRSphericalPCPF),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},p(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)].obbInRenderSR}setRenderObb(e,t){const s=this.pageSize;this._pages[a(e,s)].nodes[h(e,s)].obbInRenderSR.copy(t)}getParentId(e){const t=this.pageSize;return this._pages[a(e,t)].parents[h(e,t)]}hasNodes(e,t){const s=a(e,this.pageSize),n=a(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const e={index:this,queue:[],masks:[],tempAabb:t()};return(t,s)=>o(e,t,s)}}function o(e,t,i){const o=e.index;if(!o.hasNodes(0,1))return;const r=e.queue;r.length=0,r.push(0);const p=e.masks;for(p.length=0,p.push(0);r.length>0;){const h=r.pop();let g=p.pop();const l=o.getNode(h),c=o.getRenderObb(h);let u=!0;if(null!=t.clippingBox){const i=1<<t.frustum.length;g&i||(c.toAaBoundingBox(e.tempAabb),s(t.clippingBox,e.tempAabb)?g|=i:n(t.clippingBox,e.tempAabb)||(u=!1))}for(let e=0;e<t.frustum.length&&u;e++){const s=1<<e;if(!(g&s)){const n=c.intersectPlane(t.frustum[e]);n>0?u=!1:n<0&&(g|=s)}}if(i.predicate(h,l,u)){const e=l.firstChild,t=l.childCount;let s=!1;const n=a(e,o.pageSize),c=a(e+t-1,o.pageSize);for(let r=n;r<=c;r++)if(!o.hasPage(r)){i.pageMiss(h,r),s=!0;break}if(!s)for(let i=0;i<t;i++)r.push(e+i),p.push(g)}}}function r(e,t,s,n,i){for(let o=0;o<e.length;o++){const r=e[o];r.obb.transform(r.obbInRenderSR,t,s,n,i)}}function p(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[a(n,t)].nodes[h(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[a(r,t)]&&(e[a(r,t)].parents[h(r,t)]=n,s.push(r))}}}function a(e,t){return e/t|0}function h(e,t){return e%t}export{i as PagedNodeIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?l=u(a,e.field):\"point-cloud-rgb\"===n?(l=r(a,e.field),i=null!=l):(l=r(a,\"RGB\"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&\"fixed-size\"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return\"elevation\"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,l as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(o){super(o),this.pointCloudMetadata=null}};o([s({constructOnly:!0,clonable:\"reference\"})],e.prototype,\"pointCloudMetadata\",void 0),e=o([t(\"esri.views.3d.layers.i3s.PointGraphic\")],e);export{e as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{Object3DState as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as i}from\"../../webgl-engine/lib/Object3DStateID.js\";class h{constructor(e){this._context=e,this._highlights=new Set}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t){const i=new s(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class s{constructor(e){this.id=new i(t.Highlight),this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{h as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{stencilWriteMaskOn as s,stencilBaseAllZerosParams as n}from\"../lib/StencilUtils.js\";import{b as l}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as u,SpecialDrawBuffers as a}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultDepthWriteParams as m,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class d extends t{constructor(e,r,t){super(e,r,t)}initializeProgram(e){return new o(e.rctx,d.shader.get().build(this.configuration),i)}initializePipeline(){return c({depthTest:{func:u.LESS},depthWrite:m,colorWrite:h,stencilWrite:this.configuration.hasOccludees?s:null,stencilTest:this.configuration.hasOccludees?n:null,drawBuffers:this.configuration.output===e.Depth?{buffers:[a.NONE]}:null})}}d.shader=new r(l,(()=>import(\"./PointRenderer.glsl.js\")));export{d as PointRendererTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends i{constructor(){super(...arguments),this.output=o.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}e([t({count:o.COUNT})],r.prototype,\"output\",void 0),e([t()],r.prototype,\"hasSlicePlane\",void 0),e([t()],r.prototype,\"drawScreenSize\",void 0),e([t()],r.prototype,\"useFixedSizes\",void 0),e([t()],r.prototype,\"hasOccludees\",void 0),e([t()],r.prototype,\"clippingEnabled\",void 0),e([t({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0);export{r as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{disposeMaybe as s}from\"../../../../core/maybe.js\";import t from\"../../../../core/PooledArray.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{f as n,l as o,j as a,k as l,m as h,q as c}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as u}from\"../../../../chunks/vec42.js\";import{create as m,offset as p,contains as g,containsPoint as _,set as f,positiveInfinity as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as S}from\"../../../../geometry/support/plane.js\";import{fromPoints as x}from\"../../../../geometry/support/ray.js\";import{PclTarget as z}from\"./Intersector.js\";import{PointHighlights as w}from\"./PointHighlights.js\";import{isDepth as R,ShaderOutput as A}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SyncPrepareRenderPlugin as j}from\"../../webgl-engine/effects/RenderPlugin.js\";import{Default3D as q}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as y}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as O,StoreResults as E}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderSlot as I}from\"../../webgl-engine/lib/RenderSlot.js\";import{VertexArrayObject as v}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as F}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as N,a as C,g as L}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as T}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as H}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as M}from\"../../../webgl/BufferObject.js\";import{DataType as B,PrimitiveType as D,Usage as U}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as V}from\"../../../webgl/VertexElementDescriptor.js\";const W={positions:[new V(F.POSITION,3,B.FLOAT,0,12)],colors:[new V(F.COLOR,3,B.UNSIGNED_BYTE,0,3,!0)]};let k=class extends j{constructor(e){super(e),this.type=O.PCL,this.isGround=!1,this._passParameters=new N,this._highlights=new w({forEachNode:e=>this.forEachNode(e),addHighlight:(e,s,t)=>this._addHighlight(e,s,t),removeHighlight:(e,s)=>this._removeHighlight(e,s)}),this.produces=new Map([[I.OPAQUE_MATERIAL,e=>!(R(e)||e===A.Highlight&&this._highlights.empty)],[I.OPAQUE_NO_SSAO_DEPTH,e=>R(e)]]),this.layerUid=\"\",this._slicePlaneEnabled=!1,this._techniqueConfig=new H,this._nodes=new t}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,s,t,i){const r=d(),f=d(),P=d(),b=d(),w=S(),R=e.camera.perScreenPixelRatio/2,A=e.camera.near;n(f,i,t);const j=1/o(f);a(f,f,j),l(P,f),u(w,f[0],f[1],f[2],-h(f,t));const q=new ee,O=new ee,I=new Array,v=m(),F=m(this._passParameters.clipBox);p(F,-t[0],-t[1],-t[2],F),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let l=o.obb.minimumDistancePlane(w),d=o.obb.maximumDistancePlane(w);l-=J(a,l+A,this._passParameters,R,o.isLeaf),d-=J(a,d+A,this._passParameters,R,o.isLeaf);const u=d<0,m=null!=q.dist&&null!=O.dist&&q.dist<l*j&&O.dist>d*j;if(u||m)return;const S=Y(a,d+A,this._passParameters,R,o.isLeaf);if(!o.obb.intersectRay(t,f,S))return;const x=S*S;o.obb.toAaBoundingBox(v),p(v,-t[0],-t[1],-t[2],v);const z=!g(F,v);n(b,o.origin,t);const y=o.coordinates.length/3;for(let n=0;n<y;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],z&&!_(F,r))continue;const l=h(r,f),d=c(r)-l*l;if(d>x)continue;let u=l+A;const m=J(a,u,this._passParameters,R,o.isLeaf);if(l-m<0)continue;u-=m;const p=Y(a,u,this._passParameters,R,o.isLeaf);if(d>p*p)continue;const g=(l-m)*j,S=e=>(e.point=K(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==q.dist||g<q.dist)&&(null==s||s(t,i,g))&&S(q),e.options.store!==E.MIN&&(null==O.dist||g>O.dist)&&(null==s||s(t,i,g))&&S(O),e.options.store===E.ALL&&(null==s||s(t,i,g))){const e=new ee;I.push(S(e))}}}));const N=e=>{const{layerUid:s,node:t,pointId:i}=e;return new z(e.point,s,i,(()=>this.createGraphic(t,i,e.point)))},C=(e,s)=>{const t=N(s);e.set(this.type,t,s.dist,s.normal)};if(se(q)){const s=e.results.min;(null==s.dist||q.dist<s.dist)&&C(s,q)}if(se(O)&&e.options.store!==E.MIN){const s=e.results.max;(null==s.dist||O.dist>s.dist)&&C(s,O)}if(e.options.store===E.ALL){const s=x(t,i);for(const t of I){const i=y(s);C(i,t),e.results.all.push(i)}}}prepareTechnique(e){return 0!==this._nodes.length&&(e.output===A.Color||R(e.output)&&e.bindParameters.slot===I.OPAQUE_NO_SSAO_DEPTH||e.output===A.Highlight)?(this._nodes.forAll((s=>{null==s.vao&&this._initNode(e,s)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output,this._context.techniques.releaseAndAcquire(T,this._techniqueConfig,this._technique)):null}renderNode(e,s){const t=e.rctx,i=t.bindTechnique(s,e.bindParameters,this._passParameters),r=e.output===A.Highlight;this._nodes.forAll((s=>{0===s.coordinates.length||r&&!s.highlights||(i.bindDraw(s,e.bindParameters,this._passParameters),t.bindVAO(s.vao),r?this._renderHighlightFragments(t,s):t.drawArrays(D.POINTS,0,s.coordinates.length/3))}))}_renderHighlightFragments(e,s){const t=s.highlights;if(null==t)return;let i=t[0].component,r=i+1;for(let o=1;o<t.length;o++){const s=t[o].component;if(s!==r){const t=r-i;t>0&&e.drawArrays(D.POINTS,i,t),i=s}r=s+1}const n=r-i;n>0&&e.drawArrays(D.POINTS,i,n)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,s)=>e===s))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let t=null;return this._nodes.filterInPlace((i=>i.id!==e||(t=i,i.vao=s(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),t}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=s(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,s,t){e.highlights=Z(e.highlights,s,t),this._requestRender()}_removeHighlight(e,s){e.highlights=$(e.highlights,s),this._requestRender()}_initNode(e,s){const t=e.rctx;s.vao=new v(t,q,W,{positions:M.createVertex(t,U.STATIC_DRAW,s.coordinates),colors:M.createVertex(t,U.STATIC_DRAW,s.rgb)})}_requestRender(){this._context&&this._context.requestRender()}};e([i({constructOnly:!0})],k.prototype,\"createGraphic\",void 0),k=e([r(\"esri.views.3d.layers.i3s.PointRenderer\")],k);class G extends C{constructor(e,s,t,i,r,n,o,a,l=null,h=null){super(t,r,s),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=l,this.highlights=h}}function Q(e){return e.hasOwnProperty(\"splatSize\")}function Y(e,s,t,i,r){if(t.drawScreenSpace)return t.fixedSize*s*i;const n=L(r)*s*i;return t.useFixedSizes?Math.min(t.fixedSize/2,n):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*s*i,e/2),n):Math.min(e/2,n)}function J(e,s,t,i,r){return t.drawScreenSpace?0:Y(e,s,t,i,r)}function K(e,s,t){return null==t&&(t=d()),t[0]=e.origin[0]+e.coordinates[3*s],t[1]=e.origin[1]+e.coordinates[3*s+1],t[2]=e.origin[2]+e.coordinates[3*s+2],t}function X(e){return null!=e.component?e.component:-1}function Z(e,s,t){null==e&&(e=[]);const i={component:s,id:t};e.push(i);const r=X(i);let n=e.length-1;for(;n>0&&r<X(e[n-1]);)[e[n-1],e[n]]=[e[n],e[n-1]],--n;return e}function $(e,s){if(null==e)return e;const t=e.filter((e=>e.id!==s));return 0===t.length?null:t}class ee{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function se(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}export{k as PointRenderer,G as PointRendererNode,Q as isPointRendererNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{result as i,forEach as r}from\"../../../core/asyncUtils.js\";import s from\"../../../core/Collection.js\";import{makeHandle as o}from\"../../../core/handleUtils.js\";import\"../../../core/has.js\";import n from\"../../../core/Logger.js\";import{destroyMaybe as a,abortMaybe as d}from\"../../../core/maybe.js\";import{isAbortError as l,allSettledValues as h,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{initial as p,watch as _,sync as c}from\"../../../core/reactiveUtils.js\";import{pt2px as m}from\"../../../core/screenUtils.js\";import{estimateSize as g,isArrayBuffer as f}from\"../../../core/typedArrayUtil.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as b}from\"../../../core/accessorSupport/decorators/subclass.js\";import{m as w,c as P}from\"../../../chunks/vec32.js\";import{clone as N}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{create as x}from\"../../../geometry/support/aaBoundingBox.js\";import{create as v,fromNormalAndOffset as C}from\"../../../geometry/support/plane.js\";import{CodedValue as A}from\"../../../layers/support/CodedValue.js\";import I from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as S}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as k}from\"../../../layers/support/PromiseQueue.js\";import{getElevationOffset as V}from\"../../../support/elevationInfoUtils.js\";import{LayerView3D as R}from\"./LayerView3D.js\";import{PointCloudLayerViewPerformanceInfo as D,QueuePerformanceInfo as L}from\"./PointCloudLayerViewPerformanceInfo.js\";import{PointCloudWorkerHandle as j}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as Q,checkPointCloudLayerCompatibleWithView as U}from\"./i3s/I3SUtil.js\";import{nodeDiff as W,sortFrontToBack as F,splitWorkEntries as M}from\"./i3s/LoDUtil.js\";import{PagedNodeIndex as z}from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as E,getFixedSizeAlgorithm as O,getRendererInfo as H,getFilterInfo as q,rendererUsesFixedSizes as G,getAttributeInfo as B}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as T,readGeometry as $,elevationFromPositions as J}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as K}from\"./i3s/PointGraphic.js\";import{PointRenderer as X,isPointRendererNode as Y,PointRendererNode as Z}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as ee}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as te}from\"../support/extentUtils.js\";import{computeMapPointFromVec3d as ie}from\"../support/hitTest.js\";import{ClientType as re}from\"../support/index.js\";import{Obb as se}from\"../support/orientedBoundingBox.js\";import{updatingProgress as oe}from\"../support/updatingProperties.js\";import ne from\"../../layers/LayerView.js\";import{isInEffectiveScaleRange as ae}from\"../../support/layerViewUtils.js\";import{TaskPriority as de}from\"../../support/Scheduler.js\";const le=8,he=v();let ue=class extends(ee(R(ne))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new k,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get pointScale(){const e=E(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=O(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=O(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=H(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=q(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of S(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=x(),t=this.view.renderSpatialReference;return te(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;return e&&\"absolute-height\"===e.mode?V(e,this.layer.spatialReference):0}initialize(){const e=this.view.resourceController,t=me(e);this._worker=new j(t),this.addResolvingPromise(this._worker.promise),Q(this.layer),U(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(re.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(re.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),p),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),p),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([_((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),c)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(de.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),p)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=a(this._worker),this._destroyRenderer(),this._memCache=a(this._memCache),this._codedDomainPopulationAbortController=d(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new X({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),p),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),p),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),p),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),p),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=m(e);this._renderer.size=e,this._renderer.sizePx=t}),p),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),p),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),p)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=ie(this.view,i),o=this._createGraphicAttributes(e,r);return new K({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=G(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_displayNodes(e){this._workQueue=W([...this._renderedNodes],e,this._index),F(this._workQueue,this.view.state.contentCamera.viewForward,this._index),M(this._workQueue,le,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await i(this.layer.queryCachedStatistics(r,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new I({name:\"CLASS_CODE\",codedValues:n.map((e=>new A({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,i){const s=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=i.map((e=>B(o,e))).filter(t),a=async(e,t)=>{const i=this._index.getNode(t);await r(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return s.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof K&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?T({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=$(t,await this._loadGeometry(e,null));return J(i,i.length/3)}highlight(e){if(!e)return o();const t=s.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}get visibleAtCurrentScale(){return ae(this.layer.effectiveScaleRange,this.view.terrainScale)}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new z(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:se.fromJSON(t.obb),obbInRenderSR:new se,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=w(s,t.eye),n=C(s,-o,he),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const h=e=>l.push(e);return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return h(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(h(e),!1)},pageMiss:(e,t)=>{h(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,e.minimumDistancePlane(r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw l(i)||n.getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,i,r){const s=this.layer.outFields;if(!s)return[];const o=S(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const t of o){if(n.has(t))continue;const e=B(a,t);e&&d.push(i(e))}const l=await h(d);return u(r),l.filter(t)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=H(this.layer),s=q(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),p=s.map((e=>e.attributeInfo)),_=p.map((e=>n(e))),c=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(_),c]);u(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obbData:this._index.getRenderObb(e).data,elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",...this.layer.customParameters,token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{...this.layer.customParameters,token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._memCache.put(t.id.toString(),t,_e(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(Y(t))return t.splatSize=r,t.obb=s,P(t.origin,t.obb.center),t;const o=se.fromData(t.obbData),a=o.halfSize,d=s.halfSize,l=.01*Math.max(d[0],d[1],d[2]);if(a[0]>d[0]+l||a[1]>d[1]+l||a[2]>d[2]+l){if(this._maxLoggedBoxWarnings>0){const t=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;n.getLogger(this).warn(`Node ${e} reported bounding box too small. got ${t(s)} but points cover ${t(o)}`),0==--this._maxLoggedBoxWarnings&&n.getLogger(this).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,o)}return new Z(e,r,N(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=ce,e+=g(t.coordinates);for(const i of t.attributes){const t=i.values;f(t.buffer)&&(e+=g(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*ce)/t)+i*ce}get performanceInfo(){return new D(this.usedMemory,this._renderedNodes.size,[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),this.maximumPointCount,new L(this._loadingNodes.size,this._indexQueue.length,this._workQueue.length,this._idleQueue.length))}get test(){}};e([y()],ue.prototype,\"layer\",void 0),e([y()],ue.prototype,\"baseUrl\",null),e([y()],ue.prototype,\"pointScale\",null),e([y()],ue.prototype,\"useRealWorldSymbolSizes\",null),e([y()],ue.prototype,\"pointSize\",null),e([y()],ue.prototype,\"inverseDensity\",null),e([y()],ue.prototype,\"maximumPointCount\",void 0),e([y({readOnly:!0})],ue.prototype,\"availableFields\",null),e([y({readOnly:!0})],ue.prototype,\"_clippingBox\",null),e([y({readOnly:!0})],ue.prototype,\"_elevationOffset\",null),e([y({type:Boolean})],ue.prototype,\"slicePlaneEnabled\",void 0),e([y()],ue.prototype,\"updating\",void 0),e([y(oe)],ue.prototype,\"updatingProgress\",void 0),e([y({readOnly:!0})],ue.prototype,\"updatingProgressValue\",null),e([y({readOnly:!0})],ue.prototype,\"visibleAtCurrentScale\",null),ue=e([b(\"esri.views.3d.layers.PointCloudLayerView3D\")],ue);const pe=ue;function _e(e){return 5*e.coordinates.length+128}const ce=160;function me(e){return t=>e.immediate.schedule(t)}export{pe as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["async","n","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","h","constructor","r","this","_mainMethod","_transferLists","_listeners","_promise","schedule","then","_thread","hasInitialize","broadcast","_connectListener","close","catch","getLogger","error","on","removed","eventName","callback","threadHandle","remove","destroy","invoke","invokeMethod","transferList","signal","Promise","reject","all","promise","j","v","super","clipBox","c","useFixedSizes","useRealWorldSymbolSizes","scaleFactor","minSizePx","size","sizePx","fixedSize","drawScreenSpace","screenMinSize","P","origin","isLeaf","splatSize","y","b","output","Color","Highlight","vertex","fragment","include","m","attributes","add","M","POSITION","COLOR","uniforms","w","R","camera","viewMatrix","z","projectionMatrix","F","pixelRatio","O","S","fullHeight","clippingEnabled","x","B","constants","varyings","code","drawScreenSize","g","_","Object","freeze","defineProperty","__proto__","PointRendererDrawParameters","PointRendererPassParameters","build","getMaxPointSizeScreenspace","Symbol","toStringTag","value","queue","loading","indexLoading","processing","idleProcessing","transform","geometryBuffer","primaryAttributeData","buffer","modulationAttributeData","filterAttributesData","userAttributesData","indexOf","getParentId","pop","load","_pages","pageSize","_nodeSR","_renderSR","_renderSRSphericalPCPF","addPage","obb","obbInRenderSR","nodes","parents","Uint32Array","childCount","firstChild","hasPage","getNode","getRenderObb","setRenderObb","copy","hasNodes","forEachNodeId","createVisibilityTraverse","index","masks","tempAabb","clippingBox","frustum","toAaBoundingBox","intersectPlane","predicate","pageMiss","renderer","type","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","pointCloudMetadata","constructOnly","clonable","prototype","_context","_highlights","Set","empty","_enableSet","_removeSet","_disableSet","delete","enabled","forEachNode","_enableSetForNode","ids","get","id","addHighlight","_disableSetForNode","removeHighlight","nodeAdded","nodeRemoved","removeAll","Map","_add","nodeId","pointId","set","initializeProgram","rctx","shader","configuration","initializePipeline","depthTest","func","LESS","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","drawBuffers","Depth","buffers","NONE","hasSlicePlane","count","COUNT","constValue","W","positions","V","FLOAT","colors","UNSIGNED_BYTE","k","PCL","isGround","_passParameters","N","_addHighlight","_removeHighlight","produces","I","OPAQUE_MATERIAL","A","OPAQUE_NO_SSAO_DEPTH","layerUid","_slicePlaneEnabled","_techniqueConfig","H","_nodes","initializeRenderContext","requestRender","uninitializeRenderContext","intersect","perScreenPixelRatio","near","q","ee","Array","forAll","minimumDistancePlane","maximumDistancePlane","J","dist","Y","intersectRay","coordinates","point","K","normal","node","options","store","E","MIN","ALL","createGraphic","C","se","results","min","max","prepareTechnique","bindParameters","slot","vao","_initNode","_clippingEnabled","techniques","releaseAndAcquire","T","_technique","renderNode","bindTechnique","highlights","bindDraw","bindVAO","_renderHighlightFragments","drawArrays","D","POINTS","component","_requestRender","slicePlaneEnabled","addNode","removeNode","filterInPlace","clear","highlight","X","Z","filter","$","createVertex","U","STATIC_DRAW","rgb","G","pointIdFilterMap","L","Math","he","ue","ne","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","ignoresMemoryFactor","baseUrl","layer","parsedUrl","path","pointScale","pointSize","inverseDensity","pointsPerInch","availableFields","outFields","from","_clippingBox","view","clippingArea","renderSpatialReference","te","_elevationOffset","elevationInfo","mode","spatialReference","initialize","resourceController","immediate","me","_worker","addResolvingPromise","Q","_indexRequester","createStreamDataRequester","re","I3S_INDEX","_dataRequester","I3S_DATA","_initRenderer","_initNodePages","memoryController","_memCache","newCache","uid","_updatingHandles","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","effectiveScaleRange","state","contentCamera","addHandles","quality","when","scheduler","registerTask","de","POINT_CLOUD_LAYER","registerIdleStateCallbacks","_idleBegin","_idleEnd","suspended","_clearNodeState","removeAllHandles","_updateLoading","cancelLoading","_destroyRenderer","_createGraphic","_setPointsVisible","sqrt","qualitySettings","sceneService","pointCloud","lodFactor","ie","_createGraphicAttributes","pointIndexInNode","attributePointIndexInNode","epoch","geometry","sourceLayer","_encodeGraphicAttribute","values","_stage","addRenderPlugin","removeRenderPlugin","_displayNodes","sort","center","viewForward","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","_ref","abortController","abort","cancelAll","_ref2","_removeFromRenderer","running","runTask","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","shift","_loadNodePage","done","_scheduleWorkEntry","madeProgress","_processWorkEntry","find","AbortController","toString","resolve","_loadNode","_setupRendererData","_addToRenderer","_populateClassCodeCodedDomain","domain","queryCachedStatistics","ok","stats","labels","isArray","codedValues","label","prepareFetchPopupFeatures","whenGraphicAttributes","_splitGraphicsPerNode","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","allSettled","_loadAttribute","vertexCount","defaultGeometrySchema","_loadGeometry","isCollection","toArray","_graphicToPointDefinition","updatingProgressValue","canResume","isUpdating","visibleAtCurrentScale","ae","terrainScale","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","_requestNodePage","fromJSON","pointCount","lodThreshold","effectiveArea","_computeNodesForMinimumDensity","_computePointCount","eye","_computeAveragePixelArea","_loadNodeAsync","_loadAdditionalUserAttributes","schema","rendererInfo","filterInfo","obbData","data","elevationOffset","inSR","outSR","_requestData","key","customParameters","token","apiKey","request","query","put","_e","hasOwnProperty","fromData","halfSize","warn","points","usedMemory","ce","unloadedMemory","reduce","performanceInfo","test","readOnly","Boolean","oe","pe","_validateFetchPopupFeatures","popupEnabled","fetchPopupFeaturesFromGraphics","associatedLayer","getObjectId","concat","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","EventedMixin","parent","title","fullOpacity","opacity","destroyed","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}