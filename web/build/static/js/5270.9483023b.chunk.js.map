{"version":3,"file":"static/js/5270.9483023b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/views/3d/terrain/RasterTile.js","../node_modules/@arcgis/core/views/3d/layers/ImageryTileLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/TiledLayerView3D.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/webgl/rasterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../TimeExtent.js\";import{isSome as e}from\"../core/arrayUtils.js\";import{deprecatedFunction as n}from\"../core/deprecate.js\";import{clone as i}from\"../core/lang.js\";import r from\"../core/Logger.js\";import{offsetDate as s}from\"../core/timeUtils.js\";import{isWebMap as l}from\"../webmap/utils.js\";import{isWebScene as o}from\"../webscene/utils.js\";function m(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??f(t.allLayers,e)}function a(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function c(t){const{numStops:e,stopInterval:n,stops:r}=t;return r?{dates:i(r)}:n?{interval:n.clone()}:{count:e??5}}async function f(n,i){if(0===n.length)return t.allTime;await Promise.all(n.map((t=>t.load({signal:i}))));const r=n.filter(m),s=n.filter((t=>!m(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===s.length)return t.allTime;const l=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):l.push(t);const u=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...s.map((t=>t.visibilityTimeExtent))];if(a.some(u))return t.allTime;const c=l.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:i}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),f=(await Promise.allSettled(c)).map((t=>\"fulfilled\"===t.status?t.value:null));if(f.some(u))return t.allTime;const p=[...f,...a].filter(e);if(0===p.length)return t.allTime;return p.reduce(((t,e)=>t.union(e)))}function p(e,n){const i=e.currentTimeExtent;if(!i)return null;const{start:r,end:s}=i,l=r??s??null;switch(n){case\"time-window\":return new t({start:r,end:s});case\"cumulative-from-start\":return new t({start:null,end:l});case\"cumulative-from-end\":return new t({start:l,end:null});case\"instant\":return new t({start:l,end:l})}}async function d(t,e){return n(r.getLogger(\"esri.support.timeUtils.getTimeSliderSettingsFromWebMap\"),\"`timeUtils.getTimeSliderSettingsFromWebMap` is deprecated in favor of 'timeUtils.getTimeSliderSettingsFromWebDocument'\",{replacement:\"timeUtils.getTimeSliderSettingsFromWebDocument\",version:\"4.30\",see:\"https://developers.arcgis.com/javascript/latest/api-reference/esri-support-timeUtils.html#getTimeSliderSettingsFromWebDocument\",warnOnce:!0}),null!=t&&l(t)?await g(t,e):null}async function g(t,e){if(!l(t)&&!o(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),r=n.loop,s=a(n);return{fullTimeExtent:i,loop:r,mode:s,playRate:n.stopDelay??2e3,stops:c(n),timeExtent:p(n,s)}}function T(e){if(!e)return e;const{start:n,end:i}=e;return new t({start:null!=n?s(n,-n.getTimezoneOffset(),\"minutes\"):n,end:null!=i?s(i,-i.getTimezoneOffset(),\"minutes\"):i})}function w(e){if(!e)return e;const{start:n,end:i}=e;return new t({start:null!=n?s(n,n.getTimezoneOffset(),\"minutes\"):n,end:null!=i?s(i,i.getTimezoneOffset(),\"minutes\"):i})}export{f as getTimeExtentFromLayers,g as getTimeSliderSettingsFromWebDocument,d as getTimeSliderSettingsFromWebMap,w as toLocalTimeExtent,T as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../core/maybe.js\";import{C as e}from\"../../../chunks/RasterColorizer.glsl.js\";import{TextureSamplingMode as r}from\"../../webgl/enums.js\";import{createTransformTexture as s,getCommonUniforms as i,getColormapUniforms as o,getStretchUniforms as a,getShadedReliefUniforms as l,createRasterTexture as h,createColormapTexture as n}from\"../../webgl/rasterUtils.js\";const u={bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,stretchType:\"none\",type:\"stretch\"};class m{constructor(t,e,r=null,s=null){this.lij=t,this.type=\"raster-tile\",this._memoryUsed=null,this._source=null,this._symbolizerParameters=null,this._bandIds=null,this._interpolation=null,this._dirty=!1,this._transformGrid=null,this.isRendereredSource=!1,this.symbolizerRenderer=null,this.rawPixelData=null,this.opacity=1,this.source=e,this.width=r||e.width,this.height=s||e.height}get source(){return this._source}set source(e){this._source=e,this._rasterTexture=t(this._rasterTexture),this._memoryUsed=null}get symbolizerParameters(){return this.isRendereredSource?{...u,maxCutOff:[1,1,1],factor:[1,1,1]}:this._symbolizerParameters||u}set symbolizerParameters(t){this._symbolizerParameters=t}get bandIds(){return this._bandIds}set bandIds(t){if(null!=t&&t.length>0){this._bandIds&&t.every(((t,e)=>!!this._bandIds?.[e]&&t===this._bandIds[e]))||(this._bandIds=t,this._dirty=!0)}else this._bandIds=null}get interpolation(){return this._interpolation||\"nearest\"}set interpolation(t){if(this._interpolation=t,null!=this._rasterTexture){const e=this._getRasterTextureInterpolation(t);this._rasterTexture.setSamplingMode(\"bilinear\"===e?r.LINEAR:r.NEAREST)}}get transformGrid(){return this._transformGrid}set transformGrid(e){this._transformGrid=e,this._transformGridTexture=t(this._transformGridTexture),this._memoryUsed=null}bind(t){return!!(this.source&&this.source.pixels&&this.source.pixels.length>0)&&((null==this._rasterTexture||this._dirty)&&this._updateRasterTexture(t,this.bandIds),null!=this._rasterTexture&&(this._updateColormapTexture(t),this.transformGrid&&null==this._transformGridTexture&&(this._transformGridTexture=s(t,this.transformGrid))),!0)}getUniforms(){const{symbolizerParameters:t,transformGrid:r,width:s,height:h,opacity:n}=this,u=i(r,[s,h],[this.source.width,this.source.height],n),m=o(t.colormap,t.colormapOffset),d=\"stretch\"===this.symbolizerParameters.type?a(this.symbolizerParameters):null,_=\"hillshade\"===this.symbolizerParameters.type?l(this.symbolizerParameters):null;return new e(u,m,d||_,this._rasterTexture,this._transformGridTexture,this._colormapTexture)}get isBilinearWithStretchColorRamp(){const{symbolizerParameters:t}=this;return\"bilinear\"===this.interpolation&&null!=t.colormap&&\"stretch\"===t.type}get memoryUsage(){if(null==this._memoryUsed){const t=[this._rasterTexture,this._transformGridTexture,this._colormapTexture];this._memoryUsed=t.map((t=>null!=t?t.descriptor.width*t.descriptor.height*4:0)).reduce(((t,e)=>t+e),0)}return this._memoryUsed}release(){return this._rasterTexture=t(this._rasterTexture),this._transformGridTexture=t(this._transformGridTexture),this._colormapTexture=t(this._colormapTexture),this.source=null,this.transformGrid=null,this.rawPixelData=null,!0}_updateRasterTexture(e,r){const s=this.source?this.source.extractBands(r):null;if(!(s?.pixels&&s.pixels.length>0))return void(this._rasterTexture=t(this._rasterTexture));const i=null==r&&null==this.bandIds||null!=r&&null!=this.bandIds&&r.join(\"\")===this.bandIds.join(\"\");if(null!=this._rasterTexture&&i)return;this._rasterTexture=t(this._rasterTexture);const o=this._getRasterTextureInterpolation(this.interpolation);this._rasterTexture=h(e,s,o,this.isRendereredSource||this.hasStretchTypeNone())}hasStretchTypeNone(){return\"stretchType\"in this.symbolizerParameters&&\"none\"===this.symbolizerParameters.stretchType&&!this.symbolizerParameters.useGamma&&\"u8\"===this.source.pixelType}_getRasterTextureInterpolation(t){return\"lut\"===this.symbolizerParameters.type||\"nearest\"===t||\"majority\"===t||this.isBilinearWithStretchColorRamp?\"nearest\":\"bilinear\"}_updateColormapTexture(e){const r=this._colormap,s=this.symbolizerParameters.colormap;return s?r?s.length!==r.length||s.some(((t,e)=>t!==r[e]))?(this._colormapTexture=t(this._colormapTexture),this._colormapTexture=n(e,s),void(this._colormap=s)):void 0:(this._colormapTexture=n(e,s),void(this._colormap=s)):(this._colormapTexture=t(this._colormapTexture),void(this._colormap=null))}}export{m as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectDatasetExtent as a}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{LayerView3D as l}from\"./LayerView3D.js\";import{TiledLayerView3D as n}from\"./TiledLayerView3D.js\";import{RasterTile as o}from\"../terrain/RasterTile.js\";import m from\"../../layers/ImageryTileLayerView.js\";import p from\"../../layers/LayerView.js\";import h from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as c}from\"../../support/drapedUtils.js\";import{getWebGLCapabilities as d}from\"../../webgl/capabilities.js\";let y=class extends(m(h(n(l(p))))){constructor(){super(...arguments),this.type=\"imagery-tile-3d\",this._isAlignedMapTile=!0}initialize(){this.layer.increaseRasterJobHandlerUsage(),null==this.fullExtent&&this.addResolvingPromise(Promise.reject(new t(\"layerview:spatial-reference-incompatible\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})));const e=r((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,t=this.layer.tileInfo;this._isAlignedMapTile=[\"png\",\"png24\",\"png32\",\"jpg\",\"mixed\"].includes(t.format)&&e.compatibleWith(t),this.tileInfo=this._isAlignedMapTile?t:e.toTileInfo(),this._updatingHandles.add((()=>[this.layer.renderer,this.layer.interpolation,this.layer.bandIds,this.layer.multidimensionalDefinition,this.layer.multidimensionalSubset,this.layer.rasterFunction,this.timeExtent]),(()=>this.refresh()))}));this.addResolvingPromise(e)}destroy(){this.layer.decreaseRasterJobHandlerUsage()}get _blankTile(){const e=document.createElement(\"canvas\"),t=e.getContext(\"2d\"),[r,i]=this.tileInfo.size;return e.width=r,e.height=i,t.clearRect(0,0,r,i),t.getImageData(0,0,r,i)}get imageFormatIsOpaque(){return\"jpg\"===this.layer.tileInfo.format}get hasMixedImageFormats(){return\"mixed\"===this.layer.tileInfo.format}get dataLevelRange(){const e=this.layer.tileInfo,t=this.tileInfo.lodAt(0)?.scale,r=this.layer.tileInfo.lodAt(e.lods.length-1)?.scale;return this.levelRangeFromScaleRange(t,r)}_getfullExtent(){return a(this.layer.serviceRasterInfo,this.view.basemapTerrain?.spatialReference??this.view.spatialReference)}async fetchTile(e,t){const r=this.tileInfo,i=this._canSymbolizeInWebGL(),s={tileInfo:r,requestRawData:i,signal:t.signal,timeExtent:this.timeExtent,requestAsImageElement:this._isAlignedMapTile,noClip:!1},{layer:a}=this,[l,n,m]=e,p=await a.fetchTile(l,n,m,s);if(p instanceof HTMLImageElement)return p;let h=p?.pixelBlock;if(null==h)return this._blankTile;if(!i&&(h=await a.applyRenderer(p),null==h))return this._blankTile;const c=new o([l,n,m],h,r.size[0],r.size[1]);return i?(c.symbolizerRenderer=a.symbolizer.rendererJSON,c.symbolizerParameters=a.symbolizer.generateWebGLParameters(this._getSymbolizerOptions(l)),c.transformGrid=p.transformGrid,c.bandIds=a.bandIds):(c.isRendereredSource=!0,c.bandIds=null),c.interpolation=a.interpolation,c}_getSymbolizerOptions(e){const t=this.tileInfo.lodAt(e).resolution;return{pixelBlock:null,isGCS:null!=this.view.basemapTerrain?.spatialReference?this.view.basemapTerrain.spatialReference.isGeographic:this.view.spatialReference.isGeographic,resolution:{x:t,y:t},bandIds:this.layer.bandIds}}ensureSymbolizerParameters(e){this._canSymbolizeInWebGL()&&JSON.stringify(e.symbolizerRenderer)!==JSON.stringify(this.layer.symbolizer.rendererJSON)&&(e.symbolizerParameters=this.layer.symbolizer.generateWebGLParameters(this._getSymbolizerOptions(e.lij[0])))}createFetchPopupFeaturesQueryGeometry(e,t){return c(e,t,this.view)}refresh(){this.emit(\"data-changed\")}async doRefresh(){this.suspended||this.emit(\"data-changed\")}_canSymbolizeInWebGL(){const e=d(),{symbolizer:t}=this.layer,r=t.lookup?.colormapLut?.indexedColormap,i=!!this.layer.rasterFunction?.hasClipFunction,s=r&&r.length>4*(e.maxTextureSize||4906);return t.canRenderInWebGL&&!s&&!i}};e([i({readOnly:!0})],y.prototype,\"_blankTile\",null),e([i({readOnly:!0})],y.prototype,\"imageFormatIsOpaque\",null),e([i({readOnly:!0})],y.prototype,\"hasMixedImageFormats\",null),e([i({readOnly:!0})],y.prototype,\"dataLevelRange\",null),y=e([s(\"esri.views.3d.layers.ImageryTileLayerView3D\")],y);const u=y;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{whenOnce as i}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerViewPerformanceInfo as l}from\"./support/LayerViewPerformanceInfo.js\";import{updatingProgress as s,updatingProgressValue as n}from\"../support/updatingProperties.js\";import{checkIfTileInfoSupportedForView as o}from\"../terrain/terrainUtils.js\";import{isScaleRangeActive as c,validateScaleRange as h}from\"../../support/layerViewUtils.js\";const p=p=>{let m=class extends p{constructor(){super(...arguments),this.hasMixedImageFormats=!0}get imageFormatIsOpaque(){return!1}get fullExtent(){return this.layer.fullExtent}get isOpaque(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}get visibleAtCurrentScale(){if(!c(this.layer.minScale,this.layer.maxScale)||!this.view.terrainScale)return!0;const e=Math.round(this.view.basemapTerrain.tilingScheme.levelAtScale(this.view.terrainScale));return e>=this.displayLevelRange.minLevel&&e<=this.displayLevelRange.maxLevel}get dataScaleRange(){const e=this.tileInfo.lods;let t=e[0].scale,i=e[e.length-1].scale;if(\"tilemapCache\"in this.layer&&this.layer.tilemapCache){const{effectiveMinLOD:e,effectiveMaxLOD:a}=this.layer.tilemapCache;t=this.tileInfo.lodAt(e).scale,i=this.tileInfo.lodAt(a).scale}return{minScale:t,maxScale:i}}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&h(e)&&this.visibleAtCurrentTimeExtent||!1}get dataLevelRange(){const{minScale:e,maxScale:t}=this.dataScaleRange;return this.levelRangeFromScaleRange(e,t)}get displayLevelRange(){const e=this.layer.minScale||this.dataScaleRange.minScale,t=this.layer.maxScale||this.dataScaleRange.maxScale,i=this.levelRangeFromScaleRange(e,t);return this.layer.maxScale&&i.maxLevel++,i}get performanceInfo(){return new l(this.view.basemapTerrain.getUsedMemoryForLayerView(this))}getTileUrl(e){return this.layer.getTileUrl(e[0],e[1],e[2])}_addTilingSchemeMatchPromise(){if(null==this.fullExtent)return this.addResolvingPromise(Promise.reject(new t(\"tilingscheme:extent-not-defined\",\"This layer doesn't define a fullExtent.\")));const e=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if(e)return this.addResolvingPromise(Promise.reject(e));this.addResolvingPromise(i((()=>this.view?.basemapTerrain?.tilingSchemeLocked)).then((()=>{const e=this.view.basemapTerrain.tilingScheme,t=\"tilemapCache\"in this.layer?this.layer.tilemapCache?.effectiveMaxLOD:void 0,i=this._getTileInfoCompatibilityError(this.tileInfo,e,t);if(i)throw i})))}_getTileInfoSupportError(e,i){const a=o(e,i,this.view.spatialReference,this.view.state.viewingMode,\"tilemapCache\"in this.layer?this.layer.tilemapCache?.effectiveMaxLOD:void 0);if(!a)return;const r={layer:this.layer,error:a};switch(a.name){case\"tilingscheme:spatial-reference-mismatch\":case\"tilingscheme:global-unsupported-spatial-reference\":case\"tilingscheme:local-unsupported-spatial-reference\":return new t(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",r);default:return new t(\"layerview:tiling-scheme-unsupported\",\"The tiling scheme of this layer is not supported by SceneView\",r)}}_getTileInfoCompatibilityError(e,i,a){return null!=e&&i.compatibleWith(e,a)?null:new t(\"layerview:tiling-scheme-incompatible\",\"The tiling scheme of this layer is incompatible with the tiling scheme of the surface\")}levelRangeFromScaleRange(e,t){const i={minLevel:0,maxLevel:1/0},a=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!a)return i;const r=a.levels[0],l=e=>{const t=Math.log(r.scale/e)/Math.LN2;return.5-Math.abs(.5-t%1)<1e-9?Math.round(t):Math.ceil(t)};return null!=e&&e>0&&(i.minLevel=Math.max(0,l(e))),null!=t&&t>0&&(i.maxLevel=Math.max(0,l(t))),i}isUpdating(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}};return e([a({readOnly:!0})],m.prototype,\"imageFormatIsOpaque\",null),e([a({readOnly:!0})],m.prototype,\"updating\",void 0),e([a(s)],m.prototype,\"updatingProgress\",void 0),e([a(n)],m.prototype,\"updatingProgressValue\",void 0),e([a()],m.prototype,\"hasMixedImageFormats\",void 0),e([a()],m.prototype,\"fullExtent\",null),e([a({readOnly:!0})],m.prototype,\"isOpaque\",null),e([a({readOnly:!0})],m.prototype,\"visibleAtCurrentScale\",null),e([a()],m.prototype,\"dataScaleRange\",null),e([a({readOnly:!0})],m.prototype,\"dataLevelRange\",null),e([a({readOnly:!0})],m.prototype,\"displayLevelRange\",null),e([a()],m.prototype,\"layer\",void 0),m=e([r(\"esri.views.3d.layers.TiledLayerView3D\")],m),m};export{p as TiledLayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{combineTimeExtent as a}from\"../../layers/support/timeSupport.js\";import{getDefaultDatumTransformationForDataset as o,projectDatasetExtent as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as l}from\"./support/popupUtils.js\";const u=u=>{let p=class extends u{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.tileInfo=null}get fullExtent(){return this._getfullExtent()}get timeExtent(){return a(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}get hasTilingEffects(){return!!(this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment)}get datumTransformation(){return o(this.layer.fullExtent,this.view.spatialReference,!0)}supportsSpatialReference(e){return!!n(this.layer.serviceRasterInfo,e)}async fetchPopupFeaturesAtLocation(e,i){const{layer:s}=this;if(!e)throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s,o=l(s,i);if(!a||null==o)return[];const n=[],{value:u,magdirValue:p,processedValue:c}=await s.identify(e,{timeExtent:this.timeExtent,signal:i?.signal});let m=\"\";if(u?.length){m=\"imagery-tile\"===s.type&&s.hasStandardTime()&&null!=u[0]?u.map((e=>s.getStandardTimeValue(e))).join(\", \"):u.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=\"imagery-tile\"===s.type&&\"Function\"===s.raster.datasetFormat?c?.join(\", \"):m,e[r+\".Raw\"]=m;const i=s.raster?.rasterInfo??s.serviceRasterInfo,a=i?.attributeTable;if(null!=a){const{fields:t,features:i}=a,s=t.find((({name:e})=>\"value\"===e.toLowerCase())),o=e[r],n=s?i.find((e=>String(e.attributes[s.name])===o)):null;if(n)for(const r in n.attributes)if(n.attributes.hasOwnProperty(r)){e[this._rasterFieldPrefix+r]=n.attributes[r]}}const o=i?.dataType;\"vector-magdir\"!==o&&\"vector-uv\"!==o||(e[\"Raster.Magnitude\"]=p?.[0],e[\"Raster.Direction\"]=p?.[1]);const l=new t({geometry:this.fullExtent.clone(),attributes:e,layer:s,sourceLayer:s});n.push(l)}return n}_getfullExtent(){return n(this.layer.serviceRasterInfo,this.view.spatialReference)}};return e([i()],p.prototype,\"fullExtent\",null),e([i()],p.prototype,\"layer\",void 0),e([i({readOnly:!0})],p.prototype,\"timeExtent\",null),e([i()],p.prototype,\"view\",void 0),e([i()],p.prototype,\"tileInfo\",void 0),e([i({readOnly:!0})],p.prototype,\"hasTilingEffects\",null),e([i()],p.prototype,\"datumTransformation\",null),p=e([s(\"esri.views.layers.ImageryTileLayerView\")],p),p};export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{ZEROS as e}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{PixelType as t,SizedPixelFormat as n,PixelFormat as r,TextureSamplingMode as a,TextureWrapMode as i,UniformType as o}from\"./enums.js\";import{Texture as s}from\"./Texture.js\";import{TextureDescriptor as u}from\"./TextureDescriptor.js\";function f(e,o,f=\"nearest\",c=!1){const m=!(c&&\"u8\"===o.pixelType),l=m?t.FLOAT:t.UNSIGNED_BYTE,_=null==o.pixels||0===o.pixels.length?null:m?o.getAsRGBAFloat():o.getAsRGBA(),g=e.capabilities.textureFloatLinear,p=new u;return p.width=o.width,p.height=o.height,p.internalFormat=m?n.RGBA32F:r.RGBA,p.samplingMode=!g||\"bilinear\"!==f&&\"cubic\"!==f?a.NEAREST:a.LINEAR,p.dataType=l,p.wrapMode=i.CLAMP_TO_EDGE,new s(e,p,_)}function c(e,r){const{spacing:o,offsets:f,coefficients:c,size:[m,l]}=r,_=o[0]>1,g=new u;g.width=_?4*m:m,g.height=l,g.internalFormat=n.RGBA32F,g.dataType=t.FLOAT,g.samplingMode=a.NEAREST,g.wrapMode=i.CLAMP_TO_EDGE;const p=new Float32Array(_?m*l*16:2*f.length);if(_&&null!=c)for(let t=0,n=0;t<c.length;t++)p[n++]=c[t],t%3==2&&(p[n++]=1);else for(let t=0;t<l;t++)for(let e=0;e<m;e++){const n=4*(t*m+e),r=2*(e*l+t);p[n]=f[r],p[n+1]=f[r+1],p[n+3]=-1===f[r]?0:1}return new s(e,g,p)}function m(e,t){const n=new u;return n.internalFormat=r.RGBA,n.width=t.length/4,n.height=1,n.samplingMode=a.NEAREST,n.wrapMode=i.CLAMP_TO_EDGE,new s(e,n,t)}function l(t,n,r,a=1,i=!0){return{u_flipY:i,u_applyTransform:!!t,u_opacity:a,u_transformSpacing:t?t.spacing:e,u_transformGridSize:t?t.size:e,u_targetImageSize:n,u_srcImageSize:r}}function _(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}}function g(e,t){return{u_scale:e,u_offset:t}}function p(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function A(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function T(e,t){const n=e.gl,r=t.glName,a=new Map;if(null==r)return a;const i=n.getProgramParameter(r,n.ACTIVE_UNIFORMS);let o;for(let s=0;s<i;s++)o=n.getActiveUniform(r,s),o&&a.set(o.name,{location:n.getUniformLocation(r,o.name),info:o});return a}function h(e,t,n){Object.keys(n).forEach((r=>{const a=t.get(r)||t.get(r+\"[0]\");a&&E(e,r,n[r],a)}))}function O(e,t,n,r){n.length===r.length&&(r.some((e=>null==e))||n.some((e=>null==e))||n.forEach(((n,a)=>{t.setUniform1i(n,a),e.bindTexture(r[a],a)})))}function E(e,t,n,r){if(null===r||null==n)return!1;const{info:a}=r;switch(a.type){case o.FLOAT:a.size>1?e.setUniform1fv(t,n):e.setUniform1f(t,n);break;case o.FLOAT_VEC2:e.setUniform2fv(t,n);break;case o.FLOAT_VEC3:e.setUniform3fv(t,n);break;case o.FLOAT_VEC4:e.setUniform4fv(t,n);break;case o.FLOAT_MAT3:e.setUniformMatrix3fv(t,n);break;case o.FLOAT_MAT4:e.setUniformMatrix4fv(t,n);break;case o.INT:a.size>1?e.setUniform1iv(t,n):e.setUniform1i(t,n);break;case o.BOOL:e.setUniform1i(t,n?1:0);break;case o.INT_VEC2:case o.BOOL_VEC2:e.setUniform2iv(t,n);break;case o.INT_VEC3:case o.BOOL_VEC3:e.setUniform3iv(t,n);break;case o.INT_VEC4:case o.BOOL_VEC4:e.setUniform4iv(t,n);break;default:return!1}return!0}export{m as createColormapTexture,f as createRasterTexture,c as createTransformTexture,g as getBasicGridUniforms,_ as getColormapUniforms,l as getCommonUniforms,A as getShadedReliefUniforms,p as getStretchUniforms,T as getUniformLocationInfos,O as setTextures,h as setUniforms};\n"],"names":["i","n","s","timeInfo","datesInUnknownTimezone","l","timeOffset","o","useViewTime","m","u","timeExtent","e","start","end","t","getTimezoneOffset","r","intersection","isEmpty","isAllTime","offset","value","unit","equals","bandCount","outMin","outMax","minCutOff","maxCutOff","factor","useGamma","gamma","gammaCorrection","colormap","colormapOffset","stretchType","type","constructor","arguments","length","undefined","this","lij","_memoryUsed","_source","_symbolizerParameters","_bandIds","_interpolation","_dirty","_transformGrid","isRendereredSource","symbolizerRenderer","rawPixelData","opacity","source","width","height","_rasterTexture","symbolizerParameters","bandIds","every","_this$_bandIds","interpolation","_getRasterTextureInterpolation","setSamplingMode","LINEAR","NEAREST","transformGrid","_transformGridTexture","bind","pixels","_updateRasterTexture","_updateColormapTexture","getUniforms","h","d","a","_","_colormapTexture","isBilinearWithStretchColorRamp","memoryUsage","map","descriptor","reduce","release","extractBands","join","hasStretchTypeNone","pixelType","_colormap","some","y","p","super","_isAlignedMapTile","initialize","layer","increaseRasterJobHandlerUsage","fullExtent","addResolvingPromise","Promise","reject","_this$view","view","basemapTerrain","tilingSchemeLocked","then","tilingScheme","tileInfo","includes","format","compatibleWith","toTileInfo","_updatingHandles","add","renderer","multidimensionalDefinition","multidimensionalSubset","rasterFunction","refresh","destroy","decreaseRasterJobHandlerUsage","_blankTile","document","createElement","getContext","size","clearRect","getImageData","imageFormatIsOpaque","hasMixedImageFormats","dataLevelRange","_this$tileInfo$lodAt","_this$layer$tileInfo$","lodAt","scale","lods","levelRangeFromScaleRange","_getfullExtent","_this$view$basemapTer","_this$view$basemapTer2","serviceRasterInfo","spatialReference","fetchTile","_canSymbolizeInWebGL","requestRawData","signal","requestAsImageElement","noClip","HTMLImageElement","pixelBlock","applyRenderer","c","symbolizer","rendererJSON","generateWebGLParameters","_getSymbolizerOptions","_this$view$basemapTer3","resolution","isGCS","isGeographic","x","ensureSymbolizerParameters","JSON","stringify","createFetchPopupFeaturesQueryGeometry","emit","doRefresh","suspended","_t$lookup","_this$layer$rasterFun","lookup","colormapLut","indexedColormap","hasClipFunction","maxTextureSize","canRenderInWebGL","readOnly","prototype","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","addHandles","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","isOpaque","fullOpacity","visibleAtCurrentScale","minScale","maxScale","terrainScale","Math","round","levelAtScale","displayLevelRange","minLevel","maxLevel","dataScaleRange","tilemapCache","effectiveMinLOD","effectiveMaxLOD","canResume","_this$layer","_this$parent","effectiveScaleRange","visible","loaded","parent","ready","visibleAtCurrentTimeExtent","performanceInfo","getUsedMemoryForLayerView","getTileUrl","_addTilingSchemeMatchPromise","_getTileInfoSupportError","_this$view2","_this$layer$tilemapCa","_getTileInfoCompatibilityError","_this$layer$tilemapCa2","state","viewingMode","error","name","levels","log","LN2","abs","ceil","max","isUpdating","updating","_rasterFieldPrefix","_get","hasTilingEffects","dynamicRangeAdjustment","datumTransformation","supportsSpatialReference","fetchPopupFeaturesAtLocation","popupEnabled","magdirValue","processedValue","identify","_s$raster$rasterInfo","_s$raster","hasStandardTime","getStandardTimeValue","ObjectId","raster","datasetFormat","rasterInfo","attributeTable","fields","features","find","_ref","toLowerCase","String","attributes","hasOwnProperty","dataType","geometry","clone","sourceLayer","push","EventedMixin","when","catch","id","title","getLogger","concat","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","destroyed","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","_this$_updatingHandle","updatingProgress","updateSuspended","_this$layer4","_overrideIfSome","_this$layer5","visibilityTimeExtent","_this$layer6","_this$parent2","_this$parent3","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean","dataChanged","async","_n$fieldsIndex","_n$fieldsIndex2","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","f","has","forEach","_n$fieldsIndex3","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","FLOAT","UNSIGNED_BYTE","getAsRGBAFloat","getAsRGBA","g","capabilities","textureFloatLinear","internalFormat","RGBA32F","RGBA","samplingMode","wrapMode","CLAMP_TO_EDGE","spacing","offsets","coefficients","Float32Array","u_flipY","u_applyTransform","u_opacity","u_transformSpacing","u_transformGridSize","u_targetImageSize","u_srcImageSize","u_colormapOffset","u_colormapMaxIndex","u_scale","u_offset","u_bandCount","u_minOutput","u_maxOutput","u_minCutOff","u_maxCutOff","u_factor","u_useGamma","u_gamma","u_gammaCorrection","A","u_hillshadeType","hillshadeType","u_sinZcosAs","sinZcosAs","u_sinZsinAs","sinZsinAs","u_cosZs","cosZs","u_weights","weights","u_minValue","minValue","u_maxValue","maxValue","T","gl","glName","Map","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","set","location","getUniformLocation","info","Object","keys","get","setUniform1fv","setUniform1f","FLOAT_VEC2","setUniform2fv","FLOAT_VEC3","setUniform3fv","FLOAT_VEC4","setUniform4fv","FLOAT_MAT3","setUniformMatrix3fv","FLOAT_MAT4","setUniformMatrix4fv","INT","setUniform1iv","setUniform1i","BOOL","INT_VEC2","BOOL_VEC2","setUniform2iv","INT_VEC3","BOOL_VEC3","setUniform3iv","INT_VEC4","BOOL_VEC4","setUniform4iv","E","O","bindTexture"],"sourceRoot":""}