{"version":3,"file":"static/js/5678.8c579e8f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/StreamLayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/layers/graphics/controllers/StreamController.js","../node_modules/@arcgis/core/views/3d/layers/graphics/StreamGraphics3DGraphicsPipeline.js","../node_modules/@arcgis/core/views/3d/layers/StreamLayerView3D.js","../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../layers/support/FeatureFilter.js\";const r=r=>{let i=class extends r{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}disconnect(){this._doDisconnect()}connect(){this._doConnect()}clear(){this._doClear()}constructor(...s){super(...s),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return(this._isUserPaused||this.suspended)&&\"connected\"===this._streamConnectionStatus?\"paused\":this._streamConnectionStatus}_onSuspendedChange(s){s?this._doPause():this._isUserPaused||this._doResume()}};return s([e()],i.prototype,\"_isUserPaused\",void 0),s([e({readOnly:!0})],i.prototype,\"connectionStatus\",null),s([e({type:o})],i.prototype,\"filter\",void 0),i=s([t(\"esri.views.layers.StreamLayerView\")],i),i};export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../TimeExtent.js\";import{isSome as e}from\"../core/arrayUtils.js\";import{deprecatedFunction as n}from\"../core/deprecate.js\";import{clone as i}from\"../core/lang.js\";import r from\"../core/Logger.js\";import{offsetDate as s}from\"../core/timeUtils.js\";import{isWebMap as l}from\"../webmap/utils.js\";import{isWebScene as o}from\"../webscene/utils.js\";function m(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??f(t.allLayers,e)}function a(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function c(t){const{numStops:e,stopInterval:n,stops:r}=t;return r?{dates:i(r)}:n?{interval:n.clone()}:{count:e??5}}async function f(n,i){if(0===n.length)return t.allTime;await Promise.all(n.map((t=>t.load({signal:i}))));const r=n.filter(m),s=n.filter((t=>!m(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===s.length)return t.allTime;const l=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):l.push(t);const u=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...s.map((t=>t.visibilityTimeExtent))];if(a.some(u))return t.allTime;const c=l.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:i}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),f=(await Promise.allSettled(c)).map((t=>\"fulfilled\"===t.status?t.value:null));if(f.some(u))return t.allTime;const p=[...f,...a].filter(e);if(0===p.length)return t.allTime;return p.reduce(((t,e)=>t.union(e)))}function p(e,n){const i=e.currentTimeExtent;if(!i)return null;const{start:r,end:s}=i,l=r??s??null;switch(n){case\"time-window\":return new t({start:r,end:s});case\"cumulative-from-start\":return new t({start:null,end:l});case\"cumulative-from-end\":return new t({start:l,end:null});case\"instant\":return new t({start:l,end:l})}}async function d(t,e){return n(r.getLogger(\"esri.support.timeUtils.getTimeSliderSettingsFromWebMap\"),\"`timeUtils.getTimeSliderSettingsFromWebMap` is deprecated in favor of 'timeUtils.getTimeSliderSettingsFromWebDocument'\",{replacement:\"timeUtils.getTimeSliderSettingsFromWebDocument\",version:\"4.30\",see:\"https://developers.arcgis.com/javascript/latest/api-reference/esri-support-timeUtils.html#getTimeSliderSettingsFromWebDocument\",warnOnce:!0}),null!=t&&l(t)?await g(t,e):null}async function g(t,e){if(!l(t)&&!o(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),r=n.loop,s=a(n);return{fullTimeExtent:i,loop:r,mode:s,playRate:n.stopDelay??2e3,stops:c(n),timeExtent:p(n,s)}}function T(e){if(!e)return e;const{start:n,end:i}=e;return new t({start:null!=n?s(n,-n.getTimezoneOffset(),\"minutes\"):n,end:null!=i?s(i,-i.getTimezoneOffset(),\"minutes\"):i})}function w(e){if(!e)return e;const{start:n,end:i}=e;return new t({start:null!=n?s(n,n.getTimezoneOffset(),\"minutes\"):n,end:null!=i?s(i,i.getTimezoneOffset(),\"minutes\"):i})}export{f as getTimeExtentFromLayers,g as getTimeSliderSettingsFromWebDocument,d as getTimeSliderSettingsFromWebMap,w as toLocalTimeExtent,T as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{watch as i}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamFeatureManager as c}from\"../data/StreamFeatureManager.js\";import{createConnection as h}from\"../sources/connections/createConnection.js\";import{EventedSet as d}from\"../../../views/3d/support/EventedSet.js\";import{featureGeometryTypeKebabDictionary as l}from\"../../../geometry/support/typeUtils.js\";const p=2500;let u=class extends t{constructor(e){super(e)}getObjectId(){return this.objectId}};e([a({type:Number,json:{read:!0}})],u.prototype,\"objectId\",void 0),u=e([n(\"esri.layers.graphics.controllers.StreamController.StreamGraphic\")],u);class m{constructor(e){this.onUpdate=e,this._idToGraphic=new Map}destroy(){this._idToGraphic.clear()}add(e){this._idToGraphic.set(e.objectId,e)}get(e){return this._idToGraphic.get(e)}forEach(e){this._idToGraphic.forEach(e)}removeById(e){const t=this._idToGraphic.get(e);return t?(t.sourceLayer=t.layer=null,this._idToGraphic.delete(e),t):null}update(e,t){this.onUpdate(e,t)}get size(){return this._idToGraphic.size}}let y=class extends(o(s)){constructor(){super(...arguments),this.isPaused=!1,this.graphics=new d,this._updateInfo={websocket:0,client:0},this._updateIntervalId=null,this._outSpatialReference=null}initialize(){this.addResolvingPromise(this.layer.when((()=>this._startup())))}destroy(){this.clear()}_clearInterval(){null!==this._updateIntervalId&&(clearInterval(this._updateIntervalId),this._updateIntervalId=null)}clear(){this._shutdown(),this.graphics.clear()}get updating(){return!this.connection||\"connected\"===this.connection.connectionStatus}_shutdown(){this._clearInterval(),this.connection=r(this.connection),this.store=r(this.store),this.removeAllHandles()}_startup(){const{layer:e,layerView:t}=this,{spatialReference:s,definitionExpression:r,geometryDefinition:o,objectIdField:a,timeInfo:n,purgeOptions:d,maxReconnectionAttempts:p,maxReconnectionInterval:u,customParameters:y}=e,f=e.geometryType?l.toJSON(e.geometryType):null,g=s,_=t.view.spatialReference;this.clear(),this._set(\"connection\",h(e.parsedUrl,g,_,f,r,o,p,u,y??void 0)),this._outSpatialReference=_.toJSON(),this.store=new m(this._onUpdate.bind(this)),this.featuresManager=new c(this.store,a,n.toJSON(),d);const I=\"startup-watches\";this.removeHandles(I),this.addHandles([e.on(\"send-message-to-socket\",(e=>this.connection.sendMessageToSocket(e))),e.on(\"send-message-to-client\",(e=>this.connection.sendMessageToClient(e))),this.connection.on(\"data-received\",(e=>this._onFeature(e))),this.connection.on(\"message-received\",(e=>this._onWebSocketMessage(e))),i((()=>[e.definitionExpression,e.geometryDefinition,e.purgeOptions]),(()=>this._startup()))],I),this.isPaused||this._initUpdateInterval()}_onWebSocketMessage(e){if(this.layerView.emit(\"message-received\",e),\"type\"in e)switch(e.type){case\"delete\":if(e.objectIds)for(const t of e.objectIds)this.featuresManager.removeById(t);if(e.trackIds)for(const t of e.trackIds)this.featuresManager.removeByTrackId(t);break;case\"clear\":this.store.forEach((e=>this.featuresManager.removeById(e.objectId)))}}_onFeature(e){this._updateInfo.websocket++,this.layerView.hasEventListener(\"data-received\")&&this.layerView.emit(\"data-received\",{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry});try{null==e.geometry||e.geometry.spatialReference||(e.geometry.spatialReference=this._outSpatialReference);const t=u.fromJSON(e);t.sourceLayer=t.layer=this.layer,this.featuresManager.add(t)}catch{}}_onUpdate(e,t){null!=t&&this.graphics.removeMany(t),null!=e&&(this._updateInfo.client+=e.length,this.graphics.addMany(e))}_initUpdateInterval(){this._clearInterval();const{updateInterval:e}=this.layer;let t=performance.now();this._updateIntervalId=setInterval((()=>{const e=performance.now(),s=e-t;if(s>p){t=e;const r=Math.round(this._updateInfo.client/(s/1e3)),o=Math.round(this._updateInfo.websocket/(s/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.layerView.emit(\"update-rate\",{client:r,websocket:o})}this.featuresManager.checkForUpdates()}),e)}pauseStream(){this.isPaused=!0,this._clearInterval()}resumeStream(){this.isPaused=!1,this._initUpdateInterval()}disconnect(){this._shutdown()}connect(){null==this.connection&&this._startup()}clearGraphics(){this.graphics.clear()}};e([a()],y.prototype,\"isPaused\",void 0),e([a({constructOnly:!0})],y.prototype,\"layer\",void 0),e([a({constructOnly:!0})],y.prototype,\"layerView\",void 0),e([a()],y.prototype,\"connection\",void 0),e([a({readOnly:!0})],y.prototype,\"updating\",null),y=e([n(\"esri.layers.graphics.controllers.StreamController\")],y);export{y as StreamController,u as StreamGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{StreamController as t}from\"../../../../layers/graphics/controllers/StreamController.js\";import{Graphics3DGraphicsPipeline as s}from\"./Graphics3DGraphicsPipeline.js\";let c=class extends s{constructor(r){super(r),this.suspendResumeExtentMode=\"computed\"}get connection(){return this.controller?.connection}createController(){return new t({layer:this.layer,layerView:this.layerView})}beforeSetController(){}pause(){this.controller?.pauseStream()}resume(){this.controller?.resumeStream()}disconnect(){this.controller?.disconnect()}connect(){this.controller?.connect()}clear(){this.controller?.clearGraphics()}};r([e()],c.prototype,\"controller\",void 0),r([e()],c.prototype,\"connection\",null),r([e()],c.prototype,\"suspendResumeExtentMode\",void 0),c=r([o(\"esri.views.3d.layers.graphics.StreamGraphics3DGraphicsPipeline\")],c);export{c as StreamGraphics3DGraphicsPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{StreamController as s}from\"../../../layers/graphics/controllers/StreamController.js\";import n from\"../../../rest/support/Query.js\";import{FeatureLikeLayerView3D as a}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{StreamGraphics3DGraphicsPipeline as c}from\"./graphics/StreamGraphics3DGraphicsPipeline.js\";import{UpdatePolicy as l}from\"../webgl-engine/lib/UpdatePolicy.js\";import h from\"../../layers/LayerView.js\";import m from\"../../layers/StreamLayerView.js\";let u=class extends(m(a(p(h)))){constructor(){super(...arguments),this.type=\"stream-3d\",this.updatePolicy=l.ASYNC,this.hasZ=!0,this.hasM=!1}initialize(){this.addHandles(t((()=>this.suspended),(e=>{this.graphicsPipeline&&this._onSuspendedChange(e)})))}get connectionError(){const e=this.graphicsPipeline?.connection?.errorString;return e?new r(\"stream-controller\",e):null}createQuery(){return new n({outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(e,r){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(e),r?.signal)}get _streamConnectionStatus(){return this.graphicsPipeline?.connection?.connectionStatus??\"disconnected\"}createGraphicsPipeline(){return new c({layerView:this})}createController(){return new s({layer:this.layer,layerView:this})}beforeSetController(){}_doPause(){this.graphicsPipeline?.pause()}_doResume(){this.graphicsPipeline?.resume()}_doDisconnect(){this.graphicsPipeline?.disconnect(),this._doPause()}_doConnect(){this.graphicsPipeline?.connect(),this.resume()}_doClear(){this.graphicsPipeline?.clear()}};e([i({readOnly:!0})],u.prototype,\"updatePolicy\",void 0),e([i({readOnly:!0})],u.prototype,\"connectionError\",null),e([i()],u.prototype,\"graphicsPipeline\",void 0),e([i({readOnly:!0})],u.prototype,\"hasZ\",void 0),e([i({readOnly:!0})],u.prototype,\"hasM\",void 0),e([i({readOnly:!0})],u.prototype,\"_streamConnectionStatus\",null),u=e([o(\"esri.views.3d.layers.StreamLayerView3D\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}peekLast(){return 0===this.size?null:this._buffer[(this._start+(this.size-1))%this.maxSize]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["r","i","resume","this","_isUserPaused","suspended","_doResume","pause","_doPause","disconnect","_doDisconnect","connect","_doConnect","clear","_doClear","constructor","super","arguments","filter","connectionStatus","_streamConnectionStatus","_onSuspendedChange","s","e","prototype","readOnly","type","o","t","async","n","p","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","d","typeIdField","globalIdField","relationships","a","includes","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","timeInfo","datesInUnknownTimezone","timeOffset","useViewTime","m","timeExtent","start","end","getTimezoneOffset","intersection","isEmpty","isAllTime","offset","value","unit","equals","getObjectId","objectId","Number","json","read","onUpdate","_idToGraphic","Map","destroy","add","set","get","removeById","sourceLayer","layer","delete","update","size","y","isPaused","graphics","_updateInfo","websocket","client","_updateIntervalId","_outSpatialReference","initialize","addResolvingPromise","when","_startup","_clearInterval","clearInterval","_shutdown","updating","connection","store","removeAllHandles","layerView","spatialReference","definitionExpression","geometryDefinition","purgeOptions","maxReconnectionAttempts","maxReconnectionInterval","customParameters","geometryType","toJSON","g","_","view","_set","h","parsedUrl","_onUpdate","bind","featuresManager","c","I","removeHandles","addHandles","on","sendMessageToSocket","sendMessageToClient","_onFeature","_onWebSocketMessage","_initUpdateInterval","emit","objectIds","trackIds","removeByTrackId","hasEventListener","attributes","centroid","geometry","fromJSON","removeMany","addMany","updateInterval","performance","now","setInterval","Math","round","checkForUpdates","pauseStream","resumeStream","clearGraphics","constructOnly","suspendResumeExtentMode","controller","createController","beforeSetController","updatePolicy","ASYNC","hasZ","hasM","graphicsPipeline","connectionError","errorString","createQuery","outFields","returnGeometry","outSpatialReference","queryLatestObservations","queryEngine","executeQueryForLatestObservations","_ensureQuery","signal","createGraphicsPipeline","_start","maxSize","_buffer","Array","entries","enqueue","dequeue","peek","peekLast","find","EventedMixin","_updatingHandles","parent","catch","name","id","title","getLogger","error","fullOpacity","opacity","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","isUpdating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","visibilityTimeExtent","effectiveScaleRange","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","Boolean"],"sourceRoot":""}