"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[6523],{28874:(e,n,_)=>{_.d(n,{A:()=>X});var Z=_(80671),A=_(40530),J=_(83375),Y=_(57453),Q=(_(50886),_(89412),_(76761),_(99825)),R=_(68682);const H=new A.J({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),K=new A.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let W=class extends J.oY{constructor(e){super(e),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};(0,Z._)([(0,Q.e)({classBreaksDef:"class-breaks-definition"})],W.prototype,"type",void 0),(0,Z._)([(0,Y.MZ)({json:{write:!0}})],W.prototype,"breakCount",void 0),(0,Z._)([(0,Y.MZ)({json:{write:!0}})],W.prototype,"classificationField",void 0),(0,Z._)([(0,Y.MZ)({type:String,json:{read:H.read,write:H.write}})],W.prototype,"classificationMethod",void 0),(0,Z._)([(0,Y.MZ)({json:{write:!0}})],W.prototype,"normalizationField",void 0),(0,Z._)([(0,Y.MZ)({json:{read:K.read,write:K.write}})],W.prototype,"normalizationType",void 0),(0,Z._)([(0,Y.MZ)({value:null,json:{write:!0}})],W.prototype,"standardDeviationInterval",null),(0,Z._)([(0,Y.MZ)({value:null,json:{write:!0}})],W.prototype,"definedInterval",null),W=(0,Z._)([(0,R.$)("esri.rest.support.ClassBreaksDefinition")],W);const X=W},16482:(e,n,_)=>{_.d(n,{t:()=>a});var Z=_(89412);const t=()=>Z.A.getLogger("esri.rest.support.generateRendererUtils");function l(e,n){return Number(e.toFixed(n))}function a(e){const{normalizationTotal:n}=e;return{classBreaks:u(e),normalizationTotal:n}}function u(e){var n;const _=e.definition,{classificationMethod:Z,normalizationType:A,definedInterval:J}=_,Y=null!==(n=_.breakCount)&&void 0!==n?n:1,Q=[];let R=e.values;if(0===R.length)return[];R=R.sort(((e,n)=>e-n));const H=R[0],K=R[R.length-1];if("equal-interval"===Z)if(R.length>=Y){const e=(K-H)/Y;let n=H;for(let _=1;_<Y;_++){const Z=l(H+_*e,6);Q.push({minValue:n,maxValue:Z,label:s(n,Z,A)}),n=Z}Q.push({minValue:n,maxValue:K,label:s(n,K,A)})}else R.forEach((e=>{Q.push({minValue:e,maxValue:e,label:s(e,e,A)})}));else if("natural-breaks"===Z){const n=o(R),_=e.valueFrequency||n.valueFrequency,Z=r(n.uniqueValues,_,Y);let J=H;for(let e=1;e<Y;e++)if(n.uniqueValues.length>e){const _=l(n.uniqueValues[Z[e]],6);Q.push({minValue:J,maxValue:_,label:s(J,_,A)}),J=_}Q.push({minValue:J,maxValue:K,label:s(J,K,A)})}else if("quantile"===Z)if(R.length>=Y&&H!==K){let e=H,n=Math.ceil(R.length/Y),_=0;for(let Z=1;Z<Y;Z++){let J=n+_-1;J>R.length&&(J=R.length-1),J<0&&(J=0),Q.push({minValue:e,maxValue:R[J],label:s(e,R[J],A)}),e=R[J],_+=n,n=Math.ceil((R.length-_)/(Y-Z))}Q.push({minValue:e,maxValue:K,label:s(e,K,A)})}else{let e=-1;for(let n=0;n<R.length;n++){const _=R[n];_!==e&&(e=_,Q.push({minValue:e,maxValue:_,label:s(e,_,A)}),e=_)}}else if("standard-deviation"===Z){const e=function h(e){let n=0;for(let _=0;_<e.length;_++)n+=e[_];return n/=e.length,n}(R),n=function m(e,n){let _=0;for(let Z=0;Z<e.length;Z++){const A=e[Z];_+=(A-n)*(A-n)}return _/=e.length,Math.sqrt(_)}(R,e);if(0===n)Q.push({minValue:R[0],maxValue:R[0],label:s(R[0],R[0],A)});else{const _=function f(e,n,_,Z,A){let J=Math.max(Z-e,n-Z)/A/_;return J=J>=1?1:J>=.5?.5:.25,J}(H,K,Y,e,n)*n;let Z=0,J=H;for(let n=Y;n>=1;n--){const Y=l(e-(n-.5)*_,6);Q.push({minValue:J,maxValue:Y,label:s(J,Y,A)}),J=Y,Z++}let R=l(e+.5*_,6);Q.push({minValue:J,maxValue:R,label:s(J,R,A)}),J=R,Z++;for(let n=1;n<=Y;n++)R=Z===2*Y?K:l(e+(n+.5)*_,6),Q.push({minValue:J,maxValue:R,label:s(J,R,A)}),J=R,Z++}}else if("defined-interval"===Z){if(!J)return Q;const e=R[0],n=R[R.length-1],_=Math.ceil((n-e)/J);let Z=e;for(let Y=1;Y<_;Y++){const n=l(e+Y*J,6);Q.push({minValue:Z,maxValue:n,label:s(Z,n,A)}),Z=n}Q.push({minValue:Z,maxValue:n,label:s(Z,n,A)})}return Q}function s(e,n,_){let Z=null;return Z=e===n?_&&"percent-of-total"===_?e+"%":e.toString():_&&"percent-of-total"===_?e+"% - "+n+"%":e+" - "+n,Z}function o(e){const n=[],_=[];let Z=Number.MIN_VALUE,A=1,J=-1;for(let Y=0;Y<e.length;Y++){const Q=e[Y];Q===Z?(A++,_[J]=A):null!==Q&&(n.push(Q),Z=Q,A=1,_.push(A),J++)}return{uniqueValues:n,valueFrequency:_}}function r(e,n,_){const Z=e.length,A=[];_>Z&&(_=Z);for(let Y=0;Y<_;Y++)A.push(Math.round(Y*Z/_-1));A.push(Z-1);let J=i(A,e,n,_);return function c(e,n,_,Z,A,J){let Y=0,Q=0,R=0,H=0,K=!0;for(let W=0;W<2&&K;W++){0===W&&(K=!1);for(let W=0;W<J-1;W++)for(;_[W+1]+1!==_[W+2];){_[W+1]=_[W+1]+1;const J=b(W,_,Z,A);R=J.sbMean,Y=J.sbSdcm;const X=b(W+1,_,Z,A);if(H=X.sbMean,Q=X.sbSdcm,!(Y+Q<n[W]+n[W+1])){_[W+1]=_[W+1]-1;break}n[W]=Y,n[W+1]=Q,e[W]=R,e[W+1]=H,K=!0}for(let W=J-1;W>0;W--)for(;_[W]!==_[W-1]+1;){_[W]=_[W]-1;const J=b(W-1,_,Z,A);R=J.sbMean,Y=J.sbSdcm;const X=b(W,_,Z,A);if(H=X.sbMean,Q=X.sbSdcm,!(Y+Q<n[W-1]+n[W])){_[W]=_[W]+1;break}n[W-1]=Y,n[W]=Q,e[W-1]=R,e[W]=H,K=!0}}return K}(J.mean,J.sdcm,A,e,n,_)&&(J=i(A,e,n,_)),A}function i(e,n,_,Z){let A=[],J=[],Y=[],Q=0;const R=[],H=[];for(let ee=0;ee<Z;ee++){const Z=b(ee,e,n,_);R.push(Z.sbMean),H.push(Z.sbSdcm),Q+=H[ee]}let K,W=Q,X=!0;for(;X||Q<W;){X=!1,A=[];for(let n=0;n<Z;n++)A.push(e[n]);for(let _=0;_<Z;_++)for(let A=e[_]+1;A<=e[_+1];A++)if(K=n[A],_>0&&A!==e[_+1]&&Math.abs(K-R[_])>Math.abs(K-R[_-1]))e[_]=A;else if(_<Z-1&&e[_]!==A-1&&Math.abs(K-R[_])>Math.abs(K-R[_+1])){e[_+1]=A-1;break}W=Q,Q=0,J=[],Y=[];for(let A=0;A<Z;A++){J.push(R[A]),Y.push(H[A]);const Z=b(A,e,n,_);R[A]=Z.sbMean,H[A]=Z.sbSdcm,Q+=H[A]}}if(Q>W){for(let n=0;n<Z;n++)e[n]=A[n],R[n]=J[n],H[n]=Y[n];Q=W}return{mean:R,sdcm:H}}function b(e,n,_,Z){let A=0,J=0;for(let R=n[e]+1;R<=n[e+1];R++){const e=Z[R];A+=_[R]*e,J+=e}J<=0&&t().warn("Exception in Natural Breaks calculation");const Y=A/J;let Q=0;for(let R=n[e]+1;R<=n[e+1];R++)Q+=Z[R]*(_[R]-Y)**2;return{sbMean:Y,sbSdcm:Q}}},86523:(e,n,_)=>{_.d(n,{$y:()=>U,FM:()=>T,G_:()=>p,Rw:()=>E,Vb:()=>f,b3:()=>k,gJ:()=>c,jM:()=>P,lv:()=>$,oZ:()=>C,qg:()=>v,z9:()=>d,zS:()=>B});var Z=_(28874),A=_(16482);const J="<Null>",Y="equal-interval",Q=1,R=5,H=10,K=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,W=new Set(["esriFieldTypeDate","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeOID","esriFieldTypeBigInteger"]),X=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),ee=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function c(e){return null==e||"string"==typeof e&&!e?J:e}function f(e){const n=null!=e.normalizationField||null!=e.normalizationType,_=null!=e.minValue||null!=e.maxValue,Z=!!e.sqlExpression&&e.supportsSQLExpression;return!n&&!_&&!Z}function d(e){const n=e.returnDistinct?[...new Set(e.values)]:e.values,_=n.filter((e=>null!=e)).sort(),Z=_.length,A={count:Z,min:_[0],max:_[Z-1]};return e.supportsNullCount&&(A.nullcount=n.length-Z),e.percentileParams&&(A.median=v(n,e.percentileParams)),A}function p(e){const{values:n,useSampleStdDev:_,supportsNullCount:Z}=e;let A=Number.POSITIVE_INFINITY,J=Number.NEGATIVE_INFINITY,Y=null,Q=null,R=null,H=null,K=0;const W=null==e.minValue?-1/0:e.minValue,X=null==e.maxValue?1/0:e.maxValue;for(const ne of n)Number.isFinite(ne)?ne>=W&&ne<=X&&(Y=null===Y?ne:Y+ne,A=Math.min(A,ne),J=Math.max(J,ne),K++):"string"==typeof ne&&K++;if(K&&null!=Y){Q=Y/K;let e=0;for(const _ of n)Number.isFinite(_)&&_>=W&&_<=X&&(e+=(_-Q)**2);H=_?K>1?e/(K-1):0:K>0?e/K:0,R=Math.sqrt(H)}else A=null,J=null;const ee={avg:Q,count:K,max:J,min:A,stddev:R,sum:Y,variance:H};return Z&&(ee.nullcount=n.length-K),e.percentileParams&&(ee.median=v(n,e.percentileParams)),ee}function v(e,n){const{fieldType:_,value:Z,orderBy:A,isDiscrete:J}=n,Y=T(_,"desc"===A);if(0===(e=[...e].filter((e=>null!=e)).sort(((e,n)=>Y(e,n)))).length)return null;if(Z<=0)return e[0];if(Z>=1)return e[e.length-1];const Q=(e.length-1)*Z,R=Math.floor(Q),H=R+1,K=Q%1,W=e[R],X=e[H];return H>=e.length||J||"string"==typeof W||"string"==typeof X?W:W*(1-K)+X*K}function T(e,n){if(e){if(W.has(e))return S(n);if(X.has(e))return z(n,!1);if("esriFieldTypeTimestampOffset"===e)return function x(e){return e?y:b}(n);const _=z(n,!0);if("esriFieldTypeString"===e)return _;if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e)return(e,n)=>_(M(e),M(n))}const _=n?1:-1,Z=S(n),A=z(n,!0);return(e,n)=>"number"==typeof e&&"number"==typeof n?Z(e,n):"string"==typeof e&&"string"==typeof n?A(e,n):_}const g=(e,n)=>null==e?null==n?0:1:null==n?-1:null,h=(e,n)=>null==e?null==n?0:-1:null==n?1:null;const b=(e,n)=>{var _;return null!==(_=h(e,n))&&void 0!==_?_:e===n?0:new Date(e).getTime()-new Date(n).getTime()},y=(e,n)=>{var _;return null!==(_=g(e,n))&&void 0!==_?_:e===n?0:new Date(n).getTime()-new Date(e).getTime()};const F=(e,n)=>{var _;return null!==(_=h(e,n))&&void 0!==_?_:e===n?0:e<n?-1:1},D=(e,n)=>{var _;return null!==(_=g(e,n))&&void 0!==_?_:e===n?0:e<n?1:-1};function z(e,n){if(!n)return e?D:F;const _=function V(e){return e?g:h}(e);return e?(e,n)=>{const Z=_(e,n);return null!=Z?Z:(e=e.toUpperCase())>(n=n.toUpperCase())?-1:e<n?1:0}:(e,n)=>{const Z=_(e,n);return null!=Z?Z:(e=e.toUpperCase())<(n=n.toUpperCase())?-1:e>n?1:0}}const I=(e,n)=>{var _;return null!==(_=g(e,n))&&void 0!==_?_:n-e},N=(e,n)=>{var _;return null!==(_=h(e,n))&&void 0!==_?_:e-n};function S(e){return e?I:N}function M(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function C(e,n){let _;for(_ in e)ee.includes(_)&&(Number.isFinite(e[_])||(e[_]=null));return n?(["avg","stddev","variance"].forEach((n=>{var _;null!=e[n]&&(e[n]=Math.ceil(null!==(_=e[n])&&void 0!==_?_:0))})),e):e}function k(e){const n={};for(let _ of e)(null==_||"string"==typeof _&&""===_.trim())&&(_=null),null==n[_]?n[_]={count:1,data:_}:n[_].count++;return{count:n}}function w(e){return"coded-value"!==(null===e||void 0===e?void 0:e.type)?[]:e.codedValues.map((e=>e.code))}function $(e,n,_,Z){const A=e.count,J=[];if(_&&n){const e=[],_=w(n[0]);for(const A of _)if(n[1]){const _=w(n[1]);for(const J of _)if(n[2]){const _=w(n[2]);for(const n of _)e.push("".concat(c(A)).concat(Z).concat(c(J)).concat(Z).concat(c(n)))}else e.push("".concat(c(A)).concat(Z).concat(c(J)))}else e.push(A);for(const n of e)A.hasOwnProperty(n)||(A[n]={data:n,count:0})}for(const Y in A){const e=A[Y];J.push({value:e.data,count:e.count,label:e.label})}return{uniqueValueInfos:J}}function B(e,n,_,Z){let A=null;switch(n){case"log":0!==e&&(A=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(Z)&&0!==Z&&(A=e/Z*100);break;case"field":Number.isFinite(_)&&0!==_&&(A=e/_);break;case"natural-log":e>0&&(A=Math.log(e));break;case"square-root":e>0&&(A=e**.5)}return A}function E(e,n){const _=q({field:n.field,normalizationType:n.normalizationType,normalizationField:n.normalizationField,classificationMethod:n.classificationMethod,standardDeviationInterval:n.standardDeviationInterval,breakCount:n.numClasses||R});return e=function O(e,n,_){const Z=null!==n&&void 0!==n?n:-1/0,A=null!==_&&void 0!==_?_:1/0;return e.filter((e=>Number.isFinite(e)&&e>=Z&&e<=A))}(e,n.minValue,n.maxValue),(0,A.t)({definition:_,values:e,normalizationTotal:n.normalizationTotal})}function q(e){const{breakCount:n,field:_,normalizationField:A,normalizationType:J}=e,R=e.classificationMethod||Y,H="standard-deviation"===R?e.standardDeviationInterval||Q:void 0;return new Z.A({breakCount:n,classificationField:_,classificationMethod:R,normalizationField:"field"===J?A:void 0,normalizationType:J,standardDeviationInterval:H})}function P(e,n){var _,Z;let A=e.classBreaks;const J=A.length,Y=null===(_=A[0])||void 0===_?void 0:_.minValue,Q=null===(Z=A[J-1])||void 0===Z?void 0:Z.maxValue,R="standard-deviation"===n,H=K;return A=A.map((e=>{const n=e.label,_={minValue:e.minValue,maxValue:e.maxValue,label:n};if(R&&n){var Z;const e=n.match(H),A=null!==(Z=null===e||void 0===e?void 0:e.map((e=>+e.trim())))&&void 0!==Z?Z:[];2===A.length?(_.minStdDev=A[0],_.maxStdDev=A[1],A[0]<0&&A[1]>0&&(_.hasAvg=!0)):1===A.length&&(n.includes("<")?(_.minStdDev=null,_.maxStdDev=A[0]):n.includes(">")&&(_.minStdDev=A[0],_.maxStdDev=null))}return _})),{minValue:Y,maxValue:Q,classBreakInfos:A,normalizationTotal:e.normalizationTotal}}function U(e,n){var _,Z;const A=G(e,n);if(null==A.min&&null==A.max)return{bins:[],minValue:A.min,maxValue:A.max,normalizationTotal:n.normalizationTotal};const J=A.intervals,Y=null!==(_=A.min)&&void 0!==_?_:0,Q=null!==(Z=A.max)&&void 0!==Z?Z:0,R=J.map(((e,n)=>({minValue:J[n][0],maxValue:J[n][1],count:0})));for(const H of e)if(null!=H&&H>=Y&&H<=Q){const e=L(J,H);e>-1&&R[e].count++}return{bins:R,minValue:Y,maxValue:Q,normalizationTotal:n.normalizationTotal}}function G(e,n){const{field:_,classificationMethod:Z,standardDeviationInterval:A,normalizationType:J,normalizationField:Y,normalizationTotal:Q,minValue:R,maxValue:K}=n,W=n.numBins||H;let X=null,ee=null,ne=null;if(Z&&"equal-interval"!==Z||J){const{classBreaks:n}=E(e,{field:_,normalizationType:J,normalizationField:Y,normalizationTotal:Q,classificationMethod:Z,standardDeviationInterval:A,minValue:R,maxValue:K,numClasses:W});X=n[0].minValue,ee=n[n.length-1].maxValue,ne=n.map((e=>[e.minValue,e.maxValue]))}else{var te,le;if(null!=R&&null!=K)X=R,ee=K;else{var ae,ie;const n=p({values:e,minValue:R,maxValue:K,useSampleStdDev:!J,supportsNullCount:f({normalizationType:J,normalizationField:Y,minValue:R,maxValue:K})});X=null!==(ae=n.min)&&void 0!==ae?ae:null,ee=null!==(ie=n.max)&&void 0!==ie?ie:null}ne=function j(e,n,_){const Z=(n-e)/_,A=[];let J,Y=e;for(let Q=1;Q<=_;Q++)J=Y+Z,J=Number(J.toFixed(16)),A.push([Y,Q===_?n:J]),Y=J;return A}(null!==(te=X)&&void 0!==te?te:0,null!==(le=ee)&&void 0!==le?le:0,W)}return{min:X,max:ee,intervals:ne}}function L(e,n){let _=-1;for(let Z=e.length-1;Z>=0;Z--)if(n>=e[Z][0]){_=Z;break}return _}}}]);
//# sourceMappingURL=6523.6596d1f7.chunk.js.map