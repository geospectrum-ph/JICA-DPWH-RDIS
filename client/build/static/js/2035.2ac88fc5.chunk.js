"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[2035,1230,1322],{98878:(p,v,b)=>{b.d(v,{p:()=>i});var g=b(80671),S=b(57453),_=(b(50886),b(89412),b(76761),b(68682));const i=p=>{let v=class extends p{get apiKey(){var p;return this._isOverridden("apiKey")?this._get("apiKey"):function s(p){return"portalItem"in p}(this)?null===(p=this.portalItem)||void 0===p?void 0:p.apiKey:null}set apiKey(p){null!=p?this._override("apiKey",p):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,g._)([(0,S.MZ)({type:String})],v.prototype,"apiKey",null),v=(0,g._)([(0,_.$)("esri.layers.mixins.APIKeyMixin")],v),v}},80048:(p,v,b)=>{b.d(v,{V:()=>f});var g=b(80671),S=b(53705),_=b(69719),I=b(81618),w=b(4270),A=b(72722),E=b(57453),M=(b(50886),b(89412),b(76761),b(59299)),x=b(68682),L=b(57532),j=b(84661),O=b(98664),T=b(26128),F=b(32277),D=b(67177);const f=p=>{let v=class extends p{constructor(){super(...arguments),this.capabilities=void 0,this.copyright=null,this.fullExtent=null,this.legendEnabled=!0,this.spatialReference=null,this.version=void 0,this._allLayersAndTablesMap=null}readCapabilities(p,v){var b,g;const S=v.capabilities&&v.capabilities.split(",").map((p=>p.toLowerCase().trim()));if(!S)return{operations:{supportsExportMap:!1,supportsExportTiles:!1,supportsIdentify:!1,supportsQuery:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};const _=this.type,I="tile"!==_&&!!v.supportsDynamicLayers,w=S.includes("query"),E=S.includes("map"),M=!!v.exportTilesAllowed,x=S.includes("tilemap"),L=S.includes("data"),j="tile"!==_&&(!v.tileInfo||I),O="tile"!==_&&(!v.tileInfo||I),T="tile"!==_,F=v.cimVersion&&A.R.parse(v.cimVersion),D=null!==(b=null===F||void 0===F?void 0:F.since(1,4))&&void 0!==b&&b,U=null!==(g=null===F||void 0===F?void 0:F.since(2,0))&&void 0!==g&&g;return{operations:{supportsExportMap:E,supportsExportTiles:M,supportsIdentify:w,supportsQuery:L,supportsTileMap:x},exportMap:E?{supportsArcadeExpressionForLabeling:D,supportsSublayersChanges:T,supportsDynamicLayers:I,supportsSublayerVisibility:j,supportsSublayerDefinitionExpression:O,supportsCIMSymbols:U}:null,exportTiles:M?{maxExportTilesCount:+v.maxExportTilesCount}:null}}readVersion(p,v){let b=v.currentVersion;return b||(b=v.hasOwnProperty("capabilities")||v.hasOwnProperty("tables")?10:v.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),b}async fetchRelatedService(p){const v=this.portalItem;if(!v||!(0,D.bK)(v))return null;this._relatedFeatureServicePromise||(this._relatedFeatureServicePromise=v.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},p).then((p=>{var v;return null!==(v=p.find((p=>"Feature Service"===p.type)))&&void 0!==v?v:null}),(()=>null)));const b=await this._relatedFeatureServicePromise;return(0,I.Te)(p),b?{itemId:b.id,url:b.url}:null}async fetchSublayerInfo(p,v){const{source:b}=p;if(null!==this&&void 0!==this&&this.portalItem&&"tile"===this.type&&"map-layer"===(null===b||void 0===b?void 0:b.type)&&(0,D.bK)(this.portalItem)&&p.originIdOf("url")<L.Gr.SERVICE){const g=await this.fetchRelatedService(v);g&&(p.url=(0,w.fj)(g.url,b.mapLayerId.toString()),p.layerItemId=g.itemId)}const{url:g}=p;let _;if("data-layer"===b.type)_=(await(0,S.A)(g,{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey},...v})).data;else if(g&&p.originIdOf("url")>L.Gr.SERVICE)try{var I,A;const p=await this._fetchAllLayersAndTablesFromService(g),v=null!==(I=null===(A=(0,T.qg)(g))||void 0===A?void 0:A.sublayer)&&void 0!==I?I:b.mapLayerId;_=p.get(v)}catch{}else{let g=p.id;"map-layer"===(null===b||void 0===b?void 0:b.type)&&(g=b.mapLayerId);try{_=(await this.fetchAllLayersAndTables(v)).get(g)}catch{}}return _}async fetchAllLayersAndTables(p){var v;return this._fetchAllLayersAndTablesFromService(null===(v=this.parsedUrl)||void 0===v?void 0:v.path,p)}async _fetchAllLayersAndTablesFromService(p,v){await this.load(v),this._allLayersAndTablesMap||(this._allLayersAndTablesMap=new Map);const b=(0,T.qg)(p),g=(0,_.tE)(this._allLayersAndTablesMap,null===b||void 0===b?void 0:b.url.path,(()=>(0,S.A)((0,w.fj)(null===b||void 0===b?void 0:b.url.path,"/layers"),{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey}}).then((p=>{const v=new Map;for(const b of p.data.layers)v.set(b.id,b);return{result:v}}),(p=>({error:p}))))),A=await g;if((0,I.Te)(v),"result"in A)return A.result;throw A.error}};return(0,g._)([(0,E.MZ)({readOnly:!0})],v.prototype,"capabilities",void 0),(0,g._)([(0,M.w)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],v.prototype,"readCapabilities",null),(0,g._)([(0,E.MZ)({json:{read:{source:"copyrightText"}}})],v.prototype,"copyright",void 0),(0,g._)([(0,E.MZ)({type:j.A})],v.prototype,"fullExtent",void 0),(0,g._)([(0,E.MZ)(F.id)],v.prototype,"id",void 0),(0,g._)([(0,E.MZ)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],v.prototype,"legendEnabled",void 0),(0,g._)([(0,E.MZ)(F.M6)],v.prototype,"popupEnabled",void 0),(0,g._)([(0,E.MZ)({type:O.A})],v.prototype,"spatialReference",void 0),(0,g._)([(0,E.MZ)({readOnly:!0})],v.prototype,"version",void 0),(0,g._)([(0,M.w)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],v.prototype,"readVersion",null),v=(0,g._)([(0,x.$)("esri.layers.mixins.ArcGISMapService")],v),v}},47478:(p,v,b)=>{b.d(v,{b:()=>l});var g=b(80671),S=b(89412),_=b(57453),I=(b(50886),b(76761),b(68682)),w=b(26128);const l=p=>{let v=class extends p{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const p=(0,w.qg)(this.url);if(null!=p&&p.title)return p.title}return this._get("title")||""}set title(p){this._set("title",p)}set url(p){this._set("url",(0,w.Jf)(p,S.A.getLogger(this)))}};return(0,g._)([(0,_.MZ)()],v.prototype,"title",null),(0,g._)([(0,_.MZ)({type:String})],v.prototype,"url",null),v=(0,g._)([(0,I.$)("esri.layers.mixins.ArcGISService")],v),v}},66795:(p,v,b)=>{b.d(v,{I:()=>m});var g=b(80671),S=b(39652),_=b(76779),I=b(4180),w=b(89412),A=b(63390),E=b(57453),M=(b(50886),b(76761),b(39242)),x=b(68682),L=b(57532),j=b(92792),O=b(60003);const T=S.A.ofType(j.A);function h(p,v){p&&p.forEach((p=>{v(p),p.sublayers&&p.sublayers.length&&h(p.sublayers,v)}))}const m=p=>{let v=class extends p{constructor(){super(...arguments),this.allSublayers=new _.A({getCollections:()=>[this.sublayers],getChildrenFunction:p=>p.sublayers}),this.sublayersSourceJSON={[L.Gr.SERVICE]:{},[L.Gr.PORTAL_ITEM]:{},[L.Gr.WEB_SCENE]:{},[L.Gr.WEB_MAP]:{}},this.addHandles((0,A.wB)((()=>this.sublayers),((p,v)=>this._handleSublayersChange(p,v)),A.OH))}destroy(){this.allSublayers.destroy()}readSublayers(p,v){if(!v||!p)return;const{sublayersSourceJSON:b}=this,g=(0,L.aB)(v.origin);if(g<L.Gr.SERVICE)return;if(b[g]={context:v,visibleLayers:p.visibleLayers||b[g].visibleLayers,layers:p.layers||b[g].layers},g>L.Gr.SERVICE)return;this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);const{sublayers:S,origin:_}=this.createSublayersForOrigin("web-document"),I=(0,M.oY)(this);I.setDefaultOrigin(_),this._set("sublayers",new T(S)),I.setDefaultOrigin("user")}findSublayerById(p){return this.allSublayers.find((v=>v.id===p))}createServiceSublayers(){return this.createSublayersForOrigin("service").sublayers}createSublayersForOrigin(p){var v;const b=(0,L.aB)("web-document"===p?"web-map":p);let g=L.Gr.SERVICE,S=this.sublayersSourceJSON[L.Gr.SERVICE].layers,_=this.sublayersSourceJSON[L.Gr.SERVICE].context,I=null;const w=[L.Gr.PORTAL_ITEM,L.Gr.WEB_SCENE,L.Gr.WEB_MAP].filter((p=>p<=b));for(const L of w){const p=this.sublayersSourceJSON[L];(0,O._X)(p.layers)&&(g=L,S=p.layers,_=p.context,p.visibleLayers&&(I={visibleLayers:p.visibleLayers,context:p.context}))}const A=[L.Gr.PORTAL_ITEM,L.Gr.WEB_SCENE,L.Gr.WEB_MAP].filter((p=>p>g&&p<=b));let E=null;for(const L of A){const{layers:p,visibleLayers:v,context:b}=this.sublayersSourceJSON[L];p&&(E={layers:p,context:b}),v&&(I={visibleLayers:v,context:b})}const M=function f(p,v){const b=[],g={};return p?(p.forEach((p=>{const S=new j.A;if(S.read(p,v),g[S.id]=S,null!=p.parentLayerId&&-1!==p.parentLayerId){const v=g[p.parentLayerId];v.sublayers||(v.sublayers=[]),v.sublayers.unshift(S)}else b.unshift(S)})),b):b}(S,_),x=new Map,F=new Set;if(E)for(const L of E.layers)x.set(L.id,L);if(null!==(v=I)&&void 0!==v&&v.visibleLayers)for(const L of I.visibleLayers)F.add(L);return h(M,(p=>{E&&p.read(x.get(p.id),E.context),I&&p.read({defaultVisibility:F.has(p.id)},I.context)})),{origin:(0,L.OL)(g),sublayers:new T({items:M})}}read(p,v){super.read(p,v),this.readSublayers(p,v)}_handleSublayersChange(p,v){v&&(v.forEach((p=>{p.parent=null,p.layer=null})),this.removeHandles("sublayers-owner")),p&&(p.forEach((p=>{p.parent=this,p.layer=this})),this.addHandles([p.on("after-add",(p=>{let{item:v}=p;v.parent=this,v.layer=this})),p.on("after-remove",(p=>{let{item:v}=p;v.parent=null,v.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.addHandles(p.on("before-changes",(p=>{w.A.getLogger("esri.layers.TileLayer").error(new I.A("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this})),p.preventDefault()})),"sublayers-owner"))}};return(0,g._)([(0,E.MZ)({readOnly:!0})],v.prototype,"allSublayers",void 0),(0,g._)([(0,E.MZ)({readOnly:!0,type:S.A.ofType(j.A)})],v.prototype,"serviceSublayers",void 0),(0,g._)([(0,E.MZ)({value:null,type:T,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],v.prototype,"sublayers",void 0),(0,g._)([(0,E.MZ)({readOnly:!0})],v.prototype,"sublayersSourceJSON",void 0),v=(0,g._)([(0,x.$)("esri.layers.mixins.SublayersOwner")],v),v}},9989:(p,v,b)=>{b.d(v,{A:()=>j});var g=b(80671),S=b(88706),_=b(83375),I=b(57453),w=(b(50886),b(89412),b(76761),b(59299)),A=b(68682),E=b(51715),M=b(78091),x=b(10171);let L=class extends((0,S.O)(_.oY)){constructor(p){super(p),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(p){const v={};for(const b of Object.keys(p))v[b]=(0,M.rS)(p[b]);return v}writeDomains(p,v){const b={};for(const S of Object.keys(p)){var g;p[S]&&(b[S]=null===(g=p[S])||void 0===g?void 0:g.toJSON())}v.domains=b}};(0,g._)([(0,I.MZ)({json:{write:!0}})],L.prototype,"id",void 0),(0,g._)([(0,I.MZ)({json:{write:!0}})],L.prototype,"name",void 0),(0,g._)([(0,I.MZ)({json:{write:!0}})],L.prototype,"domains",void 0),(0,g._)([(0,w.w)("domains")],L.prototype,"readDomains",null),(0,g._)([(0,E.K)("domains")],L.prototype,"writeDomains",null),(0,g._)([(0,I.MZ)({type:[x.A],json:{write:!0}})],L.prototype,"templates",void 0),L=(0,g._)([(0,A.$)("esri.layers.support.FeatureType")],L);const j=L},218:(p,v,b)=>{b.d(v,{A:()=>M});var g,S=b(80671),_=b(39652),I=b(83375),w=b(57453),A=(b(50886),b(89412),b(76761),b(68682));let E=g=class extends I.oY{constructor(p){super(p),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new _.A}clone(){return new g({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,S._)([(0,w.MZ)({type:String,json:{write:!0}})],E.prototype,"floorField",void 0),(0,S._)([(0,w.MZ)({json:{read:!1,write:!1}})],E.prototype,"viewAllMode",void 0),(0,S._)([(0,w.MZ)({json:{read:!1,write:!1}})],E.prototype,"viewAllLevelIds",void 0),E=g=(0,S._)([(0,A.$)("esri.layers.support.LayerFloorInfo")],E);const M=E},92792:(p,v,b)=>{b.d(v,{A:()=>ce});var g,S=b(80671),_=(b(30174),b(21365)),I=(b(1804),b(26374),b(2725),b(66178),b(52902),b(55088),b(27150),b(16534),b(53440),b(80830)),w=b(53705),A=b(21343),E=b(39652),M=b(4180),x=b(50886),L=b(16904),j=b(66004),O=b(3616),T=b(89412),F=b(13132),D=b(25986),U=b(4270),P=b(57453),R=b(91779),V=b(59299),Z=b(68682),Q=b(51715),q=b(6493),N=b(57532),k=b(39242),K=b(84963),z=b(9989),W=b(67871),Y=b(8084),X=b(48823),ee=b(97241),te=b(218),re=b(26487),ie=b(25230),se=b(96331),oe=b(99524),ne=b(49096),le=b(7445),ae=b(84661),ue=b(40304);function B(p){return null!=p&&"esriSMS"===p.type}function J(p,v,b){var g;const S=this.originIdOf(v)>=(0,N.aB)(b.origin);return{ignoreOrigin:!0,allowNull:S,enabled:!!b&&"map-image"===(null===(g=b.layer)||void 0===g?void 0:g.type)&&(b.writeSublayerStructure||S)}}function $(p,v,b){var g;return{enabled:!!b&&"tile"===(null===(g=b.layer)||void 0===g?void 0:g.type)&&(b.origin&&this.originIdOf(v)>=(0,N.aB)(b.origin)||this._isOverridden(v))}}function G(p,v,b){return{ignoreOrigin:!0,enabled:b&&b.writeSublayerStructure||!1}}function H(p,v,b){return{ignoreOrigin:!0,enabled:!!b&&(b.writeSublayerStructure||this.originIdOf(v)>=(0,N.aB)(b.origin))}}let pe=0;const de=new Set;de.add("layer"),de.add("parent"),de.add("loaded"),de.add("loadStatus"),de.add("loadError"),de.add("loadWarnings");let ye=g=class extends((0,F.P)((0,L.sA)(O.A))){constructor(p){super(p),this.capabilities=void 0,this.maxScaleRange={minScale:0,maxScale:0},this.fields=null,this.fullExtent=null,this.geometryType=null,this.globalIdField=null,this.legendEnabled=!0,this.objectIdField=null,this.parent=null,this.popupEnabled=!0,this.popupTemplate=null,this.sourceJSON=null,this.title=null,this.typeIdField=null,this.type="sublayer",this.types=null,this._lastParsedUrl=null}async load(p){return this.addResolvingPromise((async()=>{const{layer:v,url:b}=this;if(!v&&!b)throw new M.A("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:this});const g=v?await v.fetchSublayerInfo(this,p):(await(0,w.A)(b,{responseType:"json",query:{f:"json"},...p})).data;g&&(this.sourceJSON=g,this.read({layerDefinition:g},{origin:"service"}))})()),this}readCapabilities(p,v){v=v.layerDefinition||v;const{operations:{supportsQuery:b,supportsQueryAttachments:g},query:{supportsFormatPBF:S},data:{supportsAttachment:_},queryRelated:I}=(0,re.S)(v,this.url);return{exportMap:{supportsModification:!!v.canModifyLayer},operations:{supportsQuery:b,supportsQueryAttachments:g},data:{supportsAttachment:_},query:{supportsFormatPBF:S},queryRelated:I}}get defaultPopupTemplate(){return this.createPopupTemplate()}set definitionExpression(p){this._setAndNotifyLayer("definitionExpression",p)}get effectiveScaleRange(){const{minScale:p,maxScale:v}=this;return{minScale:p,maxScale:v}}readMaxScaleRange(p,v){var b,g;return{minScale:null!==(b=(v=v.layerDefinition||v).minScale)&&void 0!==b?b:0,maxScale:null!==(g=v.maxScale)&&void 0!==g?g:0}}get fieldsIndex(){return new Y.A(this.fields||[])}set floorInfo(p){this._setAndNotifyLayer("floorInfo",p)}readGlobalIdFieldFromService(p,v){if((v=v.layerDefinition||v).globalIdField)return v.globalIdField;if(v.fields)for(const b of v.fields)if("esriFieldTypeGlobalID"===b.type)return b.name}get id(){const p=this._get("id");return null!==p&&void 0!==p?p:pe++}set id(p){var v;this._get("id")!==p&&(!1!==(null===(v=this.layer)||void 0===v||null===(v=v.capabilities)||void 0===v||null===(v=v.exportMap)||void 0===v?void 0:v.supportsDynamicLayers)?this._set("id",p):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}set labelingInfo(p){this._setAndNotifyLayer("labelingInfo",p)}writeLabelingInfo(p,v,b,g){p&&p.length&&(v.layerDefinition={drawingInfo:{labelingInfo:p.map((p=>p.write({},g)))}})}set labelsVisible(p){this._setAndNotifyLayer("labelsVisible",p)}set layer(p){this._set("layer",p),this.sublayers&&this.sublayers.forEach((v=>v.layer=p))}set listMode(p){this._set("listMode",p)}set minScale(p){this._setAndNotifyLayer("minScale",p)}readMinScale(p,v){var b;return v.minScale||(null===(b=v.layerDefinition)||void 0===b?void 0:b.minScale)||0}set maxScale(p){this._setAndNotifyLayer("maxScale",p)}readMaxScale(p,v){var b;return v.maxScale||(null===(b=v.layerDefinition)||void 0===b?void 0:b.maxScale)||0}readObjectIdFieldFromService(p,v){if((v=v.layerDefinition||v).objectIdField)return v.objectIdField;if(v.fields)for(const b of v.fields)if("esriFieldTypeOID"===b.type)return b.name}set opacity(p){this._setAndNotifyLayer("opacity",p)}readOpacity(p,v){var b,g;const S=v.layerDefinition;return 1-.01*(null!==(b=null!=(null===S||void 0===S?void 0:S.transparency)?S.transparency:null===S||void 0===S||null===(g=S.drawingInfo)||void 0===g?void 0:g.transparency)&&void 0!==b?b:0)}writeOpacity(p,v,b,g){v.layerDefinition={drawingInfo:{transparency:100-100*p}}}writeParent(p,v){this.parent&&this.parent!==this.layer?v.parentLayerId=(0,q.Vr)(this.parent.id):v.parentLayerId=-1}get queryTask(){var p,v;if(!this.layer)return null;const{spatialReference:b}=this.layer,g="gdbVersion"in this.layer?this.layer.gdbVersion:void 0,{capabilities:S,fieldsIndex:_}=this,I=(0,x.A)("featurelayer-pbf")&&(null===S||void 0===S?void 0:S.query.supportsFormatPBF),w=null!==(p=null===S||void 0===S||null===(v=S.operations)||void 0===v?void 0:v.supportsQueryAttachments)&&void 0!==p&&p;return new K.A({url:this.url,pbfSupported:I,fieldsIndex:_,gdbVersion:g,sourceSpatialReference:b,queryAttachmentsSupported:w})}set renderer(p){if(p)for(const v of p.getSymbols())if((0,A.wk)(v)){T.A.getLogger(this).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",p)}get source(){return this._get("source")||new se.f({mapLayerId:this.id})}set source(p){this._setAndNotifyLayer("source",p)}set sublayers(p){this._handleSublayersChange(p,this._get("sublayers")),this._set("sublayers",p)}castSublayers(p){return(0,q.dp)(E.A.ofType(g),p)}writeSublayers(p,v,b){var g;(null===(g=this.sublayers)||void 0===g?void 0:g.length)&&(v[b]=this.sublayers.map((p=>p.id)).toArray().reverse())}readTitle(p,v){var b,g;return null!==(b=null===(g=v.layerDefinition)||void 0===g?void 0:g.name)&&void 0!==b?b:v.name}readTypeIdField(p,v){let b=(v=v.layerDefinition||v).typeIdField;if(b&&v.fields){b=b.toLowerCase();const p=v.fields.find((p=>p.name.toLowerCase()===b));p&&(b=p.name)}return b}get url(){var p,v;const b=null!==(p=null===(v=this.layer)||void 0===v?void 0:v.parsedUrl)&&void 0!==p?p:this._lastParsedUrl,g=this.source;if(!b)return null;if(this._lastParsedUrl=b,"map-layer"===(null===g||void 0===g?void 0:g.type))return"".concat(b.path,"/").concat(g.mapLayerId);const S={layer:JSON.stringify({source:this.source})};return"".concat(b.path,"/dynamicLayer?").concat((0,U.x0)(S))}set url(p){this._overrideIfSome("url",p)}set visible(p){this._setAndNotifyLayer("visible",p)}writeVisible(p,v,b,g){v[b]=this.getAtOrigin("defaultVisibility","service")||p}clone(){const{store:p}=(0,k.oY)(this),v=new g;return(0,k.oY)(v).store=p.clone(de),this.commitProperty("url"),v._lastParsedUrl=this._lastParsedUrl,v}createPopupTemplate(p){return(0,le.tn)(this,p)}createQuery(){return new ne.A({returnGeometry:!0,where:this.definitionExpression||"1=1"})}async createFeatureLayer(){var p;if(this.hasOwnProperty("sublayers"))return null;const v=(await Promise.all([b.e(5658),b.e(6572),b.e(9370)]).then(b.bind(b,9370))).default,{layer:g,url:S}=this;let _;if(S&&this.originIdOf("url")>N.Gr.SERVICE)_=new v({url:S});else{if(null===g||void 0===g||!g.parsedUrl)throw new M.A("createFeatureLayer:missing-information","Cannot create a FeatureLayer without a url or a parent layer");{const p=g.parsedUrl;_=new v({url:p.path}),p&&this.source&&("map-layer"===this.source.type?_.layerId=this.source.mapLayerId:_.dynamicDataSource=this.source)}}return null!=(null===g||void 0===g?void 0:g.refreshInterval)&&(_.refreshInterval=g.refreshInterval),this.definitionExpression&&(_.definitionExpression=this.definitionExpression),this.floorInfo&&(_.floorInfo=(0,j.o8)(this.floorInfo)),this.originIdOf("labelingInfo")>N.Gr.SERVICE&&(_.labelingInfo=(0,j.o8)(this.labelingInfo)),this.originIdOf("labelsVisible")>N.Gr.DEFAULTS&&(_.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>N.Gr.DEFAULTS&&(_.legendEnabled=this.legendEnabled),this.originIdOf("visible")>N.Gr.DEFAULTS&&(_.visible=this.visible),this.originIdOf("minScale")>N.Gr.DEFAULTS&&(_.minScale=this.minScale),this.originIdOf("maxScale")>N.Gr.DEFAULTS&&(_.maxScale=this.maxScale),this.originIdOf("opacity")>N.Gr.DEFAULTS&&(_.opacity=this.opacity),this.originIdOf("popupTemplate")>N.Gr.DEFAULTS&&(_.popupTemplate=(0,j.o8)(this.popupTemplate)),this.originIdOf("renderer")>N.Gr.SERVICE&&(_.renderer=(0,j.o8)(this.renderer)),"data-layer"===(null===(p=this.source)||void 0===p?void 0:p.type)&&(_.dynamicDataSource=this.source.clone()),this.originIdOf("title")>N.Gr.DEFAULTS&&(_.title=this.title),"map-image"===(null===g||void 0===g?void 0:g.type)&&g.originIdOf("customParameters")>N.Gr.DEFAULTS&&(_.customParameters=g.customParameters),"tile"===(null===g||void 0===g?void 0:g.type)&&g.originIdOf("customParameters")>N.Gr.DEFAULTS&&(_.customParameters=g.customParameters),_}getField(p){return this.fieldsIndex.get(p)}getFeatureType(p){const{typeIdField:v,types:b}=this;if(!v||!p)return null;const g=p.attributes?p.attributes[v]:void 0;if(null==g)return null;let S=null;return null!==b&&void 0!==b&&b.some((p=>{const{id:v}=p;return null!=v&&(v.toString()===g.toString()&&(S=p),!!S)})),S}getFieldDomain(p,v){const b=null===v||void 0===v?void 0:v.feature,g=this.getFeatureType(b);if(g){const v=g.domains&&g.domains[p];if(v&&"inherited"!==v.type)return v}return this._getLayerDomain(p)}async queryAttachments(p,v){var b,g;await this.load(),p=oe.A.from(p);const S=this.capabilities;if(null===S||void 0===S||null===(b=S.data)||void 0===b||!b.supportsAttachment)throw new M.A("queryAttachments:not-supported","this layer doesn't support attachments");const{attachmentTypes:_,objectIds:I,globalIds:w,num:A,size:E,start:x,where:L}=p;if((null===S||void 0===S||null===(g=S.operations)||void 0===g||!g.supportsQueryAttachments)&&((null===_||void 0===_?void 0:_.length)>0||(null===w||void 0===w?void 0:w.length)>0||(null===E||void 0===E?void 0:E.length)>0||A||x||L))throw new M.A("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",p);if(!(null!==I&&void 0!==I&&I.length||null!==w&&void 0!==w&&w.length||L))throw new M.A("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",p);return this.queryTask.executeAttachmentQuery(p,v)}async queryFeatures(){var p,v;let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.createQuery(),g=arguments.length>1?arguments[1]:void 0;if(await this.load(),!this.capabilities.operations.supportsQuery)throw new M.A("queryFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new M.A("queryFeatures:not-supported","this layer has no url.");const S=await this.queryTask.execute(b,{...g,query:{...null===(p=this.layer)||void 0===p?void 0:p.customParameters,token:null===(v=this.layer)||void 0===v?void 0:v.apiKey}});if(null!==S&&void 0!==S&&S.features)for(const _ of S.features)_.sourceLayer=this;return S}toExportImageJSON(p){var v;const b={id:this.id,source:(null===(v=this.source)||void 0===v?void 0:v.toJSON())||{mapLayerId:this.id,type:"mapLayer"}},g=(0,D.m)(p,this.definitionExpression);null!=g&&(b.definitionExpression=g);const S=["renderer","labelingInfo","opacity","labelsVisible"].reduce(((p,v)=>(p[v]=this.originIdOf(v),p)),{}),_=Object.keys(S).some((p=>S[p]>N.Gr.SERVICE));if(_){const p=b.drawingInfo={};if(S.renderer>N.Gr.SERVICE&&(p.renderer=this.renderer?this.renderer.toJSON():null),S.labelsVisible>N.Gr.SERVICE&&(p.showLabels=this.labelsVisible),this.labelsVisible&&S.labelingInfo>N.Gr.SERVICE)if(this.labelingInfo){var I;!this.loaded&&(null===(I=this.labelingInfo)||void 0===I?void 0:I.some((p=>!p.labelPlacement)))&&T.A.getLogger(this).warnOnce("A Sublayer (title: ".concat(this.title,", id: ").concat(this.id,") has an undefined 'labelPlacement' and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type."),{sublayer:this});let v=this.labelingInfo;null!=this.geometryType&&(v=(0,ee.z)(this.labelingInfo,ue.g.toJSON(this.geometryType))),p.showLabels=!0,p.labelingInfo=v.filter((p=>p.labelPlacement)).map((p=>p.toJSON({origin:"service",layer:this.layer})))}else p.showLabels=!1;S.opacity>N.Gr.SERVICE&&(p.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(p.renderer)}return b}_assignDefaultSymbolColors(p){this._forEachSimpleMarkerSymbols(p,(p=>{var v;p.color||"esriSMSX"!==p.style&&"esriSMSCross"!==p.style||(null!==(v=p.outline)&&void 0!==v&&v.color?p.color=p.outline.color:p.color=[0,0,0,0])}))}_forEachSimpleMarkerSymbols(p,v){if(p){var b;const g=null!==(b="uniqueValueInfos"in p?p.uniqueValueInfos:"classBreakInfos"in p?p.classBreakInfos:null)&&void 0!==b?b:[];for(const p of g)B(p.symbol)&&v(p.symbol);"symbol"in p&&B(p.symbol)&&v(p.symbol),"defaultSymbol"in p&&B(p.defaultSymbol)&&v(p.defaultSymbol)}}_setAndNotifyLayer(p,v){const b=this.layer,g=this._get(p);let S,_;switch(p){case"definitionExpression":case"floorInfo":S="supportsSublayerDefinitionExpression";break;case"minScale":case"maxScale":case"visible":S="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":S="supportsDynamicLayers",_="supportsModification"}const I=(0,k.oY)(this).getDefaultOrigin();if("service"!==I){var w,A;if(S&&!1===(null===(w=this.layer)||void 0===w||null===(w=w.capabilities)||void 0===w||null===(w=w.exportMap)||void 0===w?void 0:w[S]))return void this._logLockedError(p,"capability not available 'layer.capabilities.exportMap.".concat(S,"'"));if(_&&!1===(null===(A=this.capabilities)||void 0===A?void 0:A.exportMap[_]))return void this._logLockedError(p,"capability not available 'capabilities.exportMap.".concat(_,"'"))}"source"!==p||"not-loaded"===this.loadStatus?(this._set(p,v),"service"!==I&&g!==v&&b&&b.emit&&b.emit("sublayer-update",{propertyName:p,target:this})):this._logLockedError(p,"'source' can't be changed after calling sublayer.load()")}_handleSublayersChange(p,v){v&&(v.forEach((p=>{p.parent=null,p.layer=null})),this.removeAllHandles()),p&&(p.forEach((p=>{p.parent=this,p.layer=this.layer})),this.addHandles([p.on("after-add",(p=>{let{item:v}=p;v.parent=this,v.layer=this.layer})),p.on("after-remove",(p=>{let{item:v}=p;v.parent=null,v.layer=null})),p.on("before-changes",(p=>{var v;const b=null===(v=this.layer)||void 0===v||null===(v=v.capabilities)||void 0===v||null===(v=v.exportMap)||void 0===v?void 0:v.supportsSublayersChanges;null==b||b||(T.A.getLogger(this).error(new M.A("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),p.preventDefault())}))]))}_logLockedError(p,v){const{layer:b,declaredClass:g}=this;T.A.getLogger(g).error(new M.A("sublayer:locked","Property '".concat(String(p),"' can't be changed on Sublayer from the layer '").concat(null===b||void 0===b?void 0:b.id,"'"),{reason:v,sublayer:this,layer:b}))}_getLayerDomain(p){const v=this.fieldsIndex.get(p);return v?v.domain:null}};ye.test={isMapImageLayerOverridePolicy:p=>p===G||p===J,isTileImageLayerOverridePolicy:p=>p===$},(0,S._)([(0,P.MZ)({readOnly:!0})],ye.prototype,"capabilities",void 0),(0,S._)([(0,V.w)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],ye.prototype,"readCapabilities",null),(0,S._)([(0,P.MZ)()],ye.prototype,"defaultPopupTemplate",null),(0,S._)([(0,P.MZ)({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:J}}})],ye.prototype,"definitionExpression",null),(0,S._)([(0,P.MZ)({readOnly:!0})],ye.prototype,"effectiveScaleRange",null),(0,S._)([(0,V.w)("service","maxScaleRange",["minScale","maxScale"])],ye.prototype,"readMaxScaleRange",null),(0,S._)([(0,P.MZ)({type:[W.A],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],ye.prototype,"fields",void 0),(0,S._)([(0,P.MZ)({readOnly:!0})],ye.prototype,"fieldsIndex",null),(0,S._)([(0,P.MZ)({type:te.A,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:J},origins:{"web-scene":{read:!1,write:!1}}}})],ye.prototype,"floorInfo",null),(0,S._)([(0,P.MZ)({type:ae.A,json:{read:{source:"layerDefinition.extent"}}})],ye.prototype,"fullExtent",void 0),(0,S._)([(0,P.MZ)({type:ue.g.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:ue.g.read}}}}})],ye.prototype,"geometryType",void 0),(0,S._)([(0,P.MZ)({type:String})],ye.prototype,"globalIdField",void 0),(0,S._)([(0,V.w)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],ye.prototype,"readGlobalIdFieldFromService",null),(0,S._)([(0,P.MZ)({type:q.jz,json:{write:{ignoreOrigin:!0}}})],ye.prototype,"id",null),(0,S._)([(0,P.MZ)({value:null,type:[X.A],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:G}}})],ye.prototype,"labelingInfo",null),(0,S._)([(0,Q.K)("labelingInfo")],ye.prototype,"writeLabelingInfo",null),(0,S._)([(0,P.MZ)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:G}}})],ye.prototype,"labelsVisible",null),(0,S._)([(0,P.MZ)({value:null})],ye.prototype,"layer",null),(0,S._)([(0,P.MZ)({type:String,json:{write:{overridePolicy:$}}})],ye.prototype,"layerItemId",void 0),(0,S._)([(0,P.MZ)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:H}}})],ye.prototype,"legendEnabled",void 0),(0,S._)([(0,P.MZ)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],ye.prototype,"listMode",null),(0,S._)([(0,P.MZ)({type:Number,value:0,json:{write:{overridePolicy:G}}})],ye.prototype,"minScale",null),(0,S._)([(0,V.w)("minScale",["minScale","layerDefinition.minScale"])],ye.prototype,"readMinScale",null),(0,S._)([(0,P.MZ)({type:Number,value:0,json:{write:{overridePolicy:G}}})],ye.prototype,"maxScale",null),(0,S._)([(0,V.w)("maxScale",["maxScale","layerDefinition.maxScale"])],ye.prototype,"readMaxScale",null),(0,S._)([(0,P.MZ)({type:String})],ye.prototype,"objectIdField",void 0),(0,S._)([(0,V.w)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],ye.prototype,"readObjectIdFieldFromService",null),(0,S._)([(0,P.MZ)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:G}}})],ye.prototype,"opacity",null),(0,S._)([(0,V.w)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],ye.prototype,"readOpacity",null),(0,S._)([(0,Q.K)("opacity")],ye.prototype,"writeOpacity",null),(0,S._)([(0,P.MZ)({json:{type:q.jz,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:G}}})],ye.prototype,"parent",void 0),(0,S._)([(0,Q.K)("parent")],ye.prototype,"writeParent",null),(0,S._)([(0,P.MZ)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(p,v)=>!v.disablePopup},write:{target:"disablePopup",overridePolicy:H,writer(p,v,b){v[b]=!p}}}})],ye.prototype,"popupEnabled",void 0),(0,S._)([(0,P.MZ)({type:_.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:H}}})],ye.prototype,"popupTemplate",void 0),(0,S._)([(0,P.MZ)({readOnly:!0})],ye.prototype,"queryTask",null),(0,S._)([(0,P.MZ)({types:I.H,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:G},origins:{"web-scene":{types:I.X,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:G}}}}})],ye.prototype,"renderer",null),(0,S._)([(0,P.MZ)({types:{key:"type",base:null,typeMap:{"data-layer":ie.L,"map-layer":se.f}},cast(p){if(p){if("mapLayerId"in p)return(0,q.PZ)(se.f,p);if("dataSource"in p)return(0,q.PZ)(ie.L,p)}return p},json:{name:"layerDefinition.source",write:{overridePolicy:G}}})],ye.prototype,"source",null),(0,S._)([(0,P.MZ)()],ye.prototype,"sourceJSON",void 0),(0,S._)([(0,P.MZ)({value:null,json:{type:[q.jz],write:{target:"subLayerIds",allowNull:!0,overridePolicy:G}}})],ye.prototype,"sublayers",null),(0,S._)([(0,R.w)("sublayers")],ye.prototype,"castSublayers",null),(0,S._)([(0,Q.K)("sublayers")],ye.prototype,"writeSublayers",null),(0,S._)([(0,P.MZ)({type:String,json:{name:"name",write:{overridePolicy:H}}})],ye.prototype,"title",void 0),(0,S._)([(0,V.w)("service","title",["name","layerDefinition.name"])],ye.prototype,"readTitle",null),(0,S._)([(0,P.MZ)({type:String})],ye.prototype,"typeIdField",void 0),(0,S._)([(0,P.MZ)({json:{read:!1},readOnly:!0,value:"sublayer"})],ye.prototype,"type",void 0),(0,S._)([(0,V.w)("typeIdField",["layerDefinition.typeIdField"])],ye.prototype,"readTypeIdField",null),(0,S._)([(0,P.MZ)({type:[z.A],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],ye.prototype,"types",void 0),(0,S._)([(0,P.MZ)({type:String,json:{name:"layerUrl",write:{overridePolicy:$}}})],ye.prototype,"url",null),(0,S._)([(0,P.MZ)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:G}}})],ye.prototype,"visible",null),(0,S._)([(0,Q.K)("visible")],ye.prototype,"writeVisible",null),ye=g=(0,S._)([(0,Z.$)("esri.layers.support.Sublayer")],ye);const ce=ye},3420:(p,v,b)=>{b.d(v,{C:()=>o,m:()=>t});var g=b(4180),S=b(81618);async function t(p,v,b){let _;try{_=await createImageBitmap(p)}catch(I){throw new g.A("request:server","Unable to load ".concat(v),{url:v,error:I})}return(0,S.Te)(b),_}async function o(p,v,b,_,I){let w;try{w=await createImageBitmap(p)}catch(A){throw new g.A("request:server","Unable to load tile ".concat(v,"/").concat(b,"/").concat(_),{error:A,level:v,row:b,col:_})}return(0,S.Te)(I),w}},26487:(p,v,b)=>{b.d(v,{S:()=>a});var g=b(50886),S=b(26128);function jsonUtils_n(p,v,b){return!!t(p,v,b)}function r(p,v,b){return t(p,v,b)}function t(p,v,b){return p&&p.hasOwnProperty(v)?p[v]:b}const _={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function o(p){var v;const b=null===p||void 0===p||null===(v=p.supportedSpatialAggregationStatistics)||void 0===v?void 0:v.map((p=>p.toLowerCase()));return{envelope:!(null===b||void 0===b||!b.includes("envelopeaggregate")),centroid:!(null===b||void 0===b||!b.includes("centroidaggregate")),convexHull:!(null===b||void 0===b||!b.includes("convexhullaggregate"))}}function u(p,v){var b;const g=null===p||void 0===p||null===(b=p.supportedOperationsWithCacheHint)||void 0===b?void 0:b.map((p=>p.toLowerCase()));return!(null===g||void 0===g||!g.includes(v.toLowerCase()))}function a(p,v){return{analytics:n(p),attachment:i(p),data:c(p),metadata:d(p),operations:l(p.capabilities,p,v),query:y(p,v),queryRelated:m(p),queryTopFeatures:C(p),editing:h(p)}}function n(p){return{supportsCacheHint:u(p.advancedQueryCapabilities,"queryAnalytics")}}function i(p){const v=p.attachmentProperties,b={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:u(p.advancedQueryCapabilities,"queryAttachments"),supportsResize:jsonUtils_n(p,"supportsAttachmentsResizing",!1)};return v&&Array.isArray(v)&&v.forEach((p=>{const v=_[p.name];v&&(b[v]=!!p.isEnabled)})),b}function c(p){return{isVersioned:jsonUtils_n(p,"isDataVersioned",!1),supportsAttachment:jsonUtils_n(p,"hasAttachments",!1),supportsM:jsonUtils_n(p,"hasM",!1),supportsZ:jsonUtils_n(p,"hasZ",!1)}}function d(p){return{supportsAdvancedFieldProperties:jsonUtils_n(p,"supportsFieldDescriptionProperty",!1)}}function l(p,v,b){const g=p?p.toLowerCase().split(",").map((p=>p.trim())):[],_=b?(0,S.qg)(b):null,I=g.includes(null!=_&&"MapServer"===_.serverType?"data":"query"),w=g.includes("editing")&&!v.datesInUnknownTimezone;let A=w&&g.includes("create"),E=w&&g.includes("delete"),M=w&&g.includes("update");const x=g.includes("changetracking"),L=v.advancedQueryCapabilities;return w&&!(A||E||M)&&(A=E=M=!0),{supportsCalculate:jsonUtils_n(v,"supportsCalculate",!1),supportsTruncate:jsonUtils_n(v,"supportsTruncate",!1),supportsValidateSql:jsonUtils_n(v,"supportsValidateSql",!1),supportsAdd:A,supportsDelete:E,supportsEditing:w,supportsChangeTracking:x,supportsQuery:I,supportsQueryAnalytics:jsonUtils_n(L,"supportsQueryAnalytic",!1),supportsQueryAttachments:jsonUtils_n(L,"supportsQueryAttachments",!1),supportsQueryTopFeatures:jsonUtils_n(L,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:jsonUtils_n(v,"supportsAttachmentsResizing",!1),supportsSync:g.includes("sync"),supportsUpdate:M,supportsExceedsLimitStatistics:jsonUtils_n(v,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:jsonUtils_n(v,"supportsAsyncConvert3D",!1)}}function y(p,v){var b;const _=p.advancedQueryCapabilities,I=p.ownershipBasedAccessControlForFeatures,w=p.archivingInfo,A=p.currentVersion,E=!(null===v||void 0===v?void 0:v.includes("MapServer"))||A>=(0,g.A)("mapserver-pbf-version-support"),M=(0,S.Wo)(v),x=new Set((null!==(b=p.supportedQueryFormats)&&void 0!==b?b:"").split(",").map((p=>p.toLowerCase().trim())));return{supportsStatistics:jsonUtils_n(_,"supportsStatistics",p.supportsStatistics),supportsPercentileStatistics:jsonUtils_n(_,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:jsonUtils_n(_,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:o(_),supportsCentroid:jsonUtils_n(_,"supportsReturningGeometryCentroid",!1),supportsDistance:jsonUtils_n(_,"supportsQueryWithDistance",!1),supportsDistinct:jsonUtils_n(_,"supportsDistinct",p.supportsAdvancedQueries),supportsExtent:jsonUtils_n(_,"supportsReturningQueryExtent",!1),supportsGeometryProperties:jsonUtils_n(_,"supportsReturningGeometryProperties",!1),supportsHavingClause:jsonUtils_n(_,"supportsHavingClause",!1),supportsOrderBy:jsonUtils_n(_,"supportsOrderBy",p.supportsAdvancedQueries),supportsPagination:jsonUtils_n(_,"supportsPagination",!1),supportsQuantization:jsonUtils_n(p,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:jsonUtils_n(p,"supportsQuantizationEditMode",!1),supportsQueryGeometry:jsonUtils_n(p,"supportsReturningQueryGeometry",!1),supportsResultType:jsonUtils_n(_,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:jsonUtils_n(_,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:jsonUtils_n(_,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:jsonUtils_n(p,"useStandardizedQueries",!1),supportsTopFeaturesQuery:jsonUtils_n(_,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:jsonUtils_n(I,"allowAnonymousToQuery",!0),supportsQueryByOthers:jsonUtils_n(I,"allowOthersToQuery",!0),supportsHistoricMoment:jsonUtils_n(w,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:E&&x.has("pbf"),supportsDisjointSpatialRelationship:jsonUtils_n(_,"supportsDisjointSpatialRel",!1),supportsCacheHint:jsonUtils_n(_,"supportsQueryWithCacheHint",!1)||u(_,"query"),supportsDefaultSpatialReference:jsonUtils_n(_,"supportsDefaultSR",!1),supportsCompactGeometry:M,supportsFullTextSearch:jsonUtils_n(_,"supportsFullTextSearch",!1),maxRecordCountFactor:r(p,"maxRecordCountFactor",void 0),maxRecordCount:r(p,"maxRecordCount",void 0),standardMaxRecordCount:r(p,"standardMaxRecordCount",void 0),tileMaxRecordCount:r(p,"tileMaxRecordCount",void 0)}}function m(p){const v=p.advancedQueryCapabilities,b=jsonUtils_n(v,"supportsAdvancedQueryRelated",!1);return{supportsPagination:jsonUtils_n(v,"supportsQueryRelatedPagination",!1),supportsCount:b,supportsOrderBy:b,supportsCacheHint:u(v,"queryRelated")}}function C(p){return{supportsCacheHint:u(p.advancedQueryCapabilities,"queryTopFilter")}}function h(p){const v=p.ownershipBasedAccessControlForFeatures,b=p?p.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:jsonUtils_n(p,"allowGeometryUpdates",!0),supportsGlobalId:jsonUtils_n(p,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:jsonUtils_n(p,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:jsonUtils_n(p,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:jsonUtils_n(p,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:jsonUtils_n(p,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:jsonUtils_n(v,"allowAnonymousToDelete",!0),supportsDeleteByOthers:jsonUtils_n(v,"allowOthersToDelete",!0),supportsUpdateByAnonymous:jsonUtils_n(v,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:jsonUtils_n(v,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:jsonUtils_n(b,"supportsAsyncApplyEdits",!1),zDefault:r(p,"zDefault",void 0)}}},60003:(p,v,b)=>{b.d(v,{Sk:()=>n,Zx:()=>e,_X:()=>o});var g=b(57532);function e(p,v,b){const g=v.flatten((p=>{let{sublayers:v}=p;return v})).length;return g!==p.length||(!!p.some((p=>p.originIdOf("minScale")>b||p.originIdOf("maxScale")>b||p.originIdOf("renderer")>b||p.originIdOf("labelingInfo")>b||p.originIdOf("opacity")>b||p.originIdOf("labelsVisible")>b||p.originIdOf("source")>b))||!i(p,v))}function n(p,v,b){return!!p.some((p=>{const v=p.source;return!(!v||"map-layer"===v.type&&v.mapLayerId===p.id&&(null==v.gdbVersion||v.gdbVersion===b))||p.originIdOf("renderer")>g.Gr.SERVICE||p.originIdOf("labelingInfo")>g.Gr.SERVICE||p.originIdOf("opacity")>g.Gr.SERVICE||p.originIdOf("labelsVisible")>g.Gr.SERVICE}))||!i(p,v)}function i(p,v){if(null===p||void 0===p||!p.length||null==v)return!0;const b=v.slice().reverse().flatten((p=>{let{sublayers:v}=p;return v&&v.toArray().reverse()})).map((p=>p.id)).toArray();if(p.length>b.length)return!1;let g=0;const S=b.length;for(const{id:_}of p){for(;g<S&&b[g]!==_;)g++;if(g>=S)return!1}return!0}function o(p){return!!p&&p.some((p=>{var v;return null!=p.minScale||null!=(null===(v=p.layerDefinition)||void 0===v?void 0:v.minScale)}))}},34127:(p,v,b)=>{b.d(v,{q:()=>t});var g=b(8641);function t(p,v,b){if(null===b||void 0===b||!b.features||!b.hasZ)return;const S=(0,g.N)(b.geometryType,v,p.outSpatialReference);if(null!=S)for(const g of b.features)S(g.geometry)}}}]);
//# sourceMappingURL=2035.2ac88fc5.chunk.js.map