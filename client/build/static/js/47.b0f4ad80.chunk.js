"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[47],{29304:(e,t,o)=>{o.d(t,{Fe:()=>I,Km:()=>l,Nk:()=>C});var r=o(22123),i=o(3067);function l(e,t,o,r){if(e)if("CIMTextSymbol"!==e.type){if(o&&e.effects)for(const o of e.effects)y(o,t);if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case"CIMPictureMarker":case"CIMVectorMarker":m(o,t,r);break;case"CIMPictureStroke":case"CIMSolidStroke":(null===r||void 0===r||!r.preserveOutlineWidth)&&o.width&&(o.width*=t);break;case"CIMPictureFill":o.height&&(o.height*=t),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t);break;case"CIMHatchFill":l(o.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t),o.separation&&(o.separation*=t)}}else null!=e.height&&(e.height*=t)}function m(e,t,o){if(e&&(e.markerPlacement&&function M(e,t){switch((0,i.zr)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||l(r.symbol,t,!0,o)}function y(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const o=e.dashTemplate.map((e=>e*t));e.dashTemplate=o}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function C(e){const t=[];return u((0,i.lW)(e),t),t.length?new r.A((0,i.e6)(t[0])):null}function u(e,t){var o,r;if(!e)return;let a;a="CIMTextSymbol"===e.type?e.symbol:e;const s="CIMPolygonSymbol"===e.type;if(null!==(o=a)&&void 0!==o&&o.symbolLayers)for(const c of a.symbolLayers)if(!(c.colorLocked||s&&((0,i.mA)(c)||(0,i.MM)(c)&&c.markerPlacement&&(0,i.zr)(c.markerPlacement))))switch(c.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":c.tintColor&&b(t,c.tintColor);break;case"CIMVectorMarker":null===(r=c.markerGraphics)||void 0===r||r.forEach((e=>{u(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":b(t,c.color);break;case"CIMHatchFill":u(c.lineSymbol,t)}}function b(e,t){for(const o of e)if(o.join(".")===t.join("."))return;e.push(t)}function I(e,t,o){t instanceof r.A||(t=new r.A(t));const a=(0,i.lW)(e);a&&k(a,t,o)}function k(e,t,o){var r,a,s;if(!e)return;let c;c="CIMTextSymbol"===e.type?e.symbol:e;const P="CIMPolygonSymbol"===(null===(r=c)||void 0===r?void 0:r.type);if(null!==(a=c)&&void 0!==a&&a.symbolLayers)for(const A of c.symbolLayers){if(A.colorLocked)continue;if(P)if(o){const{layersToColor:e}=o;if(((0,i.mA)(A)||(0,i.MM)(A)&&A.markerPlacement&&(0,i.zr)(A.markerPlacement))&&"fill"===e||(0,i.jn)(A)&&"outline"===e)continue}else if((0,i.mA)(A)||(0,i.MM)(A)&&A.markerPlacement&&(0,i.zr)(A.markerPlacement))continue;const e=t.toArray();switch(A.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":A.tintColor=e;break;case"CIMVectorMarker":null===(s=A.markerGraphics)||void 0===s||s.forEach((e=>{k(e.symbol,t,o)}));break;case"CIMSolidStroke":case"CIMSolidFill":A.color=e;break;case"CIMHatchFill":k(A.lineSymbol,t,o)}}}},34120:(e,t,o)=>{o.d(t,{$4:()=>y,O0:()=>g,O1:()=>_,Sw:()=>V,eH:()=>u,rc:()=>f});var r=o(14795),i=o(22123),a=o(53705),s=o(20585),c=o(62555),P=o(29304);const A="picture-fill",G="simple-fill",T="simple-line",X="simple-marker",Y="text",W="cim",F=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),$=new s.q(1e3);function u(e){const t=e.style;let o=null;if(e)switch(e.type){case X:"cross"!==t&&"x"!==t&&(o=e.color);break;case G:t&&"solid"!==t?"none"!==t&&(o={type:"pattern",x:0,y:0,src:(0,r.s)("esri/symbols/patterns/".concat(t,".png")),width:5,height:5}):o=e.color;break;case A:o={type:"pattern",src:e.url,width:(0,c.Lz)(e.width)*e.xscale,height:(0,c.Lz)(e.height)*e.yscale,x:(0,c.Lz)(e.xoffset),y:(0,c.Lz)(e.yoffset)};break;case Y:o=e.color;break;case W:o=(0,P.Nk)(e)}return o}function f(e,t){const o=e+"-"+t;return void 0!==$.get(o)?Promise.resolve($.get(o)):(0,a.A)(e,{responseType:"image"}).then((e=>{const r=e.data,i=r.naturalWidth,a=r.naturalHeight,s=document.createElement("canvas");s.width=i,s.height=a;const c=s.getContext("2d");c.fillStyle=t,c.fillRect(0,0,i,a),c.globalCompositeOperation="destination-in",c.drawImage(r,0,0);const P=s.toDataURL();return $.put(o,P),P}))}function y(e){if(!e)return null;let t=null;switch(e.type){case G:case A:case X:t=y(e.outline);break;case T:{const o=(0,c.Lz)(e.width);null!=e.style&&"none"!==e.style&&0!==o&&(t={color:e.color,style:_(e.style),width:o,cap:e.cap,join:"miter"===e.join?(0,c.Lz)(e.miterLimit):e.join},t.dashArray=g(t).join(",")||"none");break}default:t=null}return t}function g(e){if(null===e||void 0===e||!e.style)return[];const{dashArray:t,style:o,width:r}=e;if("string"==typeof t&&"none"!==t)return t.split(",").map((e=>Number(e)));const i=null!==r&&void 0!==r?r:0,a=F.has(o)?F.get(o).map((e=>e*i)):[];if("butt"!==e.cap)for(const[s,c]of a.entries())a[s]=s%2==1?c+i:Math.max(c-i,1);return a}const _=(()=>{const e={};return t=>{if(e[t])return e[t];const o=t.replaceAll("-","");return e[t]=o,o}})(),V=new i.A([128,128,128])},80047:(e,t,o)=>{o.d(t,{$d:()=>y,GG:()=>D,N7:()=>p,Sx:()=>h,UQ:()=>R,di:()=>I,dt:()=>g,f3:()=>J,k_:()=>m,yG:()=>N});var r=o(22123),i=o(21343),a=o(87149),s=(o(50886),o(62555)),c=o(83800),P=o(53385),A=o(29304),G=o(34120),T=o(54738);const X=new r.A("white");function m(e){var t;if(!e)return 0;if((0,i.wk)(e)){const t=function f(e){var t,o;const r=null===(t=e.symbolLayers)||void 0===t?void 0:t.at(-1);if(r&&"outline"in r)return null===r||void 0===r||null===(o=r.outline)||void 0===o?void 0:o.size}(e);return null!=t?t:0}return(0,s.PN)(null===(t=(0,G.$4)(e))||void 0===t?void 0:t.width)}function y(e){if(null==e||!("symbolLayers"in e)||null==e.symbolLayers)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((e=>"object"===e.type));case"line-3d":return e.symbolLayers.some((e=>"path"===e.type));case"polygon-3d":return e.symbolLayers.some((e=>"object"===e.type||"extrude"===e.type));default:return!1}}function p(e){var t,o;return null!==(t=null===(o=e.resource)||void 0===o?void 0:o.href)&&void 0!==t?t:""}function h(e,t){if(!e)return null;let o=null;return(0,i.wk)(e)?o=function b(e){const t=e.symbolLayers;if(!t)return null;let o=null;return t.forEach((e=>{var t;"object"===e.type&&(null===(t=e.resource)||void 0===t?void 0:t.href)||(o="water"===e.type?e.color:e.material?e.material.color:null)})),o?new r.A(o):null}(e):(0,i.$y)(e)&&(o="cim"===e.type?(0,A.Nk)(e):e.color?new r.A(e.color):null),o?w(o,t):null}function w(e,t){if(null==t||null==e)return e;const o=e.toRgba();return o[3]=o[3]*t,new r.A(o)}function g(e,t,o){e&&(t||null!=o)&&(t&&(t=new r.A(t)),(0,i.wk)(e)?function d(e,t,o){const r=e.symbolLayers;if(!r)return;const n=e=>{var r,i;return w(t=null!==(r=null!==(i=t)&&void 0!==i?i:e)&&void 0!==r?r:null!=o?X:null,o)};r.forEach((e=>{var r;if("object"!==e.type||null===(r=e.resource)||void 0===r||!r.href||t)if("water"===e.type)e.color=n(e.color);else{var i;const t=null!=e.material?e.material.color:null,r=n(t);null==e.material?e.material=new T.N({color:r}):e.material.color=r,null!=o&&"outline"in e&&null!=(null===(i=e.outline)||void 0===i?void 0:i.color)&&(e.outline.color=w(e.outline.color,o))}}))}(e,t,o):(0,i.$y)(e)&&function j(e,t,o){var r,i;(t=null!==(r=t)&&void 0!==r?r:e.color)&&(e.color=w(t,o)),null!=o&&"outline"in e&&(null===(i=e.outline)||void 0===i?void 0:i.color)&&(e.outline.color=w(e.outline.color,o))}(e,t,o))}async function k(e,t){const r=e.symbolLayers;r&&await(0,a.jJ)(r,(async e=>async function L(e,t){switch(e.type){case"extrude":!function x(e,t){e.size="number"==typeof t[2]?t[2]:0}(e,t);break;case"icon":case"line":case"text":!function z(e,t){const o=S(t);null!=o&&(e.size=o)}(e,t);break;case"path":!function v(e,t){const o=E(t,c.Un,[e.width,void 0,e.height]);e.width=M(t[0],e.width,1,o),e.height=M(t[2],e.height,1,o)}(e,t);break;case"object":await async function U(e,t){const{resourceSize:r,symbolSize:i}=await async function C(e){const{computeObjectLayerResourceSize:t}=await o.e(7822).then(o.bind(o,47822)),r=await t(e,10),{width:i,height:a,depth:s}=e,c=[i,s,a];let P=1;for(let o=0;o<3;o++){const e=c[o];if(null!=e){P=e/r[o];break}}for(let o=0;o<3;o++)null==c[o]&&(c[o]=r[o]*P);return{resourceSize:r,symbolSize:c}}(e),a=E(t,r,i);e.width=M(t[0],i[0],r[0],a),e.depth=M(t[1],i[1],r[1],a),e.height=M(t[2],i[2],r[2],a)}(e,t)}}(e,t)))}function S(e){for(const t of e)if("number"==typeof t)return t;return null}function E(e,t,o){for(let r=0;r<3;r++){const i=e[r];switch(i){case"symbol-value":{const e=o[r];return null!=e?e/t[r]:1}case"proportional":break;default:if(i&&t[r])return i/t[r]}}return 1}function M(e,t,o,r){switch(e){case"proportional":return o*r;case"symbol-value":return null!=t?t:o;default:return e}}async function R(e,t){if(e&&t)return(0,i.wk)(e)?k(e,t):void((0,i.$y)(e)&&function O(e,t){const o=S(t);if(null!=o)switch(e.type){case"simple-marker":e.size=o;break;case"picture-marker":{const t=e.width/e.height;t>1?(e.width=o,e.height=o*t):(e.width=o*t,e.height=o);break}case"simple-line":e.width=o;break;case"text":e.font.size=o}}(e,t))}function D(e,t,o){if(e&&null!=t)if((0,i.wk)(e)){const r=e.symbolLayers;r&&r.forEach((e=>{var r,i,a;if(e&&"object"===e.type)switch(o){case"tilt":e.tilt=(null!==(r=e.tilt)&&void 0!==r?r:0)+t;break;case"roll":e.roll=(null!==(i=e.roll)&&void 0!==i?i:0)+t;break;default:e.heading=(null!==(a=e.heading)&&void 0!==a?a:0)+t}}))}else(0,i.$y)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle+=t))}function I(e){if(!e)return null;const t=e.effects.filter((e=>"bloom"!==e.type)).map((e=>e.toJSON()));return(0,P.zu)(t)}function J(e){return null!=e&&"polygon-3d"===e.type&&e.symbolLayers.some((e=>"extrude"===e.type))}async function N(e,t){return await e.fetchSymbol(t)||e.fetchCIMSymbol(t)}}}]);
//# sourceMappingURL=47.b0f4ad80.chunk.js.map