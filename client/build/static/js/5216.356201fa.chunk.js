"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[5216],{9301:(s,a,d)=>{d.d(a,{A:()=>R});var c=d(80671),v=d(18763),f=d(16842),g=d(88706),h=d(16904),m=d(83375),_=d(57453),M=(d(50886),d(89412),d(68682));let A=0,E=class extends((0,m.Te)((0,g.O)((0,h.sA)(v.A)))){constructor(s){super(s),this.id="".concat(Date.now().toString(16),"-analysis-").concat(A++),this.title=null}get parent(){return this._get("parent")}set parent(s){const a=this.parent;if(null!=a)switch(a.type){case"line-of-sight":case"dimension":a.releaseAnalysis(this);break;case"2d":case"3d":a.analyses.includes(this)&&a.analyses.remove(this)}this._set("parent",s)}get isEditable(){return this.requiredPropertiesForEditing.every(f.Ru)}};(0,c._)([(0,_.MZ)({type:String,constructOnly:!0,clonable:!1})],E.prototype,"id",void 0),(0,c._)([(0,_.MZ)({type:String})],E.prototype,"title",void 0),(0,c._)([(0,_.MZ)({clonable:!1,value:null})],E.prototype,"parent",null),(0,c._)([(0,_.MZ)({readOnly:!0})],E.prototype,"isEditable",null),E=(0,c._)([(0,M.$)("esri.analysis.Analysis")],E);const R=E},73602:(s,a,d)=>{d.d(a,{P:()=>j});var c=d(4180),v=d(52482),f=d(37531),g=d(4270),h=d(51523),m=d(76402),_=d(57532),M=d(57453),A=d(28330),E=d(85173);function j(s){var a;const d=null!==(a=null===s||void 0===s?void 0:s.origins)&&void 0!==a?a:[void 0];return(a,c)=>{const v=function U(s,a,d){var c;if("resource"===(null===s||void 0===s?void 0:s.type))return function w(s,a,d){const c=(0,m.z4)(a,d);return{type:String,read:(s,a,d)=>{const v=(0,E.r)(s,a,d);return c.type===String?v:"function"==typeof c.type?new c.type({url:v}):void 0},write:{writer(a,v,h,m){if(null===m||void 0===m||!m.resources)return"string"==typeof a?void(v[h]=(0,E.t)(a,m)):void(v[h]=a.write({},m));const M=function x(s){return null==s?null:"string"==typeof s?s:s.url}(a),R=(0,E.t)(M,{...m,verifyItemRelativeUrls:null!==m&&void 0!==m&&m.verifyItemRelativeUrls?{writtenUrls:m.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},E.M.NO),z=c.type!==String&&(!(0,f.H)(this)||(null===m||void 0===m?void 0:m.origin)&&this.originIdOf(d)>(0,_.aB)(m.origin)),F={object:this,propertyName:d,value:a,targetUrl:R,dest:v,targetPropertyName:h,context:m,params:s};null!==m&&void 0!==m&&m.portalItem&&R&&!(0,g.oP)(R)?z&&null!==s&&void 0!==s&&s.contentAddressed?I(F):z?function N(s){var a;const{context:d,targetUrl:c,params:v,value:f,dest:h,targetPropertyName:m}=s;if(!d.portalItem)return;const _=d.portalItem.resourceFromPath(c),M=S(f,c,d),E=(0,A.n)(M),R=(0,g.Zo)(_.path),z=null!==(a=null===v||void 0===v?void 0:v.compress)&&void 0!==a&&a;E===R?(d.resources&&b({...s,resource:_,content:M,compress:z,updates:d.resources.toUpdate}),h[m]=c):I(s)}(F):function P(s){let{context:a,targetUrl:d,dest:c,targetPropertyName:v}=s;a.portalItem&&a.resources&&(a.resources.toKeep.push({resource:a.portalItem.resourceFromPath(d),compress:!1}),c[v]=d)}(F):null!==m&&void 0!==m&&m.portalItem&&(null==R||null!=(0,E.i)(R)||(0,g.w8)(R)||z)?I(F):v[h]=R}}}}(s,a,d);switch(null!==(c=null===s||void 0===s?void 0:s.type)&&void 0!==c?c:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:s,write:a}=E.b;return{read:s,write:a}}}}(s,a,c);for(const s of d){const d=(0,M.rM)(a,s,c);for(const s in v)d[s]=v[s]}}}function I(s){var a,d,f,m;const{targetUrl:_,params:M,value:R,context:z,dest:F,targetPropertyName:L}=s;if(!z.portalItem)return;const C=(0,E.p)(_),T=S(R,_,z);if(null!==M&&void 0!==M&&M.contentAddressed&&"json"!==T.type)return void(null===(a=z.messages)||void 0===a||a.push(new c.A("persistable:contentAddressingUnsupported",'Property "'.concat(L,'" is trying to serializing a resource with content of type ').concat(T.type," with content addressing. Content addressing is only supported for json resources."),{content:T})));const q=null!==M&&void 0!==M&&M.contentAddressed&&"json"===T.type?(0,v.d)(T.jsonString):null!==(d=null===C||void 0===C?void 0:C.filename)&&void 0!==d?d:(0,h.lk)(),k=(0,g.fj)(null!==(f=null===M||void 0===M?void 0:M.prefix)&&void 0!==f?f:null===C||void 0===C?void 0:C.prefix,q),$="".concat(k,".").concat((0,A.n)(T));if(null!==M&&void 0!==M&&M.contentAddressed&&z.resources&&"json"===T.type){var H;const s=null!==(H=z.resources.toKeep.find((s=>{let{resource:a}=s;return a.path===$})))&&void 0!==H?H:z.resources.toAdd.find((s=>{let{resource:a}=s;return a.path===$}));if(s)return void(F[L]=s.resource.itemRelativeUrl)}const B=z.portalItem.resourceFromPath($);(0,g.w8)(_)&&z.resources&&z.resources.pendingOperations.push((0,g.tk)(_).then((s=>{B.path="".concat(k,".").concat((0,A.n)({type:"blob",blob:s})),F[L]=B.itemRelativeUrl})).catch((()=>{})));const D=null!==(m=null===M||void 0===M?void 0:M.compress)&&void 0!==m&&m;z.resources&&b({...s,resource:B,content:T,compress:D,updates:z.resources.toAdd}),F[L]=B.itemRelativeUrl}function b(s){let{object:a,propertyName:d,updates:c,resource:v,content:f,compress:g}=s;c.push({resource:v,content:f,compress:g,finish:s=>{!function O(s,a,d){"string"==typeof s[a]?s[a]=d.url:s[a].url=d.url}(a,d,s)}})}function S(s,a,d){return"string"==typeof s?{type:"url",url:a}:{type:"json",jsonString:JSON.stringify(s.toJSON(d))}}},37531:(s,a,d)=>{function i(s){return s&&"getAtOrigin"in s&&"originOf"in s}d.d(a,{H:()=>i})},95216:(s,a,d)=>{d.r(a),d.d(a,{default:()=>ee});var c=d(80671),v=d(9301);function e(s,a){return t(s)===t(a)}function t(s){if(null==s)return null;const a=null!=s.layer?s.layer.id:"";let d=null;return d=null!=s.objectId?s.objectId:null!=s.layer&&"objectIdField"in s.layer&&null!=s.layer.objectIdField&&null!=s.attributes?s.attributes[s.layer.objectIdField]:s.uid,null==d?null:"o-".concat(a,"-").concat(d)}const f={json:{write:{writer:function r(s,a){var d;null!=(null===s||void 0===s||null===(d=s.layer)||void 0===d?void 0:d.objectIdField)&&null!=s.attributes&&(a.feature={layerId:s.layer.id,objectId:s.attributes[s.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function n(s){if(null!=s.layerId&&null!=s.objectId)return{uid:null,layer:{id:s.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:s.objectId}}}}}}};var g=d(18763),h=d(88706),m=d(83375),_=d(35598),M=d(57453),A=(d(50886),d(89412),d(76761),d(68682)),E=d(73602),R=d(57264),z=d(99533);let F=class extends((0,m.Te)((0,h.O)(g.A))){constructor(s){super(s),this.position=null,this.elevationInfo=null,this.feature=null}equals(s){return(0,_.CM)(this.position,s.position)&&(0,_.CM)(this.elevationInfo,s.elevationInfo)&&e(this.feature,s.feature)}};(0,c._)([(0,M.MZ)({type:R.A,json:{write:{isRequired:!0}}})],F.prototype,"position",void 0),(0,c._)([(0,M.MZ)({type:z.A}),(0,E.P)()],F.prototype,"elevationInfo",void 0),(0,c._)([(0,M.MZ)(f)],F.prototype,"feature",void 0),F=(0,c._)([(0,A.$)("esri.analysis.LineOfSightAnalysisObserver")],F);const L=F;let C=class extends((0,m.Te)(h.P)){constructor(s){super(s),this.position=null,this.elevationInfo=null,this.feature=null}equals(s){return(0,_.CM)(this.position,s.position)&&(0,_.CM)(this.elevationInfo,s.elevationInfo)&&e(this.feature,s.feature)}};(0,c._)([(0,M.MZ)({type:R.A}),(0,E.P)()],C.prototype,"position",void 0),(0,c._)([(0,M.MZ)({type:z.A}),(0,E.P)()],C.prototype,"elevationInfo",void 0),(0,c._)([(0,M.MZ)(f)],C.prototype,"feature",void 0),C=(0,c._)([(0,A.$)("esri.analysis.LineOfSightAnalysisTarget")],C);const T=C;var q=d(39652),k=d(86479),$=d(63390),H=d(54208),B=d(21374),D=d(89722);const J=q.A.ofType(T);let K=class extends v.A{constructor(s){super(s),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,$.wB)((()=>this._computeExtent()),(s=>{null==(null===s||void 0===s?void 0:s.pending)&&this._set("extent",null!=s?s.extent:null)}),$.pc))}get targets(){return this._get("targets")||new J}set targets(s){this._set("targets",(0,k.V)(s,this.targets,J))}get spatialReference(){var s;return null!=(null===(s=this.observer)||void 0===s?void 0:s.position)?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){var s;return[null===(s=this.observer)||void 0===s?void 0:s.position]}async waitComputeExtent(){const s=this._computeExtent();return null!=s?s.pending:Promise.resolve()}_computeExtent(){var s;const a=this.spatialReference;if(null==(null===(s=this.observer)||void 0===s?void 0:s.position)||null==a)return null;const e=s=>"absolute-height"===(0,D.w7)(s.position,s.elevationInfo),d=this.observer.position,c=(0,B.fA)(d.x,d.y,d.z,d.x,d.y,d.z);for(const f of this.targets)if(null!=f.position){const s=(0,H.projectOrLoad)(f.position,a);if(null!=s.pending)return{pending:s.pending,extent:null};if(null!=s.geometry){const{x:a,y:d,z:v}=s.geometry;(0,B.iT)(c,[a,d,v])}}const v=(0,B.w1)(c,a);return e(this.observer)&&this.targets.every(e)||(v.zmin=void 0,v.zmax=void 0),{pending:null,extent:v}}clear(){this.observer=null,this.targets.removeAll()}};(0,c._)([(0,M.MZ)({type:["line-of-sight"]})],K.prototype,"type",void 0),(0,c._)([(0,M.MZ)({type:L,json:{read:!0,write:!0}})],K.prototype,"observer",void 0),(0,c._)([(0,M.MZ)({cast:k.H,type:J,nonNullable:!0,json:{read:!0,write:!0}})],K.prototype,"targets",null),(0,c._)([(0,M.MZ)({value:null,readOnly:!0})],K.prototype,"extent",void 0),(0,c._)([(0,M.MZ)({readOnly:!0})],K.prototype,"spatialReference",null),(0,c._)([(0,M.MZ)({readOnly:!0})],K.prototype,"requiredPropertiesForEditing",null),K=(0,c._)([(0,A.$)("esri.analysis.LineOfSightAnalysis")],K);const V=K;var W=d(13132),X=d(78658),G=d(1921);const Q=q.A.ofType(T);let Y=class extends((0,G.q)((0,W.P)(X.A))){constructor(s){super(s),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new V,this.opacity=1}initialize(){this.addHandles((0,$.wB)((()=>this.analysis),((s,a)=>{null!=a&&a.parent===this&&(a.parent=null),null!=s&&(s.parent=this)}),$.pc))}async load(){return null!=this.analysis&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){var s;return null===(s=this.analysis)||void 0===s?void 0:s.observer}set observer(s){const{analysis:a}=this;a&&(a.observer=s)}get targets(){return null!=this.analysis?this.analysis.targets:new q.A}set targets(s){var a;(0,k.V)(s,null===(a=this.analysis)||void 0===a?void 0:a.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(s){this.analysis===s&&(this.analysis=new V)}};(0,c._)([(0,M.MZ)({json:{read:!1},readOnly:!0})],Y.prototype,"type",void 0),(0,c._)([(0,M.MZ)({type:["LineOfSightLayer"]})],Y.prototype,"operationalLayerType",void 0),(0,c._)([(0,M.MZ)({type:L,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],Y.prototype,"observer",null),(0,c._)([(0,M.MZ)({type:Q,json:{read:!0,write:{ignoreOrigin:!0}}})],Y.prototype,"targets",null),(0,c._)([(0,M.MZ)({nonNullable:!0,json:{read:!1,write:!1}})],Y.prototype,"analysis",void 0),(0,c._)([(0,M.MZ)({readOnly:!0})],Y.prototype,"fullExtent",null),(0,c._)([(0,M.MZ)({readOnly:!0})],Y.prototype,"spatialReference",null),(0,c._)([(0,M.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],Y.prototype,"opacity",void 0),(0,c._)([(0,M.MZ)({type:["show","hide"]})],Y.prototype,"listMode",void 0),Y=(0,c._)([(0,A.$)("esri.layers.LineOfSightLayer")],Y);const ee=Y},28330:(s,a,d)=>{d.d(a,{n:()=>p});var c=d(4270);function p(s){return v[function t(s){return"json"===s.type?"application/json":"blob"===s.type?s.blob.type:function n(s){const a=(0,c.Zo)(s);return h[a]||f}(s.url)}(s)]||g}const v={},f="text/plain",g=v[f],h={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const m in h)v[h[m]]=m},89722:(s,a,d)=>{d.d(a,{$7:()=>y,B:()=>x,XF:()=>I,tW:()=>Z,w7:()=>i,ze:()=>l});d(49049),d(2001);function o(s){return s?c:v}function i(s,a){return function r(s,a){return null!==a&&void 0!==a&&a.mode?a.mode:o(s).mode}(null!=s&&s.hasZ,a)}function l(s,a){return function u(s,a){return null!=a?a:o(s)}(null!=s&&!!s.hasZ,a)}function x(s,a,d){return d&&d.mode!==a?"".concat(s," only support ").concat(a," elevation mode"):null}function y(s,a,d){return(null===d||void 0===d?void 0:d.mode)===a?"".concat(s," do not support ").concat(a," elevation mode"):null}function Z(s,a){return null!=(null===a||void 0===a?void 0:a.featureExpressionInfo)&&"0"!==a.featureExpressionInfo.expression?"".concat(s," do not support featureExpressionInfo"):null}function I(s,a){a&&s.warn(".elevationInfo=",a)}const c={mode:"absolute-height",offset:0},v={mode:"on-the-ground",offset:null}}}]);
//# sourceMappingURL=5216.356201fa.chunk.js.map