"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[4784],{98504:(g,v,R)=>{R.d(v,{a:()=>r,b:()=>n,c:()=>f,d:()=>e,e:()=>a,f:()=>o,n:()=>s,s:()=>u,t:()=>i});R(50886);var M=R(52618);function e(g,v,R){r(g.typedBuffer,v.typedBuffer,R,g.typedBufferStride,v.typedBufferStride)}function r(g,v,R){let M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M;if(g.length/M!==Math.ceil(v.length/x))return g;const B=g.length/M,N=R[0],O=R[1],C=R[2],U=R[4],F=R[5],P=R[6],D=R[8],T=R[9],V=R[10],k=R[12],J=R[13],H=R[14];let Y=0,z=0;for(let G=0;G<B;G++){const R=v[Y],B=v[Y+1],G=v[Y+2];g[z]=N*R+U*B+D*G+k,g[z+1]=O*R+F*B+T*G+J,g[z+2]=C*R+P*B+V*G+H,Y+=x,z+=M}return g}function f(g,v,R){n(g.typedBuffer,v.typedBuffer,R,g.typedBufferStride,v.typedBufferStride)}function n(g,v,R){let x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,B=arguments.length>4&&void 0!==arguments[4]?arguments[4]:x;if(g.length/x!==Math.ceil(v.length/B))return void(0,M.j)().error("source and destination buffers need to have the same number of elements");const N=g.length/x,O=R[0],C=R[1],U=R[2],F=R[3],P=R[4],D=R[5],T=R[6],V=R[7],k=R[8];let J=0,H=0;for(let M=0;M<N;M++){const R=v[J],M=v[J+1],N=v[J+2];g[H]=O*R+F*M+T*N,g[H+1]=C*R+P*M+V*N,g[H+2]=U*R+D*M+k*N,J+=B,H+=x}}function o(g,v,R){u(g.typedBuffer,v,R,g.typedBufferStride)}function u(g,v,R){let M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;const x=Math.min(g.length/M,v.count),B=v.typedBuffer,N=v.typedBufferStride;let O=0,C=0;for(let U=0;U<x;U++)g[C]=R*B[O],g[C+1]=R*B[O+1],g[C+2]=R*B[O+2],O+=N,C+=M}function i(g,v,R){let M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M;const B=g.length/M;if(B!==Math.ceil(v.length/x))return g;let N=0,O=0;for(let C=0;C<B;C++)g[O]=v[N]+R[0],g[O+1]=v[N+1]+R[1],g[O+2]=v[N+2]+R[2],N+=x,O+=M;return g}function a(g,v){s(g.typedBuffer,v.typedBuffer,g.typedBufferStride,v.typedBufferStride)}function s(g,v){let R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R;const x=Math.min(g.length/R,v.length/M);let B=0,N=0;for(let O=0;O<x;O++){const x=v[B],O=v[B+1],C=v[B+2],U=x*x+O*O+C*C;if(U>0){const v=1/Math.sqrt(U);g[N]=v*x,g[N+1]=v*O,g[N+2]=v*C}B+=M,N+=R}}Object.freeze(Object.defineProperty({__proto__:null,normalize:s,normalizeView:a,scale:u,scaleView:o,shiftRight:function d(g,v,R){const M=Math.min(g.count,v.count),x=g.typedBuffer,B=g.typedBufferStride,N=v.typedBuffer,O=v.typedBufferStride;let C=0,U=0;for(let F=0;F<M;F++)x[U]=N[C]>>R,x[U+1]=N[C+1]>>R,x[U+2]=N[C+2]>>R,C+=O,U+=B},transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:e,translate:i},Symbol.toStringTag,{value:"Module"}))},39783:(g,v,R)=>{R.d(v,{Ns:()=>y,jh:()=>t,l5:()=>a,s:()=>o,xm:()=>e});var M=R(49905);function t(g){let v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g<=M.y9?v?new Array(g).fill(0):new Array(g):new Float64Array(g)}function e(g){return((0,M.cy)(g)?g.length:g.byteLength/8)<=M.y9?Array.from(g):new Float64Array(g)}function a(g,v,R){return Array.isArray(g)?g.slice(v,v+R):g.subarray(v,v+R)}function o(g,v){for(let R=0;R<v.length;++R)g[R]=v[R];return g}function y(g){return Array.isArray(g)?new Float64Array(g):g}},75478:(g,v,R)=>{R.d(v,{A:()=>F});var M=R(80671),x=R(88706),B=R(83375),N=R(57453),O=(R(50886),R(89412),R(76761),R(99825)),C=R(68682);let U=class extends((0,x.O)(B.oY)){constructor(g){super(g),this.type="georeferenced",this.origin=null}};(0,M._)([(0,O.e)({georeferenced:"georeferenced"},{readOnly:!0})],U.prototype,"type",void 0),(0,M._)([(0,N.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],U.prototype,"origin",void 0),U=(0,M._)([(0,C.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],U);const F=U},49837:(g,v,R)=>{R.d(v,{A:()=>P});var M=R(80671),x=R(88706),B=R(83375),N=R(57453),O=(R(50886),R(89412),R(76761),R(99825)),C=R(68682),U=R(83800);let F=class extends((0,x.O)(B.oY)){constructor(g){super(g),this.type="local",this.origin=(0,U.vt)()}};(0,M._)([(0,O.e)({local:"local"},{readOnly:!0})],F.prototype,"type",void 0),(0,M._)([(0,N.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],F.prototype,"origin",void 0),F=(0,M._)([(0,C.$)("esri.geometry.support.MeshLocalVertexSpace")],F);const P=F},52618:(g,v,R)=>{R.d(v,{j:()=>e});var M=R(89412);const e=()=>M.A.getLogger("esri.views.3d.support.buffer.math")},29405:(g,v,R)=>{var M,x;R.d(v,{D:()=>x,f:()=>M}),function(g){g[g.None=0]="None",g[g.Int16=1]="Int16",g[g.Int32=2]="Int32"}(M||(M={})),function(g){g[g.Replace=0]="Replace",g[g.Outside=1]="Outside",g[g.Inside=2]="Inside",g[g.Finished=3]="Finished"}(x||(x={}))},14784:(g,v,R)=>{R.r(v),R.d(v,{destroyContext:()=>b,dracoDecompressPointCloudData:()=>l,filterObbsForModifications:()=>u,filterObbsForModificationsSync:()=>L,initialize:()=>j,interpretObbModificationResults:()=>A,process:()=>c,project:()=>p,setLegacySchema:()=>y,setModifications:()=>m,setModificationsSync:()=>w,test:()=>V,transformNormals:()=>d});var M=R(98664),x=R(39783),B=R(75478),N=R(49837),O=R(98504),C=R(29405),U=R(14795);function i(g){return(0,U.s)("esri/libs/i3s/".concat(g))}let F;var P=R(65791);async function c(g){T=await _();const v=[g.geometryBuffer];return{result:E(T,g,v),transferList:v}}async function l(g){var v;T=await _();const R=[g.geometryBuffer],{geometryBuffer:M}=g,x=M.byteLength,B=T._malloc(x),N=new Uint8Array(T.HEAPU8.buffer,B,x);N.set(new Uint8Array(M));const O=T.dracoDecompressPointCloudData(B,N.byteLength);if(T._free(B),O.error.length>0)throw new Error("i3s.wasm: ".concat(O.error));const C=(null===(v=O.featureIds)||void 0===v?void 0:v.length)>0?O.featureIds.slice():null,U=O.positions.slice();return C&&R.push(C.buffer),R.push(U.buffer),{result:{positions:U,featureIds:C},transferList:R}}async function u(g){await _(),L(g);const v={buffer:g.buffer};return{result:v,transferList:[v.buffer]}}async function m(g){await _(),w(g)}async function y(g){T=await _(),T.setLegacySchema(g.context,g.jsonSchema)}async function p(g){const{localMatrix:v,origin:O,positions:C,vertexSpace:U,localMode:F}=g,P=M.A.fromJSON(g.inSpatialReference),D=M.A.fromJSON(g.outSpatialReference);let T;if("georeferenced"===U.type&&null==U.origin){const[{projectBuffer:g},{initializeProjection:v}]=await Promise.all([Promise.resolve().then(R.bind(R,33876)),Promise.resolve().then(R.bind(R,54208))]);await v(P,D),T=new Float64Array(C.length),g(C,P,0,T,D,0,T.length/3)}else{const g="georeferenced"===U.type?B.A.fromJSON(U):N.A.fromJSON(U),{project:M}=await Promise.all([R.e(9278),R.e(148)]).then(R.bind(R,20148));T=(0,x.Ns)(M({positions:C,transform:v?{localMatrix:v}:void 0,vertexSpace:g,inSpatialReference:P,outSpatialReference:D,localMode:F}))}const V=T.length,[k,J,H]=O;for(let R=0;R<V;R+=3)T[R]-=k,T[R+1]-=J,T[R+2]-=H;return{result:{projected:T,original:C},transferList:[T.buffer,C.buffer]}}async function d(g){let{normalMatrix:v,normals:R}=g;const M=new Float32Array(R.length);return(0,O.b)(M,R,v),(0,O.n)(M,M),{result:{transformed:M,original:R},transferList:[M.buffer,R.buffer]}}function b(g){I(g)}let D,T;function w(g){if(!T)return;const v=g.modifications,R=T._malloc(8*v.length),M=new Float64Array(T.HEAPU8.buffer,R,v.length);for(let x=0;x<v.length;++x)M[x]=v[x];T.setModifications(g.context,R,v.length,g.isGeodetic),T._free(R)}function E(g,v,R){const{context:M,localOrigin:x,globalTrafo:B,mbs:N,obbData:O,elevationOffset:U,geometryBuffer:F,geometryDescriptor:P,indexToVertexProjector:D,vertexToRenderProjector:T}=v,V=g._malloc(F.byteLength),k=g._malloc(33*Float64Array.BYTES_PER_ELEMENT),J=new Uint8Array(g.HEAPU8.buffer,V,F.byteLength);J.set(new Uint8Array(F));const H=new Float64Array(g.HEAPU8.buffer,k,33);S(H,x);let Y=H.byteOffset+3*H.BYTES_PER_ELEMENT,z=new Float64Array(H.buffer,Y);S(z,B),Y+=16*H.BYTES_PER_ELEMENT,z=new Float64Array(H.buffer,Y),S(z,N),Y+=4*H.BYTES_PER_ELEMENT,O&&(z=new Float64Array(H.buffer,Y),S(z,O));const G=P,Z={isDraco:!1,isLegacy:!1,color:v.layouts.some((g=>g.some((g=>"color"===g.name)))),normal:v.needNormals&&v.layouts.some((g=>g.some((g=>"normalCompressed"===g.name)))),uv0:v.layouts.some((g=>g.some((g=>"uv0"===g.name)))),uvRegion:v.layouts.some((g=>g.some((g=>"uvRegion"===g.name)))),featureIndex:G.featureIndex},$=g.process(M,!!v.obbData,V,J.byteLength,G,Z,k,U,D,T,v.normalReferenceFrame);if(g._free(k),g._free(V),$.error.length>0)throw new Error("i3s.wasm: ".concat($.error));if($.discarded)return null;const q=$.componentOffsets.length>0?$.componentOffsets.slice():null,Q=$.featureIds.length>0?$.featureIds.slice():null,W=$.anchorIds.length>0?Array.from($.anchorIds):null,K=$.anchors.length>0?Array.from($.anchors):null,X=$.interleavedVertedData.slice().buffer,ee=$.indicesType===C.f.Int16?new Uint16Array($.indices.buffer,$.indices.byteOffset,$.indices.byteLength/2).slice():new Uint32Array($.indices.buffer,$.indices.byteOffset,$.indices.byteLength/4).slice(),te=$.positions.slice(),ne=$.positionIndicesType===C.f.Int16?new Uint16Array($.positionIndices.buffer,$.positionIndices.byteOffset,$.positionIndices.byteLength/2).slice():new Uint32Array($.positionIndices.buffer,$.positionIndices.byteOffset,$.positionIndices.byteLength/4).slice(),re={layout:v.layouts[0],interleavedVertexData:X,indices:ee,hasColors:$.hasColors,hasModifications:$.hasModifications,positionData:{data:te,indices:ne}};return Q&&R.push(Q.buffer),q&&R.push(q.buffer),R.push(X),R.push(ee.buffer),R.push(te.buffer),R.push(ne.buffer),{componentOffsets:q,featureIds:Q,anchorIds:W,anchors:K,transformedGeometry:re,obb:$.obb}}function A(g){return 0===g?P.Js.Unmodified:1===g?P.Js.PotentiallyModified:2===g?P.Js.Culled:P.Js.Unknown}function L(g){if(!T)return;const{context:v,buffer:R}=g,M=T._malloc(R.byteLength),x=R.byteLength/Float64Array.BYTES_PER_ELEMENT,B=new Float64Array(T.HEAPU8.buffer,M,x),N=new Float64Array(R);B.set(N),T.filterOBBs(v,M,x),N.set(B),T._free(M)}function I(g){T&&0===T.destroy(g)&&(T=null)}function S(g,v){for(let R=0;R<v.length;++R)g[R]=v[R]}async function j(){T||await _()}function _(){return T?Promise.resolve(T):(D||(D=function e(){return F||(F=new Promise((g=>R.e(9570).then(R.bind(R,49570)).then((g=>g.i)).then((v=>{let{default:R}=v;const M=R({locateFile:i,onRuntimeInitialized:()=>g(M)});delete M.then})))).catch((g=>{throw g}))),F}().then((g=>(T=g,D=null,T)))),D)}const V={transform:(g,v)=>T&&E(T,g,v),destroy:I}},65791:(g,v,R)=>{R.d(v,{EG:()=>l,Js:()=>x,TJ:()=>M,UY:()=>O,ay:()=>s,bP:()=>h,cJ:()=>N,iF:()=>B});var M,x,B,N,O,C,U=R(40727),F=R(65174),P=R(72015),D=R(46257);class s extends D.H{constructor(g,v){super(NaN,NaN),this.id=g,this.serviceMbsInIndexSR=v,this.serviceMbsInRenderSR=(0,F.f)(0,0,0,-1)}invalidateServiceBVsInRenderSR(){var g;(0,P.Q7)(this.serviceMbsInRenderSR),null===(g=this.serviceObbInRenderSR)||void 0===g||g.invalidate()}shareServiceBVsInRenderSRWith(g){this.serviceObbInRenderSR=g.serviceObbInRenderSR,this.serviceMbsInRenderSR=g.serviceMbsInRenderSR}}(C=M||(M={}))[C.Unmodified=0]="Unmodified",C[C.Culled=1]="Culled",C[C.NotChecked=2]="NotChecked",function(g){g[g.Unmodified=0]="Unmodified",g[g.PotentiallyModified=1]="PotentiallyModified",g[g.Culled=2]="Culled",g[g.Unknown=3]="Unknown",g[g.NotChecked=4]="NotChecked"}(x||(x={}));class h extends s{constructor(g,v,R,M,N,O,C,F,P,D){super(g,R),this.index=v,this.childCount=M,this.level=N,this.resources=O,this.version=C,this.lodMetric=F,this.maxError=P,this.numFeatures=D,this.failed=!1,this.cacheState=B.Unknown,this.vertexCount=0,this.memory=0,this.childrenLoaded=0,this.hasModifications=!1,this.imModificationImpact=x.NotChecked,this.elevationAgnosticBoundingVolume=(0,U.fA)(0,0,0,-1)}invalidateServiceBVsInRenderSR(){super.invalidateServiceBVsInRenderSR(),this.elevationAgnosticBoundingVolume[3]=-1}}!function(g){g[g.Unknown=0]="Unknown",g[g.Uncached=1]="Uncached",g[g.Cached=2]="Cached"}(B||(B={})),function(g){g[g.None=0]="None",g[g.MaxScreenThreshold=1]="MaxScreenThreshold",g[g.ScreenSpaceRelative=2]="ScreenSpaceRelative",g[g.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",g[g.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(N||(N={})),function(g){g[g.Hole=0]="Hole",g[g.Leaf=1]="Leaf"}(O||(O={}));class l{constructor(g,v,R,M){this.nodeHasLOD=g,this.isChosen=v,this.lodLevel=R,this.version=M}}},46257:(g,v,R)=>{R.d(v,{H:()=>e});class e{constructor(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0;this.elevationRangeMin=g,this.elevationRangeMax=v}get elevationRangeValid(){return!Number.isNaN(this.elevationRangeMin)}invalidateElevationRange(){this.elevationRangeMin=NaN}expandElevationRangeValues(g,v){this.elevationRangeMin=Math.min(this.elevationRangeMin,g),this.elevationRangeMax=Math.max(this.elevationRangeMax,v)}expandElevationRange(g){this.elevationRangeMin=Math.min(this.elevationRangeMin,g.elevationRangeMin),this.elevationRangeMax=Math.max(this.elevationRangeMax,g.elevationRangeMax)}setElevationRange(g){this.elevationRangeMin=g.elevationRangeMin,this.elevationRangeMax=g.elevationRangeMax}}}}]);
//# sourceMappingURL=4784.1152b893.chunk.js.map