"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[9879],{73602:(e,s,a)=>{a.d(s,{P:()=>j});var c=a(4180),d=a(52482),v=a(37531),f=a(4270),m=a(51523),h=a(76402),g=a(57532),_=a(57453),M=a(28330),A=a(85173);function j(e){var s;const a=null!==(s=null===e||void 0===e?void 0:e.origins)&&void 0!==s?s:[void 0];return(s,c)=>{const d=function U(e,s,a){var c;if("resource"===(null===e||void 0===e?void 0:e.type))return function w(e,s,a){const c=(0,h.z4)(s,a);return{type:String,read:(e,s,a)=>{const d=(0,A.r)(e,s,a);return c.type===String?d:"function"==typeof c.type?new c.type({url:d}):void 0},write:{writer(s,d,m,h){if(null===h||void 0===h||!h.resources)return"string"==typeof s?void(d[m]=(0,A.t)(s,h)):void(d[m]=s.write({},h));const _=function x(e){return null==e?null:"string"==typeof e?e:e.url}(s),T=(0,A.t)(_,{...h,verifyItemRelativeUrls:null!==h&&void 0!==h&&h.verifyItemRelativeUrls?{writtenUrls:h.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},A.M.NO),R=c.type!==String&&(!(0,v.H)(this)||(null===h||void 0===h?void 0:h.origin)&&this.originIdOf(a)>(0,g.aB)(h.origin)),F={object:this,propertyName:a,value:s,targetUrl:T,dest:d,targetPropertyName:m,context:h,params:e};null!==h&&void 0!==h&&h.portalItem&&T&&!(0,f.oP)(T)?R&&null!==e&&void 0!==e&&e.contentAddressed?I(F):R?function N(e){var s;const{context:a,targetUrl:c,params:d,value:v,dest:m,targetPropertyName:h}=e;if(!a.portalItem)return;const g=a.portalItem.resourceFromPath(c),_=S(v,c,a),A=(0,M.n)(_),T=(0,f.Zo)(g.path),R=null!==(s=null===d||void 0===d?void 0:d.compress)&&void 0!==s&&s;A===T?(a.resources&&b({...e,resource:g,content:_,compress:R,updates:a.resources.toUpdate}),m[h]=c):I(e)}(F):function P(e){let{context:s,targetUrl:a,dest:c,targetPropertyName:d}=e;s.portalItem&&s.resources&&(s.resources.toKeep.push({resource:s.portalItem.resourceFromPath(a),compress:!1}),c[d]=a)}(F):null!==h&&void 0!==h&&h.portalItem&&(null==T||null!=(0,A.i)(T)||(0,f.w8)(T)||R)?I(F):d[m]=T}}}}(e,s,a);switch(null!==(c=null===e||void 0===e?void 0:e.type)&&void 0!==c?c:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:s}=A.b;return{read:e,write:s}}}}(e,s,c);for(const e of a){const a=(0,_.rM)(s,e,c);for(const e in d)a[e]=d[e]}}}function I(e){var s,a,v,h;const{targetUrl:g,params:_,value:T,context:R,dest:F,targetPropertyName:L}=e;if(!R.portalItem)return;const k=(0,A.p)(g),$=S(T,g,R);if(null!==_&&void 0!==_&&_.contentAddressed&&"json"!==$.type)return void(null===(s=R.messages)||void 0===s||s.push(new c.A("persistable:contentAddressingUnsupported",'Property "'.concat(L,'" is trying to serializing a resource with content of type ').concat($.type," with content addressing. Content addressing is only supported for json resources."),{content:$})));const C=null!==_&&void 0!==_&&_.contentAddressed&&"json"===$.type?(0,d.d)($.jsonString):null!==(a=null===k||void 0===k?void 0:k.filename)&&void 0!==a?a:(0,m.lk)(),D=(0,f.fj)(null!==(v=null===_||void 0===_?void 0:_.prefix)&&void 0!==v?v:null===k||void 0===k?void 0:k.prefix,C),E="".concat(D,".").concat((0,M.n)($));if(null!==_&&void 0!==_&&_.contentAddressed&&R.resources&&"json"===$.type){var Y;const e=null!==(Y=R.resources.toKeep.find((e=>{let{resource:s}=e;return s.path===E})))&&void 0!==Y?Y:R.resources.toAdd.find((e=>{let{resource:s}=e;return s.path===E}));if(e)return void(F[L]=e.resource.itemRelativeUrl)}const z=R.portalItem.resourceFromPath(E);(0,f.w8)(g)&&R.resources&&R.resources.pendingOperations.push((0,f.tk)(g).then((e=>{z.path="".concat(D,".").concat((0,M.n)({type:"blob",blob:e})),F[L]=z.itemRelativeUrl})).catch((()=>{})));const J=null!==(h=null===_||void 0===_?void 0:_.compress)&&void 0!==h&&h;R.resources&&b({...e,resource:z,content:$,compress:J,updates:R.resources.toAdd}),F[L]=z.itemRelativeUrl}function b(e){let{object:s,propertyName:a,updates:c,resource:d,content:v,compress:f}=e;c.push({resource:d,content:v,compress:f,finish:e=>{!function O(e,s,a){"string"==typeof e[s]?e[s]=a.url:e[s].url=a.url}(s,a,e)}})}function S(e,s,a){return"string"==typeof e?{type:"url",url:s}:{type:"json",jsonString:JSON.stringify(e.toJSON(a))}}},99879:(e,s,a)=>{a.r(s),a.d(s,{default:()=>ee});var c,d=a(80671),v=a(4180),f=a(89412),m=a(13132),h=a(81618),g=a(63390),_=a(57453),M=(a(50886),a(76761),a(59299)),A=a(68682),T=a(73602),R=a(78658),F=a(98878),L=a(47478),k=a(21642),$=a(1921),C=a(32465),D=a(38362),E=a(96712),Y=a(32277),z=a(17539),J=a(53705),B=a(39652),K=a(83375),V=a(4270),G=a(63831);let q=c=class extends((0,K.Te)(B.A.ofType(G.A))){constructor(e){super(e),this.url=null}clone(){return new c({url:this.url,items:this.items.map((e=>e.clone()))})}toJSON(e){return this.toArray().map((s=>s.toJSON(e))).filter((e=>!!e.geometry))}static fromJSON(e,s){const a=new c;for(const c of e)a.add(G.A.fromJSON(c,s));return a}static async fromUrl(e,s,a){const d={url:(0,V.An)(e),origin:"service"},v=await(0,J.A)(e,{responseType:"json",signal:null===a||void 0===a?void 0:a.signal}),f=s.toJSON(),m=[];for(const c of v.data)m.push(G.A.fromJSON({...c,geometry:{...c.geometry,spatialReference:f}},d));return new c({url:e,items:m})}};(0,d._)([(0,_.MZ)({type:String})],q.prototype,"url",void 0),q=c=(0,d._)([(0,A.$)("esri.layers.support.SceneModifications")],q);const W=q;var X=a(89722),H=a(85173);let Q=class extends((0,E.w6)((0,L.b)((0,$.q)((0,C.A)((0,D.j)((0,m.P)((0,k.d)((0,F.p)(R.A))))))))){constructor(){super(...arguments),this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.path=null}initialize(){this.addHandles((0,g.on)((()=>this.modifications),"after-changes",(()=>this.modifications=this.modifications),g.OH))}normalizeCtorArgs(e,s){return"string"==typeof e?{url:e,...s}:e}readModifications(e,s,a){this._modificationsSource={url:(0,H.f)(e,a),context:a}}set elevationInfo(e){this._set("elevationInfo",e),this._validateElevationInfo()}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const s=null===e||void 0===e?void 0:e.signal;try{await this.loadFromPortal({supportedTypes:["Scene Service"]},e)}catch(a){(0,h.QP)(a)}if(await this._fetchService(s),null!=this._modificationsSource){const s=await W.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin("modifications",s,this._modificationsSource.context.origin),this._modificationsSource=null}await this._fetchIndexAndUpdateExtent(this.nodePages,s)}beforeSave(){if(null!=this._modificationsSource)return this.load().then((()=>{}),(()=>{}))}async saveAs(e,s){return this._debouncedSaveOperations(E.Xh.SAVE_AS,{...s,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"integrated-mesh"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return this._debouncedSaveOperations(E.Xh.SAVE,e)}validateLayer(e){if(e.layerType&&"IntegratedMesh"!==e.layerType)throw new v.A("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new v.A("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new v.A("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}_validateElevationInfo(){const e=this.elevationInfo,s="Integrated mesh layers";(0,X.XF)(f.A.getLogger(this),(0,X.B)(s,"absolute-height",e)),(0,X.XF)(f.A.getLogger(this),(0,X.tW)(s,e))}};(0,d._)([(0,_.MZ)({type:String,readOnly:!0})],Q.prototype,"geometryType",void 0),(0,d._)([(0,_.MZ)({type:["show","hide"]})],Q.prototype,"listMode",void 0),(0,d._)([(0,_.MZ)({type:["IntegratedMeshLayer"]})],Q.prototype,"operationalLayerType",void 0),(0,d._)([(0,_.MZ)({json:{read:!1},readOnly:!0})],Q.prototype,"type",void 0),(0,d._)([(0,_.MZ)({type:z.W4,readOnly:!0})],Q.prototype,"nodePages",void 0),(0,d._)([(0,_.MZ)({type:[z.uV],readOnly:!0})],Q.prototype,"materialDefinitions",void 0),(0,d._)([(0,_.MZ)({type:[z.Ot],readOnly:!0})],Q.prototype,"textureSetDefinitions",void 0),(0,d._)([(0,_.MZ)({type:[z.L0],readOnly:!0})],Q.prototype,"geometryDefinitions",void 0),(0,d._)([(0,_.MZ)({readOnly:!0})],Q.prototype,"serviceUpdateTimeStamp",void 0),(0,d._)([(0,_.MZ)({type:W}),(0,T.P)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],Q.prototype,"modifications",void 0),(0,d._)([(0,M.w)(["web-scene","portal-item"],"modifications")],Q.prototype,"readModifications",null),(0,d._)([(0,_.MZ)(Y.Yj)],Q.prototype,"elevationInfo",null),(0,d._)([(0,_.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],Q.prototype,"path",void 0),Q=(0,d._)([(0,A.$)("esri.layers.IntegratedMeshLayer")],Q);const ee=Q},17539:(e,s,a)=>{a.d(s,{L0:()=>k,Ot:()=>T,W4:()=>h,uV:()=>M});var c=a(80671),d=a(83375),v=a(57453),f=(a(50886),a(89412),a(76761),a(99825)),m=a(68682);let h=class extends d.oY{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,c._)([(0,v.MZ)({type:Number})],h.prototype,"nodesPerPage",void 0),(0,c._)([(0,v.MZ)({type:Number})],h.prototype,"rootIndex",void 0),(0,c._)([(0,v.MZ)({type:String})],h.prototype,"lodSelectionMetricType",void 0),h=(0,c._)([(0,m.$)("esri.layer.support.I3SNodePageDefinition")],h);let g=class extends d.oY{constructor(){super(...arguments),this.factor=1}};(0,c._)([(0,v.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],g.prototype,"id",void 0),(0,c._)([(0,v.MZ)({type:Number})],g.prototype,"factor",void 0),g=(0,c._)([(0,m.$)("esri.layer.support.I3SMaterialTexture")],g);let _=class extends d.oY{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,c._)([(0,v.MZ)({type:[Number]})],_.prototype,"baseColorFactor",void 0),(0,c._)([(0,v.MZ)({type:g})],_.prototype,"baseColorTexture",void 0),(0,c._)([(0,v.MZ)({type:g})],_.prototype,"metallicRoughnessTexture",void 0),(0,c._)([(0,v.MZ)({type:Number})],_.prototype,"metallicFactor",void 0),(0,c._)([(0,v.MZ)({type:Number})],_.prototype,"roughnessFactor",void 0),_=(0,c._)([(0,m.$)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],_);let M=class extends d.oY{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,c._)([(0,f.e)({opaque:"opaque",mask:"mask",blend:"blend"})],M.prototype,"alphaMode",void 0),(0,c._)([(0,v.MZ)({type:Number})],M.prototype,"alphaCutoff",void 0),(0,c._)([(0,v.MZ)({type:Boolean})],M.prototype,"doubleSided",void 0),(0,c._)([(0,f.e)({none:"none",back:"back",front:"front"})],M.prototype,"cullFace",void 0),(0,c._)([(0,v.MZ)({type:g})],M.prototype,"normalTexture",void 0),(0,c._)([(0,v.MZ)({type:g})],M.prototype,"occlusionTexture",void 0),(0,c._)([(0,v.MZ)({type:g})],M.prototype,"emissiveTexture",void 0),(0,c._)([(0,v.MZ)({type:[Number]})],M.prototype,"emissiveFactor",void 0),(0,c._)([(0,v.MZ)({type:_})],M.prototype,"pbrMetallicRoughness",void 0),M=(0,c._)([(0,m.$)("esri.layer.support.I3SMaterialDefinition")],M);let A=class extends d.oY{};(0,c._)([(0,v.MZ)({type:String,json:{read:{source:["name","index"],reader:(e,s)=>null!=e?e:"".concat(s.index)}}})],A.prototype,"name",void 0),(0,c._)([(0,f.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],A.prototype,"format",void 0),A=(0,c._)([(0,m.$)("esri.layer.support.I3STextureFormat")],A);let T=class extends d.oY{constructor(){super(...arguments),this.atlas=!1}};(0,c._)([(0,v.MZ)({type:[A]})],T.prototype,"formats",void 0),(0,c._)([(0,v.MZ)({type:Boolean})],T.prototype,"atlas",void 0),T=(0,c._)([(0,m.$)("esri.layer.support.I3STextureSetDefinition")],T);let R=class extends d.oY{};(0,c._)([(0,f.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],R.prototype,"type",void 0),(0,c._)([(0,v.MZ)({type:Number})],R.prototype,"component",void 0),R=(0,c._)([(0,m.$)("esri.layer.support.I3SGeometryAttribute")],R);let F=class extends d.oY{};(0,c._)([(0,f.e)({draco:"draco"})],F.prototype,"encoding",void 0),(0,c._)([(0,v.MZ)({type:[String]})],F.prototype,"attributes",void 0),F=(0,c._)([(0,m.$)("esri.layer.support.I3SGeometryCompressedAttributes")],F);let L=class extends d.oY{constructor(){super(...arguments),this.offset=0}};(0,c._)([(0,v.MZ)({type:Number})],L.prototype,"offset",void 0),(0,c._)([(0,v.MZ)({type:R})],L.prototype,"position",void 0),(0,c._)([(0,v.MZ)({type:R})],L.prototype,"normal",void 0),(0,c._)([(0,v.MZ)({type:R})],L.prototype,"uv0",void 0),(0,c._)([(0,v.MZ)({type:R})],L.prototype,"color",void 0),(0,c._)([(0,v.MZ)({type:R})],L.prototype,"uvRegion",void 0),(0,c._)([(0,v.MZ)({type:R})],L.prototype,"featureId",void 0),(0,c._)([(0,v.MZ)({type:R})],L.prototype,"faceRange",void 0),(0,c._)([(0,v.MZ)({type:F})],L.prototype,"compressedAttributes",void 0),L=(0,c._)([(0,m.$)("esri.layer.support.I3SGeometryBuffer")],L);let k=class extends d.oY{};(0,c._)([(0,f.e)({triangle:"triangle"})],k.prototype,"topology",void 0),(0,c._)([(0,v.MZ)()],k.prototype,"geometryBuffers",void 0),k=(0,c._)([(0,m.$)("esri.layer.support.I3SGeometryDefinition")],k)},63831:(e,s,a)=>{a.d(s,{A:()=>F});var c,d=a(80671),v=(a(30174),a(83375)),f=a(66004),m=a(4282),h=a(57453),g=(a(50886),a(89412),a(68682)),_=a(51715),M=a(73602),A=a(54208),T=a(48343);let R=c=class extends v.oY{constructor(e){super(e),this.geometry=null,this.type="clip"}writeGeometry(e,s,a,c){var d;if(null!==(d=c.layer)&&void 0!==d&&d.spatialReference&&!c.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,A.canProjectWithoutEngine)(e.spatialReference,c.layer.spatialReference))return void((null===c||void 0===c?void 0:c.messages)&&c.messages.push(new m.A("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:c.layer.spatialReference,context:c})));const d=new T.A;(0,A.projectPolygon)(e,d,c.layer.spatialReference),s[a]=d.toJSON(c)}else s[a]=e.toJSON(c);delete s[a].spatialReference}clone(){return new c({geometry:(0,f.o8)(this.geometry),type:this.type})}};(0,d._)([(0,h.MZ)({type:T.A}),(0,M.P)()],R.prototype,"geometry",void 0),(0,d._)([(0,_.K)(["web-scene","portal-item"],"geometry")],R.prototype,"writeGeometry",null),(0,d._)([(0,h.MZ)({type:["clip","mask","replace"],nonNullable:!0}),(0,M.P)()],R.prototype,"type",void 0),R=c=(0,d._)([(0,g.$)("esri.layers.support.SceneModification")],R);const F=R},28330:(e,s,a)=>{a.d(s,{n:()=>p});var c=a(4270);function p(e){return d[function t(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:function n(e){const s=(0,c.Zo)(e);return m[s]||v}(e.url)}(e)]||f}const d={},v="text/plain",f=d[v],m={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const h in m)d[m[h]]=h},89722:(e,s,a)=>{a.d(s,{$7:()=>y,B:()=>x,XF:()=>I,tW:()=>Z,w7:()=>i,ze:()=>l});a(49049),a(2001);function o(e){return e?c:d}function i(e,s){return function r(e,s){return null!==s&&void 0!==s&&s.mode?s.mode:o(e).mode}(null!=e&&e.hasZ,s)}function l(e,s){return function u(e,s){return null!=s?s:o(e)}(null!=e&&!!e.hasZ,s)}function x(e,s,a){return a&&a.mode!==s?"".concat(e," only support ").concat(s," elevation mode"):null}function y(e,s,a){return(null===a||void 0===a?void 0:a.mode)===s?"".concat(e," do not support ").concat(s," elevation mode"):null}function Z(e,s){return null!=(null===s||void 0===s?void 0:s.featureExpressionInfo)&&"0"!==s.featureExpressionInfo.expression?"".concat(e," do not support featureExpressionInfo"):null}function I(e,s){s&&e.warn(".elevationInfo=",s)}const c={mode:"absolute-height",offset:0},d={mode:"on-the-ground",offset:null}}}]);
//# sourceMappingURL=9879.91f26a0f.chunk.js.map