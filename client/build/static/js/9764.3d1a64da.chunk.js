"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[9764],{29764:(g,y,b)=>{b.d(y,{isAnimatedPNG:()=>l,parseApng:()=>o});var w,E=b(2155),L=b(81618),F=b(73905),k={exports:{}};w=function(){return function(g){var y={};function r(b){if(y[b])return y[b].exports;var w=y[b]={exports:{},id:b,loaded:!1};return g[b].call(w.exports,w,w.exports,r),w.loaded=!0,w.exports}return r.m=g,r.c=y,r.p="",r(0)}([function(g,y,b){Object.defineProperty(y,"__esModule",{value:!0}),y.isNotPNG=function u(g){return g===L},y.isNotAPNG=function h(g){return g===F},y.default=function c(g){var y=new Uint8Array(g);if(Array.prototype.some.call(k,(function(g,b){return g!==y[b]})))return L;var b=!1;if(f(y,(function(g){return!(b="acTL"===g)})),!b)return F;var w=[],P=[],O=null,x=null,U=0,A=new E.APNG;if(f(y,(function(g,y,b,L){var F=new DataView(y.buffer);switch(g){case"IHDR":O=y.subarray(b+8,b+8+L),A.width=F.getUint32(b+8),A.height=F.getUint32(b+12);break;case"acTL":A.numPlays=F.getUint32(b+8+4);break;case"fcTL":x&&(A.frames.push(x),U++),(x=new E.Frame).width=F.getUint32(b+8+4),x.height=F.getUint32(b+8+8),x.left=F.getUint32(b+8+12),x.top=F.getUint32(b+8+16);var k=F.getUint16(b+8+20),N=F.getUint16(b+8+22);0===N&&(N=100),x.delay=1e3*k/N,x.delay<=10&&(x.delay=100),A.playTime+=x.delay,x.disposeOp=F.getUint8(b+8+24),x.blendOp=F.getUint8(b+8+25),x.dataParts=[],0===U&&2===x.disposeOp&&(x.disposeOp=1);break;case"fdAT":x&&x.dataParts.push(y.subarray(b+8+4,b+8+L));break;case"IDAT":x&&x.dataParts.push(y.subarray(b+8,b+8+L));break;case"IEND":P.push(d(y,b,12+L));break;default:w.push(d(y,b,12+L))}})),x&&A.frames.push(x),0==A.frames.length)return F;var N=new Blob(w),D=new Blob(P);return A.frames.forEach((function(g){var y=[];y.push(k),O.set(_(g.width),0),O.set(_(g.height),4),y.push(v("IHDR",O)),y.push(N),g.dataParts.forEach((function(g){return y.push(v("IDAT",g))})),y.push(D),g.imageData=new Blob(y,{type:"image/png"}),delete g.dataParts,y=null})),A};var w=function s(g){return g&&g.__esModule?g:{default:g}}(b(1)),E=b(2);var L=new Error("Not a PNG"),F=new Error("Not an animated PNG");var k=new Uint8Array([137,80,78,71,13,10,26,10]);function f(g,y){var b=new DataView(g.buffer),w=8,E=void 0,L=void 0,F=void 0;do{L=b.getUint32(w),F=y(E=p(g,w+4,4),g,w,L),w+=12+L}while(!1!==F&&"IEND"!=E&&w<g.length)}function p(g,y,b){var w=Array.prototype.slice.call(g.subarray(y,y+b));return String.fromCharCode.apply(String,w)}function d(g,y,b){var w=new Uint8Array(b);return w.set(g.subarray(y,y+b)),w}var v=function(g,y){var b=g.length+y.length,E=new Uint8Array(b+8),L=new DataView(E.buffer);L.setUint32(0,y.length),E.set(function m(g){for(var y=new Uint8Array(g.length),b=0;b<g.length;b++)y[b]=g.charCodeAt(b);return y}(g),4),E.set(y,8);var F=(0,w.default)(E,4,b);return L.setUint32(b+4,F),E},_=function(g){return new Uint8Array([g>>>24&255,g>>>16&255,g>>>8&255,255&g])}},function(g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(g){for(var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,w=-1,E=y,L=y+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.length-y);E<L;E++)w=w>>>8^b[255&(w^g[E])];return-1^w};for(var b=new Uint32Array(256),w=0;w<256;w++){for(var E=w,L=0;L<8;L++)E=0!=(1&E)?3988292384^E>>>1:E>>>1;b[w]=E}},function(g,y,b){Object.defineProperty(y,"__esModule",{value:!0}),y.Frame=y.APNG=void 0;var w=function(){function e(g,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,b){return y&&e(g.prototype,y),b&&e(g,b),g}}(),E=function s(g){return g&&g.__esModule?g:{default:g}}(b(3));function a(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}y.APNG=function(){function e(){a(this,e),this.width=0,this.height=0,this.numPlays=0,this.playTime=0,this.frames=[]}return w(e,[{key:"createImages",value:function(){return Promise.all(this.frames.map((function(g){return g.createImage()})))}},{key:"getPlayer",value:function(g){var y=this,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.createImages().then((function(){return new E.default(y,g,b)}))}}]),e}(),y.Frame=function(){function e(){a(this,e),this.left=0,this.top=0,this.width=0,this.height=0,this.delay=0,this.disposeOp=0,this.blendOp=0,this.imageData=null,this.imageElement=null}return w(e,[{key:"createImage",value:function(){var g=this;return this.imageElement?Promise.resolve():new Promise((function(y,b){var w=URL.createObjectURL(g.imageData);g.imageElement=document.createElement("img"),g.imageElement.onload=function(){URL.revokeObjectURL(w),y()},g.imageElement.onerror=function(){URL.revokeObjectURL(w),g.imageElement=null,b(new Error("Image creation error"))},g.imageElement.src=w}))}}]),e}()},function(g,y,b){Object.defineProperty(y,"__esModule",{value:!0});var w=function(){function e(g,y){for(var b=0;b<y.length;b++){var w=y[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,b){return y&&e(g.prototype,y),b&&e(g,b),g}}();var E=function(g){function t(g,y,b){!function s(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}(this,t);var w=function a(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?g:y}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return w.playbackRate=1,w._currentFrameNumber=0,w._ended=!1,w._paused=!0,w._numPlays=0,w._apng=g,w.context=y,w.stop(),b&&w.play(),w}return function o(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}(t,g),w(t,[{key:"renderNextFrame",value:function(){this._currentFrameNumber=(this._currentFrameNumber+1)%this._apng.frames.length,this._currentFrameNumber===this._apng.frames.length-1&&(this._numPlays++,0!==this._apng.numPlays&&this._numPlays>=this._apng.numPlays&&(this._ended=!0,this._paused=!0)),this._prevFrame&&1==this._prevFrame.disposeOp?this.context.clearRect(this._prevFrame.left,this._prevFrame.top,this._prevFrame.width,this._prevFrame.height):this._prevFrame&&2==this._prevFrame.disposeOp&&this.context.putImageData(this._prevFrameData,this._prevFrame.left,this._prevFrame.top);var g=this.currentFrame;this._prevFrame=g,this._prevFrameData=null,2==g.disposeOp&&(this._prevFrameData=this.context.getImageData(g.left,g.top,g.width,g.height)),0==g.blendOp&&this.context.clearRect(g.left,g.top,g.width,g.height),this.context.drawImage(g.imageElement,g.left,g.top),this.emit("frame",this._currentFrameNumber),this._ended&&this.emit("end")}},{key:"play",value:function(){var g=this;this.emit("play"),this._ended&&this.stop(),this._paused=!1;var y=performance.now()+this.currentFrame.delay/this.playbackRate;requestAnimationFrame((function r(b){if(!g._ended&&!g._paused){if(b>=y){for(;b-y>=g._apng.playTime/g.playbackRate;)y+=g._apng.playTime/g.playbackRate,g._numPlays++;do{g.renderNextFrame(),y+=g.currentFrame.delay/g.playbackRate}while(!g._ended&&b>y)}requestAnimationFrame(r)}}))}},{key:"pause",value:function(){this._paused||(this.emit("pause"),this._paused=!0)}},{key:"stop",value:function(){this.emit("stop"),this._numPlays=0,this._ended=!1,this._paused=!0,this._currentFrameNumber=-1,this.context.clearRect(0,0,this._apng.width,this._apng.height),this.renderNextFrame()}},{key:"currentFrameNumber",get:function(){return this._currentFrameNumber}},{key:"currentFrame",get:function(){return this._apng.frames[this._currentFrameNumber]}},{key:"paused",get:function(){return this._paused}},{key:"ended",get:function(){return this._ended}}]),t}(function i(g){return g&&g.__esModule?g:{default:g}}(b(4)).default);y.default=E},function(g,y){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(g){return"function"==typeof g}function s(g){return"object"==typeof g&&null!==g}function a(g){return void 0===g}g.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(g){if(!function i(g){return"number"==typeof g}(g)||g<0||isNaN(g))throw TypeError("n must be a positive number");return this._maxListeners=g,this},r.prototype.emit=function(g){var y,b,w,E,L,F;if(this._events||(this._events={}),"error"===g&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((y=arguments[1])instanceof Error)throw y;var k=new Error('Uncaught, unspecified "error" event. ('+y+")");throw k.context=y,k}if(a(b=this._events[g]))return!1;if(n(b))switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:E=Array.prototype.slice.call(arguments,1),b.apply(this,E)}else if(s(b))for(E=Array.prototype.slice.call(arguments,1),w=(F=b.slice()).length,L=0;L<w;L++)F[L].apply(this,E);return!0},r.prototype.addListener=function(g,y){var b;if(!n(y))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",g,n(y.listener)?y.listener:y),this._events[g]?s(this._events[g])?this._events[g].push(y):this._events[g]=[this._events[g],y]:this._events[g]=y,s(this._events[g])&&!this._events[g].warned&&(b=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&b>0&&this._events[g].length>b&&(this._events[g].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[g].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(g,y){if(!n(y))throw TypeError("listener must be a function");var b=!1;function i(){this.removeListener(g,i),b||(b=!0,y.apply(this,arguments))}return i.listener=y,this.on(g,i),this},r.prototype.removeListener=function(g,y){var b,w,E,L;if(!n(y))throw TypeError("listener must be a function");if(!this._events||!this._events[g])return this;if(E=(b=this._events[g]).length,w=-1,b===y||n(b.listener)&&b.listener===y)delete this._events[g],this._events.removeListener&&this.emit("removeListener",g,y);else if(s(b)){for(L=E;L-- >0;)if(b[L]===y||b[L].listener&&b[L].listener===y){w=L;break}if(w<0)return this;1===b.length?(b.length=0,delete this._events[g]):b.splice(w,1),this._events.removeListener&&this.emit("removeListener",g,y)}return this},r.prototype.removeAllListeners=function(g){var y,b;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[g]&&delete this._events[g],this;if(0===arguments.length){for(y in this._events)"removeListener"!==y&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events={},this}if(n(b=this._events[g]))this.removeListener(g,b);else if(b)for(;b.length;)this.removeListener(g,b[b.length-1]);return delete this._events[g],this},r.prototype.listeners=function(g){return this._events&&this._events[g]?n(this._events[g])?[this._events[g]]:this._events[g].slice():[]},r.prototype.listenerCount=function(g){if(this._events){var y=this._events[g];if(n(y))return 1;if(y)return y.length}return 0},r.listenerCount=function(g,y){return g.listenerCount(y)}}])},k.exports=w();const P=(0,E.g)(k.exports);async function o(g,y){const b=P(g);if(b instanceof Error)throw b;await b.createImages(),(0,L.Te)(y);const{frames:w,width:E,height:k}=b,O=document.createElement("canvas");O.width=E,O.height=k;const x=O.getContext("2d",{willReadFrequently:!0}),U=[],A=[];let N=0;for(const L of w){const g=(0,F.l5)(L.delay||100);A.push(g),N+=g;const y=L.imageElement;0===L.blendOp?x.globalCompositeOperation="copy":x.globalCompositeOperation="source-over";const b=2===L.disposeOp?x.getImageData(L.left,L.top,L.width,L.height):void 0;x.drawImage(y,L.left,L.top);const w=x.getImageData(0,0,E,k);U.push(w),0===L.disposeOp||(1===L.disposeOp?x.clearRect(L.left,L.top,L.width,L.height):2===L.disposeOp&&x.putImageData(b,L.left,L.top))}return{frameCount:w.length,duration:N,frameDurations:A,getFrame:g=>U[g],width:E,height:k}}const O=[137,80,78,71,13,10,26,10];function l(g){if(!function h(g){const y=new Uint8Array(g);return!O.some(((g,b)=>g!==y[b]))}(g))return!1;const y=new DataView(g),b=new Uint8Array(g);let w,E=8;do{const g=y.getUint32(E);if(w=String.fromCharCode.apply(String,Array.prototype.slice.call(b.subarray(E+4,E+8))),"acTL"===w)return!0;E+=12+g}while("IEND"!==w&&E<b.length);return!1}}}]);
//# sourceMappingURL=9764.3d1a64da.chunk.js.map