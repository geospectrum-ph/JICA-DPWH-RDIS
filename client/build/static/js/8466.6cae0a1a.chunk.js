"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[8466],{62408:(R,A,C)=>{function e(R){return null!=r(R)||null!=u(R)}function t(R){return q.test(R)}function n(R){var A;return null!==(A=r(R))&&void 0!==A?A:u(R)}function u(R){const A=new Date(R);return function o(R,A){if(Number.isNaN(R.getTime()))return!1;let C=!0;if(X&&/\d+\W*$/.test(A)){const R=A.match(/[a-zA-Z]{2,}/);if(R){let A=!1,q=0;for(;!A&&q<=R.length;)A=!Z.test(R[q]),q++;C=!A}}return C}(A,R)?Number.isNaN(A.getTime())?null:A.getTime()-6e4*A.getTimezoneOffset():null}function r(R){var A,C,Z,X;const D=q.exec(R);if(null===D||void 0===D||!D.groups)return null;const z=D.groups,K=+z.year,J=+z.month-1,W=+z.day,$=+(null!==(A=z.hours)&&void 0!==A?A:"0"),H=+(null!==(C=z.minutes)&&void 0!==C?C:"0"),V=+(null!==(Z=z.seconds)&&void 0!==Z?Z:"0");if($>23)return null;if(H>59)return null;if(V>59)return null;const ee=null!==(X=z.ms)&&void 0!==X?X:"0",te=ee?+ee.padEnd(3,"0").substring(0,3):0;let ne;if(z.isUTC||!z.offsetSign)ne=Date.UTC(K,J,W,$,H,V,te);else{const R=+z.offsetHours,A=+z.offsetMinutes;ne=6e4*("+"===z.offsetSign?-1:1)*(60*R+A)+Date.UTC(K,J,W,$,H,V,te)}return Number.isNaN(ne)?null:ne}C.d(A,{Br:()=>t,Cq:()=>e,_U:()=>n});const q=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;const Z=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,X=!Number.isNaN(new Date("technology 10").getTime())},30925:(R,A,C)=>{C.d(A,{w:()=>s});var q=C(16842),Z=C(17244),X=C(60964);class s{constructor(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,A=arguments.length>1?arguments[1]:void 0;this._compareMinX=o,this._compareMinY=l,this._toBBox=R=>R,this._maxEntries=Math.max(4,R||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),A&&("function"==typeof A?this._toBBox=A:this._initFormat(A)),this.clear()}destroy(){this.clear(),D.prune(),z.prune(),K.prune(),J.prune()}all(R){this._all(this._data,R)}search(R,A){let C=this._data;const q=this._toBBox;if(x(R,C))for(D.clear();C;){for(let Z=0,X=C.children.length;Z<X;Z++){const X=C.children[Z],z=C.leaf?q(X):X;x(R,z)&&(C.leaf?A(X):_(R,z)?this._all(X,A):D.push(X))}C=D.pop()}}collides(R){let A=this._data;const C=this._toBBox;if(!x(R,A))return!1;for(D.clear();A;){for(let q=0,Z=A.children.length;q<Z;q++){const Z=A.children[q],X=A.leaf?C(Z):Z;if(x(R,X)){if(A.leaf||_(R,X))return!0;D.push(Z)}}A=D.pop()}return!1}load(R){if(!R.length)return this;if(R.length<this._minEntries){for(let A=0,C=R.length;A<C;A++)this.insert(R[A]);return this}let A=this._build(R.slice(0,R.length),0,R.length-1,0);if(this._data.children.length)if(this._data.height===A.height)this._splitRoot(this._data,A);else{if(this._data.height<A.height){const R=this._data;this._data=A,A=R}this._insert(A,this._data.height-A.height-1,!0)}else this._data=A;return this}insert(R){return R&&this._insert(R,this._data.height-1),this}clear(){return this._data=new w([]),this}remove(R){if(!R)return this;let A,C=this._data,Z=null,X=0,D=!1;const z=this._toBBox(R);for(K.clear(),J.clear();C||K.length>0;){var W;if(C||(C=K.pop(),Z=K.data[K.length-1],X=null!==(W=J.pop())&&void 0!==W?W:0,D=!0),C.leaf&&(A=(0,q.qh)(C.children,R,C.children.length,C.indexHint),-1!==A))return C.children.splice(A,1),K.push(C),this._condense(K),this;D||C.leaf||!_(C,z)?Z?(X++,C=Z.children[X],D=!1):C=null:(K.push(C),J.push(X),X=0,Z=C,C=C.children[0])}return this}toJSON(){return this._data}fromJSON(R){return this._data=R,this}_all(R,A){let C=R;for(z.clear();C;){var q;if(!0===C.leaf)for(const R of C.children)A(R);else z.pushArray(C.children);C=null!==(q=z.pop())&&void 0!==q?q:null}}_build(R,A,C,q){const Z=C-A+1;let X=this._maxEntries;if(Z<=X){const q=new w(R.slice(A,C+1));return h(q,this._toBBox),q}q||(q=Math.ceil(Math.log(Z)/Math.log(X)),X=Math.ceil(Z/X**(q-1)));const D=new b([]);D.height=q;const z=Math.ceil(Z/X),K=z*Math.ceil(Math.sqrt(X));f(R,A,C,K,this._compareMinX);for(let J=A;J<=C;J+=K){const A=Math.min(J+K-1,C);f(R,J,A,z,this._compareMinY);for(let C=J;C<=A;C+=z){const Z=Math.min(C+z-1,A);D.children.push(this._build(R,C,Z,q-1))}}return h(D,this._toBBox),D}_chooseSubtree(R,A,C,q){for(;q.push(A),!0!==A.leaf&&q.length-1!==C;){let C,q=1/0,Z=1/0;for(let X=0,D=A.children.length;X<D;X++){const D=A.children[X],z=c(D),K=d(R,D)-z;K<Z?(Z=K,q=z<q?z:q,C=D):K===Z&&z<q&&(q=z,C=D)}A=C||A.children[0]}return A}_insert(R,A,C){const q=this._toBBox,Z=C?R:q(R);K.clear();const X=this._chooseSubtree(Z,this._data,A,K);for(X.children.push(R),r(X,Z);A>=0&&K.data[A].children.length>this._maxEntries;)this._split(K,A),A--;this._adjustParentBBoxes(Z,K,A)}_split(R,A){const C=R.data[A],q=C.children.length,Z=this._minEntries;this._chooseSplitAxis(C,Z,q);const X=this._chooseSplitIndex(C,Z,q);if(!X)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const D=C.children.splice(X,C.children.length-X),z=C.leaf?new w(D):new b(D);z.height=C.height,h(C,this._toBBox),h(z,this._toBBox),A?R.data[A-1].children.push(z):this._splitRoot(C,z)}_splitRoot(R,A){this._data=new b([R,A]),this._data.height=R.height+1,h(this._data,this._toBBox)}_chooseSplitIndex(R,A,C){let q,Z,X;q=Z=1/0;for(let D=A;D<=C-A;D++){const A=a(R,0,D,this._toBBox),z=a(R,D,C,this._toBBox),K=u(A,z),J=c(A)+c(z);K<q?(q=K,X=D,Z=J<Z?J:Z):K===q&&J<Z&&(Z=J,X=D)}return X}_chooseSplitAxis(R,A,C){const q=R.leaf?this._compareMinX:o,Z=R.leaf?this._compareMinY:l;this._allDistMargin(R,A,C,q)<this._allDistMargin(R,A,C,Z)&&R.children.sort(q)}_allDistMargin(R,A,C,q){R.children.sort(q);const Z=this._toBBox,X=a(R,0,A,Z),D=a(R,C-A,C,Z);let z=m(X)+m(D);for(let K=A;K<C-A;K++){const A=R.children[K];r(X,R.leaf?Z(A):A),z+=m(X)}for(let K=C-A-1;K>=A;K--){const A=R.children[K];r(D,R.leaf?Z(A):A),z+=m(D)}return z}_adjustParentBBoxes(R,A,C){for(let q=C;q>=0;q--)r(A.data[q],R)}_condense(R){for(let A=R.length-1;A>=0;A--){const C=R.data[A];if(0===C.children.length)if(A>0){const Z=R.data[A-1],X=Z.children;X.splice((0,q.qh)(X,C,X.length,Z.indexHint),1)}else this.clear();else h(C,this._toBBox)}}_initFormat(R){const A=["return a"," - b",";"];this._compareMinX=new Function("a","b",A.join(R[0])),this._compareMinY=new Function("a","b",A.join(R[1])),this._toBBox=new Function("a","return {minX: a"+R[0]+", minY: a"+R[1]+", maxX: a"+R[2]+", maxY: a"+R[3]+"};")}}function h(R,A){a(R,0,R.children.length,A,R)}function a(R,A,C,q,Z){Z||(Z=new w([])),Z.minX=1/0,Z.minY=1/0,Z.maxX=-1/0,Z.maxY=-1/0;for(let X,D=A;D<C;D++)X=R.children[D],r(Z,R.leaf?q(X):X);return Z}function r(R,A){R.minX=Math.min(R.minX,A.minX),R.minY=Math.min(R.minY,A.minY),R.maxX=Math.max(R.maxX,A.maxX),R.maxY=Math.max(R.maxY,A.maxY)}function o(R,A){return R.minX-A.minX}function l(R,A){return R.minY-A.minY}function c(R){return(R.maxX-R.minX)*(R.maxY-R.minY)}function m(R){return R.maxX-R.minX+(R.maxY-R.minY)}function d(R,A){return(Math.max(A.maxX,R.maxX)-Math.min(A.minX,R.minX))*(Math.max(A.maxY,R.maxY)-Math.min(A.minY,R.minY))}function u(R,A){const C=Math.max(R.minX,A.minX),q=Math.max(R.minY,A.minY),Z=Math.min(R.maxX,A.maxX),X=Math.min(R.maxY,A.maxY);return Math.max(0,Z-C)*Math.max(0,X-q)}function _(R,A){return R.minX<=A.minX&&R.minY<=A.minY&&A.maxX<=R.maxX&&A.maxY<=R.maxY}function x(R,A){return A.minX<=R.maxX&&A.minY<=R.maxY&&A.maxX>=R.minX&&A.maxY>=R.minY}function f(R,A,C,q,Z){const D=[A,C];for(;D.length;){const A=D.pop(),C=D.pop();if(A-C<=q)continue;const z=C+Math.ceil((A-C)/q/2)*q;(0,X.q)(R,z,C,A,Z),D.push(C,z,z,A)}}const D=new Z.A,z=new Z.A,K=new Z.A,J=new Z.A({deallocator:void 0});class Y{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class B extends Y{constructor(){super(...arguments),this.height=1,this.indexHint=new q.vW}}class w extends B{constructor(R){super(),this.children=R,this.leaf=!0}}class b extends B{constructor(R){super(),this.children=R,this.leaf=!1}}},77026:(R,A,C)=>{C.d(A,{g:()=>q});const q={convertToGEGeometry:function s(R,A){return null==A?null:R.convertJSONToGeometry(A)},exportPoint:function n(R,A,C){const q=new i(R.getPointX(A),R.getPointY(A),C),Z=R.hasZ(A),X=R.hasM(A);return Z&&(q.z=R.getPointZ(A)),X&&(q.m=R.getPointM(A)),q},exportPolygon:function o(R,A,C){return new e(R.exportPaths(A),C,R.hasZ(A),R.hasM(A))},exportPolyline:function a(R,A,C){return new h(R.exportPaths(A),C,R.hasZ(A),R.hasM(A))},exportMultipoint:function c(R,A,C){return new r(R.exportPoints(A),C,R.hasZ(A),R.hasM(A))},exportExtent:function m(R,A,C){const q=R.hasZ(A),Z=R.hasM(A),X=new x(R.getXMin(A),R.getYMin(A),R.getXMax(A),R.getYMax(A),C);if(q){const C=R.getZExtent(A);X.zmin=C.vmin,X.zmax=C.vmax}if(Z){const C=R.getMExtent(A);X.mmin=C.vmin,X.mmax=C.vmax}return X}};class i{constructor(R,A,C){this.x=R,this.y=A,this.spatialReference=C,this.z=void 0,this.m=void 0}}class e{constructor(R,A,C,q){this.rings=R,this.spatialReference=A,this.hasZ=void 0,this.hasM=void 0,C&&(this.hasZ=C),q&&(this.hasM=q)}}class h{constructor(R,A,C,q){this.paths=R,this.spatialReference=A,this.hasZ=void 0,this.hasM=void 0,C&&(this.hasZ=C),q&&(this.hasM=q)}}class r{constructor(R,A,C,q){this.points=R,this.spatialReference=A,this.hasZ=void 0,this.hasM=void 0,C&&(this.hasZ=C),q&&(this.hasM=q)}}class x{constructor(R,A,C,q,Z){this.xmin=R,this.ymin=A,this.xmax=C,this.ymax=q,this.spatialReference=Z,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},61816:(R,A,C)=>{C.d(A,{F:()=>o});var q=C(50886),Z=C(30925),X=C(88965);const D={minX:0,minY:0,maxX:0,maxY:0};function e(R,A,C){(function t(R){D.minX=R[0],D.minY=R[1],D.maxX=R[2],D.maxY=R[3]})(A),R.search(D,C)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new Z.w(9,(0,q.A)("esri-csp-restrictions")?R=>({minX:R[0],minY:R[1],maxX:R[2],maxY:R[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const R=new Array(this._idByBounds.size);let A=0;this._idByBounds.forEach(((C,q)=>{R[A++]=q})),this._indexInvalid=!1,this._index.clear(),this._index.load(R)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((R=>this._idByBounds.has(R)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const R=(0,X.Ie)();for(const A of this._boundsById.values())A&&(R[0]=Math.min(A[0],R[0]),R[1]=Math.min(A[1],R[1]),R[2]=Math.max(A[2],R[2]),R[3]=Math.max(A[3],R[3]));return R}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(R){const A=this._boundsById.get(R);this._boundsById.delete(R),A&&(this._idByBounds.delete(A),this._indexInvalid||this._index.remove(A))}forEachInBounds(R,A){this._loadIndex(),e(this._index,R,(R=>A(this._idByBounds.get(R))))}get(R){return this._boundsById.get(R)}has(R){return this._boundsById.has(R)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(R,A){if(!this._indexInvalid){const A=this._boundsById.get(R);A&&(this._index.remove(A),this._idByBounds.delete(A))}this._boundsById.set(R,A),A&&(this._idByBounds.set(A,R),this._indexInvalid||(this._boundsToLoad.push(A),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},45691:(R,A,C)=>{C.d(A,{A:()=>m});var q=C(16842),Z=C(4180),X=C(73067),D=C(89412),z=C(21374),K=C(88965),J=C(32050),W=C(61816),$=C(23047),H=C(19464);const V=(0,z.vt)();class m{constructor(R){this.geometryInfo=R,this._boundsStore=new W.F,this._featuresById=new Map,this._markedIds=new Set,this.events=new X.A,this.featureAdapter=H.T}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let R=0;return this._featuresById.forEach((A=>{null!=A.geometry&&A.geometry.coords&&(R+=A.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:R/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(R){if(null==this.fullBounds)return null;const[A,C,q,Z]=this.fullBounds;return{xmin:A,ymin:C,xmax:q,ymax:Z,spatialReference:(0,$.ag)(R)}}add(R){this._add(R),this._emitChanged()}addMany(R){for(const A of R)this._add(A);this._emitChanged()}upsertMany(R){const A=R.map((R=>this._upsert(R)));return this._emitChanged(),A.filter(q.Ru)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(R){const A=this._featuresById.get(R);return A?(this._remove(A),this._emitChanged(),A):null}removeManyById(R){this._boundsStore.invalidateIndex();for(const A of R){const R=this._featuresById.get(A);R&&this._remove(R)}this._emitChanged()}forEachBounds(R,A){for(const C of R){const R=this._boundsStore.get(C.objectId);R&&A((0,z.Jt)(V,R))}}getFeature(R){return this._featuresById.get(R)}has(R){return this._featuresById.has(R)}forEach(R){this._featuresById.forEach((A=>R(A)))}forEachInBounds(R,A){this._boundsStore.forEachInBounds(R,(R=>{A(this._featuresById.get(R))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let R=!1;this._featuresById.forEach(((A,C)=>{this._markedIds.has(C)||(R=!0,this._remove(A))})),this._markedIds.clear(),R&&this._emitChanged()}_emitChanged(){this.events.emit("changed",void 0)}_add(R){var A;if(!R)return;const C=R.objectId;if(null==C)return void D.A.getLogger("esri.layers.graphics.data.FeatureStore").error(new Z.A("featurestore:invalid-feature","feature id is missing",{feature:R}));const q=this._featuresById.get(C);let X;if(this._markedIds.add(C),q?(R.displayId=q.displayId,X=this._boundsStore.get(C),this._boundsStore.delete(C)):null!=this.onFeatureAdd&&this.onFeatureAdd(R),null===(A=R.geometry)||void 0===A||null===(A=A.coords)||void 0===A||!A.length)return this._boundsStore.set(C,null),void this._featuresById.set(C,R);X=(0,J.jQ)(null!=X?X:(0,K.vt)(),R.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=X&&this._boundsStore.set(C,X),this._featuresById.set(C,R)}_upsert(R){var A;const C=null===R||void 0===R?void 0:R.objectId;if(null==C)return D.A.getLogger("esri.layers.graphics.data.FeatureStore").error(new Z.A("featurestore:invalid-feature","feature id is missing",{feature:R})),null;const q=this._featuresById.get(C);if(!q)return this._add(R),R;this._markedIds.add(C);const{geometry:X,attributes:z}=R;for(const Z in z)q.attributes[Z]=z[Z];return X&&(q.geometry=X,this._boundsStore.set(C,null!==(A=(0,J.jQ)((0,K.vt)(),X,this.geometryInfo.hasZ,this.geometryInfo.hasM))&&void 0!==A?A:null)),q}_remove(R){null!=this.onFeatureRemove&&this.onFeatureRemove(R);const A=R.objectId;return this._markedIds.delete(A),this._boundsStore.delete(A),this._featuresById.delete(A),R}}},23047:(R,A,C)=>{C.d(A,{LQ:()=>y,ag:()=>h,pL:()=>a});var q=C(32050),Z=C(41156);const X=new Z.A,D=new Z.A,z=new Z.A,K={esriGeometryPoint:q.DF,esriGeometryPolyline:q.BW,esriGeometryPolygon:q.z5,esriGeometryMultipoint:q.qK};function y(R,A,C){let Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.hasZ,X=arguments.length>4&&void 0!==arguments[4]?arguments[4]:R.hasM;if(null==A)return null;const D=R.hasZ&&Z,K=R.hasM&&X;if(C){const J=(0,q.Nl)(z,A,R.hasZ,R.hasM,"esriGeometryPoint",C,Z,X);return(0,q.DF)(J,D,K)}return(0,q.DF)(A,D,K)}function a(R,A,C,Z,J,W){var $,H;let V=arguments.length>6&&void 0!==arguments[6]?arguments[6]:A,ee=arguments.length>7&&void 0!==arguments[7]?arguments[7]:C;const te=A&&V,ne=C&&ee,ie=null!=Z?"coords"in Z?Z:Z.geometry:null;if(null==ie)return null;if(J){var se,re;let Z=(0,q.kz)(D,ie,A,C,R,J,V,ee);return W&&(Z=(0,q.Nl)(z,Z,te,ne,R,W)),null!==(se=null===(re=K[R])||void 0===re?void 0:re.call(K,Z,te,ne))&&void 0!==se?se:null}if(W){var oe,ae;const Z=(0,q.Nl)(z,ie,A,C,R,W,V,ee);return null!==(oe=null===(ae=K[R])||void 0===ae?void 0:ae.call(K,Z,te,ne))&&void 0!==oe?oe:null}return(0,q.Q4)(X,ie,A,C,V,ee),null!==($=null===(H=K[R])||void 0===H?void 0:H.call(K,X,te,ne))&&void 0!==$?$:null}function h(R){return R&&J in R?JSON.parse(JSON.stringify(R,G)):R}const J="_geVersion",G=(R,A)=>R!==J?A:void 0},22786:(R,A,C)=>{C.d(A,{Cv:()=>j,Nk:()=>x,lK:()=>b});var q=C(16842),Z=C(81618),X=C(54208),D=C(77026),z=C(78395),K=C(80417);const J=[0,0];function h(R,A){if(!A)return null;if("x"in A){const C={x:0,y:0};return[C.x,C.y]=R(A.x,A.y,J),null!=A.z&&(C.z=A.z),null!=A.m&&(C.m=A.m),C}if("xmin"in A){const C={xmin:0,ymin:0,xmax:0,ymax:0};return[C.xmin,C.ymin]=R(A.xmin,A.ymin,J),[C.xmax,C.ymax]=R(A.xmax,A.ymax,J),A.hasZ&&(C.zmin=A.zmin,C.zmax=A.zmax,C.hasZ=!0),A.hasM&&(C.mmin=A.mmin,C.mmax=A.mmax,C.hasM=!0),C}return"rings"in A?{rings:l(A.rings,R),hasM:A.hasM,hasZ:A.hasZ}:"paths"in A?{paths:l(A.paths,R),hasM:A.hasM,hasZ:A.hasZ}:"points"in A?{points:f(A.points,R),hasM:A.hasM,hasZ:A.hasZ}:null}function l(R,A){const C=[];for(const q of R)C.push(f(q,A));return C}function f(R,A){const C=[];for(const q of R){const R=A(q[0],q[1],[0,0]);C.push(R),q.length>2&&R.push(q[2]),q.length>3&&R.push(q[3])}return C}async function x(R,A){if(!R||!A)return;const C=Array.isArray(R)?R.map((R=>null!=R.geometry?R.geometry.spatialReference:null)).filter(q.Ru):[R];await(0,X.initializeProjection)(C.map((R=>({source:R,dest:A}))))}const W=h.bind(null,K.je),$=h.bind(null,K.tD);function j(R,A,C,q){if(!R)return R;if(C||(C=A,A=R.spatialReference),!(0,z.fn)(A)||!(0,z.fn)(C)||(0,z.aI)(A,C))return R;if((0,K.y7)(A,C)){const A=(0,z.K8)(C)?W(R):$(R);return A.spatialReference=C,A}return(0,X.projectMany)(D.g,[R],A,C,null,q)[0]}const H=new class _{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(R,A,C,q){var X;if(null===R||void 0===R||!R.length||!A||!C||(0,z.aI)(A,C))return R;const D={geometries:R,inSpatialReference:A,outSpatialReference:C,geographicTransformation:q,resolve:(0,Z.Tw)()};return this._jobs.push(D),null!==(X=this._timer)&&void 0!==X||(this._timer=setTimeout(this._process,10)),D.resolve.promise}_process(){this._timer=null;const R=this._jobs.shift();if(!R)return;const{geometries:A,inSpatialReference:C,outSpatialReference:q,resolve:Z,geographicTransformation:J}=R;(0,K.y7)(C,q)?(0,z.K8)(q)?Z(A.map(W)):Z(A.map($)):Z((0,X.projectMany)(D.g,A,C,q,J,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function b(R,A,C,q){return H.push(R,A,C,q)}},70857:(R,A,C)=>{C.d(A,{GC:()=>S,T2:()=>j,v8:()=>H});var q=C(40530),Z=C(49049),X=C(54208),D=C(25076),z=C(31670),K=C(30172),J=C(78395),W=C(22786);const $=new q.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),H=Object.freeze({});async function S(R,A,C){const{outFields:q,orderByFields:Z,groupByFieldsForStatistics:X,outStatistics:D}=R;if(q)for(let z=0;z<q.length;z++)q[z]=q[z].trim();if(Z)for(let z=0;z<Z.length;z++)Z[z]=Z[z].trim();if(X)for(let z=0;z<X.length;z++)X[z]=X[z].trim();if(D)for(let z=0;z<D.length;z++)D[z].onStatisticField&&(D[z].onStatisticField=D[z].onStatisticField.trim());return R.geometry&&!R.outSR&&(R.outSR=R.geometry.spatialReference),j(R,A,C)}async function j(R,A,q){var X;if(!R)return null;let{where:V}=R;if(R.where=V=null===(X=V)||void 0===X?void 0:X.trim(),(!V||/^1 *= *1$/.test(V)||A&&A===V)&&(R.where=null),!R.geometry)return R;let ee=await async function d(R){const{distance:A,units:q}=R,X=R.geometry;if(null==A||"vertexAttributes"in X)return X;const D=X.spatialReference,z=q?$.fromJSON(q):(0,Z.Ij)(D),K=D&&((0,J.EA)(D)||(0,J.K8)(D))?X:await(0,W.Nk)(D,J.KK).then((()=>(0,W.Cv)(X,J.KK)));return(await async function U(){return(await Promise.all([C.e(8300),C.e(6282)]).then(C.bind(C,93901))).geodesicBuffer}())(K.spatialReference,K,A,z)}(R);if(R.distance=0,R.units=null,"esriSpatialRelEnvelopeIntersects"===R.spatialRel){const{spatialReference:A}=R.geometry;ee=(0,D.HA)(ee),ee.spatialReference=A}if(ee){var te;await(0,W.Nk)(ee.spatialReference,q),ee=function x(R,A){const C=R.spatialReference;return w(R,A)&&(0,z.ZC)(R)?{spatialReference:C,rings:[[[R.xmin,R.ymin],[R.xmin,R.ymax],[R.xmax,R.ymax],[R.xmax,R.ymin],[R.xmin,R.ymin]]]}:R}(ee,q);const A=(await(0,K.el)((0,z.rS)(ee)))[0];if(null==A)throw H;const C="quantizationParameters"in R&&(null===(te=R.quantizationParameters)||void 0===te?void 0:te.tolerance)||"maxAllowableOffset"in R&&R.maxAllowableOffset||0,Z=C&&w(ee,q)?{densificationStep:8*C}:void 0,X=A.toJSON(),D=(0,W.Cv)(X,X.spatialReference,q,Z);if(!D)throw H;D.spatialReference=q,R.geometry=D}return R}function w(R,A){if(!R)return!1;const C=R.spatialReference;return((0,z.ZC)(R)||(0,z.Bi)(R)||(0,z.Rg)(R))&&!(0,J.aI)(C,A)&&!(0,X.canProjectWithoutEngine)(C,A)}},70564:(R,A,C)=>{C.d(A,{tC:()=>I,c0:()=>P,xt:()=>v});var q=C(4180),Z=C(94224),X=C(5522);var D=C(31670),z=C(78395);function n(R,A){return R?A?4:3:A?3:2}function contains_r(R,A,C,q,Z,X){const D=n(Z,X),{coords:z,lengths:K}=q;if(!K)return!1;for(let J=0,W=0;J<K.length;J++,W+=D)if(!o(R,A,C,z[W],z[W+1]))return!1;return!0}function o(R,A,C,q,Z){if(!R)return!1;const X=n(A,C),{coords:D,lengths:z}=R;let K=!1,J=0;for(const W of z)K=e(K,D,X,J,W,q,Z),J+=W*X;return K}function e(R,A,C,q,Z,X,D){let z=R,K=q;for(let J=q,W=q+Z*C;J<W;J+=C){K=J+C,K===W&&(K=q);const R=A[J],Z=A[J+1],$=A[K],H=A[K+1];(Z<D&&H>=D||H<D&&Z>=D)&&R+(D-Z)/(H-Z)*($-R)<X&&(z=!z)}return z}var K=C(32050),J=C(41156),W=C(23047),$=C(22786);const H="unsupported-query",V={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},ee={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function v(R,A,q,z,$){if((0,D.Bi)(A)&&"esriGeometryPoint"===q&&("esriSpatialRelIntersects"===R||"esriSpatialRelContains"===R)){const R=(0,K.Ye)(new J.A,A,!1,!1);return Promise.resolve((A=>function t(R,A,C,q){return o(R,A,C,q.coords[0],q.coords[1])}(R,!1,!1,A)))}if((0,D.Bi)(A)&&"esriGeometryMultipoint"===q){const C=(0,K.Ye)(new J.A,A,!1,!1);if("esriSpatialRelContains"===R)return Promise.resolve((R=>contains_r(C,!1,!1,R,z,$)))}if((0,D.ZC)(A)&&"esriGeometryPoint"===q&&("esriSpatialRelIntersects"===R||"esriSpatialRelContains"===R))return Promise.resolve((R=>(0,Z.qz)(A,(0,W.pL)(q,z,$,R))));if((0,D.ZC)(A)&&"esriGeometryMultipoint"===q&&"esriSpatialRelContains"===R)return Promise.resolve((R=>(0,Z.rL)(A,(0,W.pL)(q,z,$,R))));if((0,D.ZC)(A)&&"esriSpatialRelIntersects"===R){const R=function s(R){return"mesh"===R?X.xB:(0,X.xK)(R)}(q);return Promise.resolve((C=>R(A,(0,W.pL)(q,z,$,C))))}return function h(){return Promise.all([C.e(8300),C.e(6282)]).then(C.bind(C,93901))}().then((C=>{const Z=C[V[R]].bind(null,A.spatialReference,A);return R=>Z((0,W.pL)(q,z,$,R))}))}async function P(R,A,C){const{spatialRel:Z,geometry:X}=R;if(X){if(!function G(R){return null!=R&&!0===ee.spatialRelationship[R]}(Z))throw new q.A(H,"Unsupported query spatial relationship",{query:R});if((0,z.fn)(X.spatialReference)&&(0,z.fn)(C)){var K;if(!function g(R){return null!=R&&!0===ee.queryGeometry[(0,D.$B)(R)]}(X))throw new q.A(H,"Unsupported query geometry type",{query:R});if(!function j(R){return null!=R&&!0===ee.layerGeometry[R]}(A))throw new q.A(H,"Unsupported layer geometry type",{query:R});if(R.outSR)return(0,$.Nk)(null===(K=R.geometry)||void 0===K?void 0:K.spatialReference,R.outSR)}}}function I(R){if((0,D.ZC)(R))return!0;if((0,D.Bi)(R)){for(const A of R.rings){if(5!==A.length)return!1;if(A[0][0]!==A[1][0]||A[0][0]!==A[4][0]||A[2][0]!==A[3][0]||A[0][1]!==A[3][1]||A[0][1]!==A[4][1]||A[1][1]!==A[2][1])return!1}return!0}return!1}},66174:(R,A,C)=>{async function n(R,A){if(!R)return null;const C=A.featureAdapter,{startTimeField:q,endTimeField:Z}=R;let X=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY;if(q&&Z)await A.forEach((R=>{const A=C.getAttribute(R,q),z=C.getAttribute(R,Z);null==A||isNaN(A)||(X=Math.min(X,A)),null==z||isNaN(z)||(D=Math.max(D,z))}));else{const R=q||Z;await A.forEach((A=>{const q=C.getAttribute(A,R);null==q||isNaN(q)||(X=Math.min(X,q),D=Math.max(D,q))}))}return{start:X,end:D}}function t(R,A,C){var q,Z;if(!A||!R)return null;const{startTimeField:X,endTimeField:D}=R;if(!X&&!D)return null;const{start:z,end:K}=A;if(null===z&&null===K)return null;if(void 0===z&&void 0===K)return()=>!1;const J=null!==(q=null===(Z=C.getAttributeAsTimestamp)||void 0===Z?void 0:Z.bind(C))&&void 0!==q?q:C.getAttribute.bind(C);return X&&D?function l(R,A,C,q,Z){return null!=q&&null!=Z?X=>{const D=R(X,A),z=R(X,C);return(null==D||D<=Z)&&(null==z||z>=q)}:null!=q?A=>{const Z=R(A,C);return null==Z||Z>=q}:null!=Z?C=>{const q=R(C,A);return null==q||q<=Z}:void 0}(J,X,D,z,K):function u(R,A,C,q){return null!=C&&null!=q&&C===q?q=>R(q,A)===C:null!=C&&null!=q?Z=>{const X=R(Z,A);return null!=X&&X>=C&&X<=q}:null!=C?q=>{const Z=R(q,A);return null!=Z&&Z>=C}:null!=q?C=>{const Z=R(C,A);return null!=Z&&Z<=q}:void 0}(J,X||D,z,K)}C.d(A,{I:()=>t,W:()=>n})},23704:(R,A,C)=>{C.r(A),C.d(A,{default:()=>Q});var q=C(53705),Z=C(87149),X=C(4180),D=C(89412),z=C(81618),K=C(31670),J=C(78395),W=C(32050),$=C(45691),H=C(22786),V=C(56103),ee=C(86595),te=C(39584),ne=C(67818),ie=C(8084),se=C(68471),re=C(57022),oe=C(52994);const ae={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class Q{constructor(){this._queryEngine=null,this._snapshotFeatures=async R=>{const A=await this._fetch(R);return this._createFeatures(A)}}destroy(){var R;null!==(R=this._queryEngine)&&void 0!==R&&R.destroy(),this._queryEngine=this._createDefaultAttributes=null}async load(R){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._loadOptions={url:R.url,customParameters:R.customParameters};const C=[],[q]=await Promise.all([R.url?this._fetch(null===A||void 0===A?void 0:A.signal):null,this._checkProjection(R.spatialReference)]),Z=(0,ee.BM)(q,{geometryType:R.geometryType}),D=R.fields||Z.fields||[],z=null!=R.hasZ?R.hasZ:Z.hasZ,K=Z.geometryType;let W=R.objectIdField||Z.objectIdFieldName||"__OBJECTID";const H=R.spatialReference||J.KK;let ne=R.timeInfo;D===Z.fields&&Z.unknownFields.length>0&&C.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:Z.unknownFields}});const le=new ie.A(D);let ue=le.get(W);ue?("esriFieldTypeString"!==ue.type&&(ue.type="esriFieldTypeOID"),ue.editable=!1,ue.nullable=!1,W=ue.name):(ue={alias:W,name:W,type:"string"===Z.objectIdFieldType?"esriFieldTypeString":"esriFieldTypeOID",editable:!1,nullable:!1},D.unshift(ue));const he={};for(const J of D){if(null==J.name&&(J.name=J.alias),null==J.alias&&(J.alias=J.name),!J.name)throw new X.A("geojson-layer:invalid-field-name","field name is missing",{field:J});if(!se.m.jsonValues.includes(J.type))throw new X.A("geojson-layer:invalid-field-type",'invalid type for field "'.concat(J.name,'"'),{field:J});if(J.name!==ue.name){const R=(0,re.lD)(J);void 0!==R&&(he[J.name]=R)}null==J.length&&(J.length=(0,re._b)(J))}if(ne){if(ne.startTimeField){const R=le.get(ne.startTimeField);R?(ne.startTimeField=R.name,R.type="esriFieldTypeDate"):ne.startTimeField=null}if(ne.endTimeField){const R=le.get(ne.endTimeField);R?(ne.endTimeField=R.name,R.type="esriFieldTypeDate"):ne.endTimeField=null}if(ne.trackIdField){const R=le.get(ne.trackIdField);R?ne.trackIdField=R.name:(ne.trackIdField=null,C.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:ne}}))}ne.startTimeField||ne.endTimeField||(C.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:ne}}),ne=null)}const ce=K?(0,te.F0)(K):void 0,de=le.dateFields.length?{timeZoneIANA:oe.n$}:null,fe={warnings:C,featureErrors:[],layerDefinition:{...ae,drawingInfo:null!==ce&&void 0!==ce?ce:void 0,templates:(0,te.e2)(he),extent:void 0,geometryType:K,objectIdField:W,fields:D,hasZ:!!z,timeInfo:ne,dateFieldsTimeReference:de}};this._queryEngine=new V.d({fieldsIndex:ie.A.fromLayerJSON({fields:D,timeInfo:ne,dateFieldsTimeReference:de}),geometryType:K,hasM:!1,hasZ:z,objectIdField:W,spatialReference:H,timeInfo:ne,featureStore:new $.A({geometryType:K,hasM:!1,hasZ:z}),cacheSpatialQueries:!0});const me=this._queryEngine.fieldsIndex.requiredFields.indexOf(ue);me>-1&&this._queryEngine.fieldsIndex.requiredFields.splice(me,1),this._createDefaultAttributes=(0,te.Vx)(he,W);const pe=await this._createFeatures(q);this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,pe);const ye=this._normalizeFeatures(pe,fe.featureErrors);this._queryEngine.featureStore.addMany(ye);const{fullExtent:ge,timeExtent:_e}=await this._queryEngine.fetchRecomputedExtents();if(fe.layerDefinition.extent=ge,_e){const{start:R,end:A}=_e;fe.layerDefinition.timeInfo.timeExtent=[R,A]}return fe}async applyEdits(R){const{spatialReference:A,geometryType:C}=this._queryEngine;return await Promise.all([(0,ne.$1)(A,C),(0,H.Nk)(R.adds,A),(0,H.Nk)(R.updates,A)]),await this._waitSnapshotComplete(),this._applyEdits(R)}async queryFeatures(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(R,A.signal)}async queryFeatureCount(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(R,A.signal)}async queryObjectIds(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(R,A.signal)}async queryExtent(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(R,A.signal)}async querySnapping(R){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(R,A.signal)}async refresh(R){var A;this._loadOptions.customParameters=R,null!==(A=this._snapshotTask)&&void 0!==A&&A.abort(),this._snapshotTask=(0,Z.UT)(this._snapshotFeatures),this._snapshotTask.promise.then((R=>{this._queryEngine.featureStore.clear(),this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,R);const A=this._normalizeFeatures(R);A&&this._queryEngine.featureStore.addMany(A)}),(R=>{this._queryEngine.featureStore.clear(),(0,z.zf)(R)||D.A.getLogger("esri.layers.GeoJSONLayer").error(new X.A("geojson-layer:refresh","An error occurred during refresh",{error:R}))})),await this._waitSnapshotComplete();const{fullExtent:C,timeExtent:q}=await this._queryEngine.fetchRecomputedExtents();return{extent:C,timeExtent:q}}async _createFeatures(R){if(null==R)return[];const{geometryType:A,hasZ:C,objectIdField:q}=this._queryEngine,Z=(0,ee.bd)(R,{geometryType:A,hasZ:C,objectIdField:q});if(!(0,J.aI)(this._queryEngine.spatialReference,J.KK))for(const X of Z)null!=X.geometry&&(X.geometry=(0,W.Ux)((0,H.Cv)((0,W.zv)(X.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),J.KK,this._queryEngine.spatialReference)));return Z}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(R){const{url:A,customParameters:C}=this._loadOptions,Z=(await(0,q.A)(A,{responseType:"json",query:{...C},signal:R})).data;return(0,ee.sO)(Z),Z}_normalizeFeatures(R,A){const{objectIdField:C,fieldsIndex:q}=this._queryEngine,Z=[];for(const X of R){const R=this._createDefaultAttributes(),D=(0,ne.MB)(q,R,X.attributes,!0);D?null===A||void 0===A||A.push(D):(this._assignObjectId(R,X.attributes,!0),X.attributes=R,X.objectId=R[C],Z.push(X))}return Z}async _applyEdits(R){const{adds:A,updates:C,deletes:q}=R,Z={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(null!==A&&void 0!==A&&A.length&&this._applyAddEdits(Z,A),null!==C&&void 0!==C&&C.length&&this._applyUpdateEdits(Z,C),null!==q&&void 0!==q&&q.length){for(const R of q)Z.deleteResults.push((0,ne.bP)(R));this._queryEngine.featureStore.removeManyById(q)}const{fullExtent:X,timeExtent:D}=await this._queryEngine.fetchRecomputedExtents();return{extent:X,timeExtent:D,featureEditResults:Z}}_applyAddEdits(R,A){const{addResults:C}=R,{geometryType:q,hasM:Z,hasZ:X,objectIdField:D,spatialReference:z,featureStore:J,fieldsIndex:$}=this._queryEngine,V=[];for(const W of A){if(W.geometry&&q!==(0,K.$B)(W.geometry)){C.push((0,ne.Yx)("Incorrect geometry type."));continue}const A=this._createDefaultAttributes(),Z=(0,ne.MB)($,A,W.attributes);if(Z)C.push(Z);else{if(this._assignObjectId(A,W.attributes),W.attributes=A,null!=W.uid){const A=W.attributes[D];R.uidToObjectId[W.uid]=A}if(null!=W.geometry){var ee;const R=null!==(ee=W.geometry.spatialReference)&&void 0!==ee?ee:z;W.geometry=(0,H.Cv)((0,ne.CR)(W.geometry,R),R,z)}V.push(W),C.push((0,ne.bP)(W.attributes[D]))}}J.addMany((0,W.Di)([],V,q,X,Z,D))}_applyUpdateEdits(R,A){let{updateResults:C}=R;const{geometryType:q,hasM:Z,hasZ:X,objectIdField:D,spatialReference:z,featureStore:J,fieldsIndex:$}=this._queryEngine;for(const ee of A){const{attributes:R,geometry:A}=ee,te=null===R||void 0===R?void 0:R[D];if(null==te){C.push((0,ne.Yx)("Identifier field ".concat(D," missing")));continue}if(!J.has(te)){C.push((0,ne.Yx)("Feature with object id ".concat(te," missing")));continue}const ie=(0,W.oN)(J.getFeature(te),q,X,Z);if(null!=A){var V;if(q!==(0,K.$B)(A)){C.push((0,ne.Yx)("Incorrect geometry type."));continue}const R=null!==(V=A.spatialReference)&&void 0!==V?V:z;ie.geometry=(0,H.Cv)((0,ne.CR)(A,R),R,z)}if(R){const A=(0,ne.MB)($,ie.attributes,R);if(A){C.push(A);continue}}J.add((0,W.E2)(ie,q,X,Z,D)),C.push((0,ne.bP)(te))}}_createObjectIdGenerator(R,A){const C=R.fieldsIndex.get(R.objectIdField);if("esriFieldTypeString"===C.type)return()=>C.name+"-"+Date.now().toString(16);let q=Number.NEGATIVE_INFINITY;for(const Z of A)Z.objectId&&(q=Math.max(q,Z.objectId));return q=Math.max(0,q)+1,()=>q++}_assignObjectId(R,A){let C=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const q=this._queryEngine.objectIdField;R[q]=C&&q in A?A[q]:this._objectIdGenerator()}async _checkProjection(R){try{await(0,H.Nk)(J.KK,R)}catch{throw new X.A("geojson-layer","Projection not supported")}}}},86595:(R,A,C)=>{C.d(A,{BM:()=>I,bd:()=>N,sO:()=>E,xD:()=>u});var q=C(62408),Z=C(4180),X=C(78395),D=C(57224),z=C(41156),K=C(57022);const J={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function u(R){return J[R]}function*l(R){switch(R.type){case"Feature":yield R;break;case"FeatureCollection":for(const A of R.features)A&&(yield A)}}function*f(R){if(R)switch(R.type){case"Point":yield R.coordinates;break;case"LineString":case"MultiPoint":yield*R.coordinates;break;case"MultiLineString":case"Polygon":for(const A of R.coordinates)yield*A;break;case"MultiPolygon":for(const A of R.coordinates)for(const R of A)yield*R}}function a(R){for(const A of R)if(A.length>2)return!0;return!1}function g(R){let A=0;for(let C=0;C<R.length;C++){const q=R[C],Z=R[(C+1)%R.length];A+=q[0]*Z[1]-Z[0]*q[1]}return A<=0}function m(R){const A=R[0],C=R[R.length-1];return A[0]===C[0]&&A[1]===C[1]&&A[2]===C[2]||R.push(A),R}function h(R,A,C){switch(A.type){case"LineString":return function w(R,A,C){return M(R,A.coordinates,C),R}(R,A,C);case"MultiLineString":return function P(R,A,C){for(const q of A.coordinates)M(R,q,C);return R}(R,A,C);case"MultiPoint":return function j(R,A,C){return M(R,A.coordinates,C),R}(R,A,C);case"MultiPolygon":return function b(R,A,C){for(const q of A.coordinates){G(R,q[0],C);for(let A=1;A<q.length;A++)k(R,q[A],C)}return R}(R,A,C);case"Point":return function S(R,A,C){return O(R,A.coordinates,C),R}(R,A,C);case"Polygon":return function F(R,A,C){const q=A.coordinates;G(R,q[0],C);for(let Z=1;Z<q.length;Z++)k(R,q[Z],C);return R}(R,A,C)}}function G(R,A,C){const q=m(A);!function y(R){return!g(R)}(q)?M(R,q,C):T(R,q,C)}function k(R,A,C){const q=m(A);!function d(R){return g(R)}(q)?M(R,q,C):T(R,q,C)}function M(R,A,C){for(const q of A)O(R,q,C);R.lengths.push(A.length)}function T(R,A,C){for(let q=A.length-1;q>=0;q--)O(R,A[q],C);R.lengths.push(A.length)}function O(R,A,C){const[q,Z,X]=A;R.coords.push(q,Z),C.hasZ&&R.coords.push(X||0)}function L(R){switch(typeof R){case"string":return(0,q.Br)(R)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function E(R){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4326;if(!R)throw new Z.A("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==R.type&&"FeatureCollection"!==R.type)throw new Z.A("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:R});const{crs:C}=R;if(!C)return;const q="string"==typeof C?C:"name"===C.type?C.properties.name:"EPSG"===C.type?C.properties.code:null,D=(0,X.oT)({wkid:A})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(".*(".concat(A,")$"),"i");if(!q||!D.test(q))throw new Z.A("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:C})}function I(R){var A,C;let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const Z=[],X=new Set,D=new Set;let z,J=!1,W=null,$=!1,{geometryType:H=null}=q,V=!1;for(const te of l(R)){const{geometry:R,properties:A,id:C}=te;if((!R||(H||(H=u(R.type)),u(R.type)===H))&&(J||(J=a(f(R))),$||($=null!=C,$&&(z=typeof C,A&&(W=Object.keys(A).filter((R=>A[R]===C))))),A&&W&&$&&null!=C&&(W.length>1?W=W.filter((R=>A[R]===C)):1===W.length&&(W=A[W[0]]===C?W:[])),!V&&A)){let R=!0;for(const C in A){if(X.has(C))continue;const q=A[C];if(null==q){R=!1,D.add(C);continue}const z=L(q);if("unknown"===z){D.add(C);continue}D.delete(C),X.add(C);const J=(0,K.rS)(C);J&&Z.push({name:J,alias:C,type:z})}V=R}}const ee=null!==(A=(0,K.rS)(1===(null===(C=W)||void 0===C?void 0:C.length)&&W[0]||null))&&void 0!==A?A:void 0;if(ee)for(const te of Z)if(te.name===ee&&(0,K.WA)(te)){te.type="esriFieldTypeOID";break}return{fields:Z,geometryType:H,hasZ:J,objectIdFieldName:ee,objectIdFieldType:z,unknownFields:Array.from(D)}}function N(R,A){return Array.from(function p(R){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{geometryType:C,objectIdField:q}=A;for(const X of R){var Z;const{geometry:R,properties:K,id:J}=X;if(R&&u(R.type)!==C)continue;const W=K||{};let $;q&&($=W[q],null==J||$||(W[q]=$=J));const H=new D.Om(R?h(new z.A,R,A):null,W,null,null!==(Z=$)&&void 0!==Z?Z:void 0);yield H}}()}(l(R),A))}},67818:(R,A,C)=>{C.d(A,{$1:()=>j,CR:()=>y,MB:()=>p,Yx:()=>f,bP:()=>d});var q=C(62408),Z=C(78395),X=C(57022);class u{constructor(){this.code=null,this.description=null}}class c{constructor(R){this.error=new u,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=R}}function f(R){return new c(R)}class a{constructor(R){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=R}}function d(R){return new a(R)}const D=new Set;function p(R,A,C){let q=arguments.length>3&&void 0!==arguments[3]&&arguments[3];D.clear();for(const z in C){const Z=R.get(z);if(!Z)continue;const K=g(Z,C[z]);if(D.add(Z.name),Z&&(q||Z.editable)){const R=(0,X.CJ)(Z,K);if(R)return f((0,X.uo)(R,Z,K));A[Z.name]=K}}for(const X of null!==(Z=null===R||void 0===R?void 0:R.requiredFields)&&void 0!==Z?Z:[]){var Z;if(!D.has(X.name))return f('missing required field "'.concat(X.name,'"'))}return null}function g(R,A){let C=A;return(0,X.WA)(R)&&"string"==typeof A?C=parseFloat(A):(0,X.yM)(R)&&null!=A&&"string"!=typeof A?C=String(A):(0,X.vE)(R)&&"string"==typeof A&&(C=(0,q._U)(A)),(0,X.WX)(C)}let z;function y(R,A){if(!R||!(0,Z.fn)(A))return R;if("rings"in R||"paths"in R){if(null==z)throw new TypeError("geometry engine not loaded");return z.simplify(A,R)}return R}async function j(R,A){!(0,Z.fn)(R)||"esriGeometryPolygon"!==A&&"esriGeometryPolyline"!==A||await async function w(){return null==z&&(z=await Promise.all([C.e(8300),C.e(3901)]).then(C.bind(C,93901))),z}()}}}]);
//# sourceMappingURL=8466.6cae0a1a.chunk.js.map