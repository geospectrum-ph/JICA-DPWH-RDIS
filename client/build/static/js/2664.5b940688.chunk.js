"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[2664],{42687:(R,I,F)=>{F.d(I,{e:()=>X});var W,V,$,Y=F(2155),J={exports:{}};W=J,V=function(){function e(R,I,F){F=F||2;var W,V,$,Y,J,X,K,Q=I&&I.length,ee=Q?I[0]*F:R.length,te=n(R,0,ee,F,!0),ne=[];if(!te||te.next===te.prev)return ne;if(Q&&(te=f(R,I,te,F)),R.length>80*F){W=$=R[0],V=Y=R[1];for(var re=F;re<ee;re+=F)(J=R[re])<W&&(W=J),(X=R[re+1])<V&&(V=X),J>$&&($=J),X>Y&&(Y=X);K=0!==(K=Math.max($-W,Y-V))?1/K:0}return r(te,ne,F,W,V,K),ne}function n(R,I,F,W,V){var $,Y;if(V===C(R,I,F,W)>0)for($=I;$<F;$+=W)Y=q($,R[$],R[$+1],Y);else for($=F-W;$>=I;$-=W)Y=q($,R[$],R[$+1],Y);if(Y&&m(Y,Y.next)){var J=Y.next;A(Y),Y=J}return Y}function t(R,I){if(!R)return R;I||(I=R);var F,W=R;do{if(F=!1,W.steiner||!m(W,W.next)&&0!==w(W.prev,W,W.next))W=W.next;else{var V=W.prev;if(A(W),(W=I=V)===W.next)break;F=!0}}while(F||W!==I);return I}function r(R,I,F,W,V,$,Y){if(R){!Y&&$&&h(R,W,V,$);for(var J,X,K=R;R.prev!==R.next;)if(J=R.prev,X=R.next,$?i(R,W,V,$):x(R))I.push(J.i/F),I.push(R.i/F),I.push(X.i/F),A(R),R=X.next,K=X.next;else if((R=X)===K){Y?1===Y?r(R=u(t(R),I,F),I,F,W,V,$,2):2===Y&&v(R,I,F,W,V,$):r(t(R),I,F,W,V,$,1);break}}}function x(R){var I=R.prev,F=R,W=R.next;if(w(I,F,W)>=0)return!1;for(var V=R.next.next;V!==R.prev;){if(g(I.x,I.y,F.x,F.y,W.x,W.y,V.x,V.y)&&w(V.prev,V,V.next)>=0)return!1;V=V.next}return!0}function i(R,I,F,W){var V=R.prev,$=R,Y=R.next;if(w(V,$,Y)>=0)return!1;for(var J=V.x<$.x?V.x<Y.x?V.x:Y.x:$.x<Y.x?$.x:Y.x,X=V.y<$.y?V.y<Y.y?V.y:Y.y:$.y<Y.y?$.y:Y.y,K=V.x>$.x?V.x>Y.x?V.x:Y.x:$.x>Y.x?$.x:Y.x,Q=V.y>$.y?V.y>Y.y?V.y:Y.y:$.y>Y.y?$.y:Y.y,ee=c(J,X,I,F,W),te=c(K,Q,I,F,W),ne=R.prevZ,re=R.nextZ;ne&&ne.z>=ee&&re&&re.z<=te;){if(ne!==R.prev&&ne!==R.next&&g(V.x,V.y,$.x,$.y,Y.x,Y.y,ne.x,ne.y)&&w(ne.prev,ne,ne.next)>=0)return!1;if(ne=ne.prevZ,re!==R.prev&&re!==R.next&&g(V.x,V.y,$.x,$.y,Y.x,Y.y,re.x,re.y)&&w(re.prev,re,re.next)>=0)return!1;re=re.nextZ}for(;ne&&ne.z>=ee;){if(ne!==R.prev&&ne!==R.next&&g(V.x,V.y,$.x,$.y,Y.x,Y.y,ne.x,ne.y)&&w(ne.prev,ne,ne.next)>=0)return!1;ne=ne.prevZ}for(;re&&re.z<=te;){if(re!==R.prev&&re!==R.next&&g(V.x,V.y,$.x,$.y,Y.x,Y.y,re.x,re.y)&&w(re.prev,re,re.next)>=0)return!1;re=re.nextZ}return!0}function u(R,I,F){var W=R;do{var V=W.prev,$=W.next.next;!m(V,$)&&M(V,W,W.next,$)&&j(V,$)&&j($,V)&&(I.push(V.i/F),I.push(W.i/F),I.push($.i/F),A(W),A(W.next),W=R=$),W=W.next}while(W!==R);return t(W)}function v(R,I,F,W,V,$){var Y=R;do{for(var J=Y.next.next;J!==Y.prev;){if(Y.i!==J.i&&d(Y,J)){var X=_(Y,J);return Y=t(Y,Y.next),X=t(X,X.next),r(Y,I,F,W,V,$),void r(X,I,F,W,V,$)}J=J.next}Y=Y.next}while(Y!==R)}function f(R,I,F,W){var V,$,Y,J=[];for(V=0,$=I.length;V<$;V++)(Y=n(R,I[V]*W,V<$-1?I[V+1]*W:R.length,W,!1))===Y.next&&(Y.steiner=!0),J.push(Z(Y));for(J.sort(o),V=0;V<J.length;V++)F=t(F=p(J[V],F),F.next);return F}function o(R,I){return R.x-I.x}function y(R){if(R.next.prev===R)return R;let I=R;for(;;){const F=I.next;if(F.prev===I||F===I||F===R)break;I=F}return I}function p(R,I){var F=function a(R,I){var F,W=I,V=R.x,$=R.y,Y=-1/0;do{if($<=W.y&&$>=W.next.y&&W.next.y!==W.y){var J=W.x+($-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(J<=V&&J>Y){if(Y=J,J===V){if($===W.y)return W;if($===W.next.y)return W.next}F=W.x<W.next.x?W:W.next}}W=W.next}while(W!==I);if(!F)return null;if(V===Y)return F;var X,K=F,Q=F.x,ee=F.y,te=1/0;W=F;do{V>=W.x&&W.x>=Q&&V!==W.x&&g($<ee?V:Y,$,Q,ee,$<ee?Y:V,$,W.x,W.y)&&(X=Math.abs($-W.y)/(V-W.x),j(W,R)&&(X<te||X===te&&(W.x>F.x||W.x===F.x&&l(F,W)))&&(F=W,te=X)),W=W.next}while(W!==K);return F}(R,I);if(!F)return I;var W=_(F,R),V=t(F,F.next);let $=y(W);return t($,$.next),V=y(V),y(I===F?V:I)}function l(R,I){return w(R.prev,R,I.prev)<0&&w(I.next,R,R.next)<0}function h(R,I,F,W){var V=R;do{null===V.z&&(V.z=c(V.x,V.y,I,F,W)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next}while(V!==R);V.prevZ.nextZ=null,V.prevZ=null,function s(R){var I,F,W,V,$,Y,J,X,K=1;do{for(F=R,R=null,$=null,Y=0;F;){for(Y++,W=F,J=0,I=0;I<K&&(J++,W=W.nextZ);I++);for(X=K;J>0||X>0&&W;)0!==J&&(0===X||!W||F.z<=W.z)?(V=F,F=F.nextZ,J--):(V=W,W=W.nextZ,X--),$?$.nextZ=V:R=V,V.prevZ=$,$=V;F=W}$.nextZ=null,K*=2}while(Y>1);return R}(V)}function c(R,I,F,W,V){return(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R=32767*(R-F)*V)|R<<8))|R<<4))|R<<2))|R<<1))|(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-W)*V)|I<<8))|I<<4))|I<<2))|I<<1))<<1}function Z(R){var I=R,F=R;do{(I.x<F.x||I.x===F.x&&I.y<F.y)&&(F=I),I=I.next}while(I!==R);return F}function g(R,I,F,W,V,$,Y,J){return(V-Y)*(I-J)-(R-Y)*($-J)>=0&&(R-Y)*(W-J)-(F-Y)*(I-J)>=0&&(F-Y)*($-J)-(V-Y)*(W-J)>=0}function d(R,I){return R.next.i!==I.i&&R.prev.i!==I.i&&!function k(R,I){var F=R;do{if(F.i!==R.i&&F.next.i!==R.i&&F.i!==I.i&&F.next.i!==I.i&&M(F,F.next,R,I))return!0;F=F.next}while(F!==R);return!1}(R,I)&&(j(R,I)&&j(I,R)&&function H(R,I){var F=R,W=!1,V=(R.x+I.x)/2,$=(R.y+I.y)/2;do{F.y>$!=F.next.y>$&&F.next.y!==F.y&&V<(F.next.x-F.x)*($-F.y)/(F.next.y-F.y)+F.x&&(W=!W),F=F.next}while(F!==R);return W}(R,I)&&(w(R.prev,R,I.prev)||w(R,I.prev,I))||m(R,I)&&w(R.prev,R,R.next)>0&&w(I.prev,I,I.next)>0)}function w(R,I,F){return(I.y-R.y)*(F.x-I.x)-(I.x-R.x)*(F.y-I.y)}function m(R,I){return R.x===I.x&&R.y===I.y}function M(R,I,F,W){var V=b(w(R,I,F)),$=b(w(R,I,W)),Y=b(w(F,W,R)),J=b(w(F,W,I));return V!==$&&Y!==J||!(0!==V||!z(R,F,I))||!(0!==$||!z(R,W,I))||!(0!==Y||!z(F,R,W))||!(0!==J||!z(F,I,W))}function z(R,I,F){return I.x<=Math.max(R.x,F.x)&&I.x>=Math.min(R.x,F.x)&&I.y<=Math.max(R.y,F.y)&&I.y>=Math.min(R.y,F.y)}function b(R){return R>0?1:R<0?-1:0}function j(R,I){return w(R.prev,R,R.next)<0?w(R,I,R.next)>=0&&w(R,R.prev,I)>=0:w(R,I,R.prev)<0||w(R,R.next,I)<0}function _(R,I){var F=new B(R.i,R.x,R.y),W=new B(I.i,I.x,I.y),V=R.next,$=I.prev;return R.next=I,I.prev=R,F.next=V,V.prev=F,W.next=F,F.prev=W,$.next=W,W.prev=$,W}function q(R,I,F,W){var V=new B(R,I,F);return W?(V.next=W.next,V.prev=W,W.next.prev=V,W.next=V):(V.prev=V,V.next=V),V}function A(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function B(R,I,F){this.i=R,this.x=I,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(R,I,F,W){for(var V=0,$=I,Y=F-W;$<F;$+=W)V+=(R[Y]-R[$])*(R[$+1]+R[Y+1]),Y=$;return V}return e.deviation=function(R,I,F,W){var V=I&&I.length,$=V?I[0]*F:R.length,Y=Math.abs(C(R,0,$,F));if(V)for(var J=0,X=I.length;J<X;J++){var K=I[J]*F,Q=J<X-1?I[J+1]*F:R.length;Y-=Math.abs(C(R,K,Q,F))}var ee=0;for(J=0;J<W.length;J+=3){var te=W[J]*F,ne=W[J+1]*F,re=W[J+2]*F;ee+=Math.abs((R[te]-R[re])*(R[ne+1]-R[te+1])-(R[te]-R[ne])*(R[re+1]-R[te+1]))}return 0===Y&&0===ee?0:Math.abs((ee-Y)/Y)},e.flatten=function(R){for(var I=R[0][0].length,F={vertices:[],holes:[],dimensions:I},W=0,V=0;V<R.length;V++){for(var $=0;$<R[V].length;$++)for(var Y=0;Y<I;Y++)F.vertices.push(R[V][$][Y]);V>0&&(W+=R[V-1].length,F.holes.push(W))}return F},e},void 0!==($=V())&&(W.exports=$);const X=(0,Y.g)(J.exports)},72664:(R,I,F)=>{F.d(I,{A:()=>dt});var W=F(80671),V=F(63537),$=F(4180),Y=F(3616),J=F(89412),X=F(5203),K=F(81618),Q=F(63390),ee=F(57453),te=(F(50886),F(76761),F(68682)),ne=F(83800),re=F(84661),oe=F(66445),ie=F(57264),se=F(48343),ae=F(58968),le=F(18053);const ce="Expected location to be a Point instance";class i extends $.A{constructor(){super("invalid-input:location",ce)}}var ue=F(75478),pe=F(49837),he=F(45042),fe=F(61255),de=F(17061),ve=F(47233),ge=F(21374),me=F(20148);let ye=null;function m(R){if(0===R.length)return ge.v_;const I=(0,ge.vt)([Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY]);return(0,ge.Hq)(I,R),I}function N(R,I){const[F,W,V,$,Y,J]=m(R);return new re.A({xmin:F,ymin:W,zmin:V,xmax:$,ymax:Y,zmax:J,spatialReference:I})}var xe=F(54880),we=F(85792),Ae=F(18856);const be="esri.geometry.support.meshUtils.centerAt";function l(R,I,F){var W,V;if(null===(W=R.vertexAttributes)||void 0===W||!W.position)return;const{vertexSpace:$}=R,Y=null!==(V=null===F||void 0===F?void 0:F.origin)&&void 0!==V?V:R.anchor,X=null===F||void 0===F?void 0:F.geographic,K=(0,Ae.QD)(be,$,Y.spatialReference,X);(0,de.Hq)($)?function f(R,I,F){const{vertexSpace:W}=R;if(!(0,de.Hq)(W))return;const V=Me,$=_e;if(!(0,we.g)(I,$,R.spatialReference))return void J.A.getLogger(be).error("Failed to project centerAt location (wkid:".concat(I.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(R.spatialReference.wkid,"). Projection may be possible after calling projection.load()."));if(!(0,we.g)(F,V,R.spatialReference)){const I=R.origin;V[0]=I.x,V[1]=I.y,V[2]=I.z,J.A.getLogger(be).error("Failed to project specified origin (wkid:".concat(F.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(R.spatialReference.wkid,"). Projection may be possible after calling projection.load()."))}const Y=(0,xe.f)(Te,$,V);W.origin=(0,xe.g)((0,ne.vt)(),W.origin,Y)}(R,I,Y):K?function g(R,I,F){const W=(0,me.RN)(R.vertexAttributes,F),{position:V,normal:$,tangent:Y}=(0,me.wD)(W,I,!1);R.vertexAttributes.position=V,R.vertexAttributes.normal=$,R.vertexAttributes.tangent=Y,R.vertexAttributesChanged()}(R,I,Y):function d(R,I,F){const W=Me,V=_e;if((0,we.g)(I,V,R.spatialReference)){if(!(0,we.g)(F,W,R.spatialReference)){const I=R.origin;W[0]=I.x,W[1]=I.y,W[2]=I.z,J.A.getLogger(be).error("Failed to project specified origin (wkid:".concat(F.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(R.spatialReference.wkid,"). Projection may be possible after calling projection.load()."))}(function centerAt_m(R,I,F){if(R)for(let W=0;W<R.length;W+=3)for(let V=0;V<3;V++)R[W+V]+=I[V]-F[V]})(R.vertexAttributes.position,V,W),R.vertexAttributesChanged()}else J.A.getLogger(be).error("Failed to project centerAt location (wkid:".concat(I.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(R.spatialReference.wkid,"). Projection may be possible after calling projection.load()."))}(R,I,Y)}const _e=(0,ne.vt)(),Me=(0,ne.vt)(),Te=(0,ne.vt)();var Se=F(4270);async function c(R,I,W){const{source:V}=I,{loadGLTFMesh:Y}=await(0,K.qr)(Promise.all([F.e(4197),F.e(7624)]).then(F.bind(F,47624)),W),J=await async function loadExternal_f(R,I){if(Array.isArray(R)){if(!R.length)throw new $.A("mesh-load-external:missing-assets","There must be at least one file to load");return R[0]instanceof File?function h(R){return T(R.map((R=>({name:R.name,mimeType:R.type,source:loadExternal_p(R)}))))}(R):async function y(R,I){const F=await(0,K.nA)(R.map((async R=>{const F=await async function loadExternal_m(R,I){const{parts:F,assetMimeType:W,assetName:V}=R;if(1===F.length)return new loadExternal_j(F[0].partUrl);const $=await R.toBlob(I);return(0,K.Te)(I),loadExternal_j.fromBlob($,x(V,W))}(R);return(0,K.Te)(I),{name:R.assetName,mimeType:R.assetMimeType,source:F}})));if((0,K.G4)(I))throw F.forEach((R=>R.source.dispose())),(0,K.NK)();return T(F)}(R,I)}return loadExternal_p(R)}(V,W);(0,K.Te)(W);const X=Y(new ie.A({x:0,y:0,z:0,spatialReference:R.spatialReference}),J.url,{resolveFile:loadExternal_u(J),signal:null===W||void 0===W?void 0:W.signal,expectedType:J.type});X.then((()=>J.dispose()),(()=>J.dispose()));const{vertexAttributes:Q,components:ee}=await X;R.vertexAttributes=Q,R.components=ee}function loadExternal_u(R){const I=(0,Se.nM)(R.url);return F=>{var W;const V=(0,Se.V1)(F,I,I),$=V?V.replace(/^ *\.\//,""):null;return null!==(W=$?R.files.get($):null)&&void 0!==W?W:F}}function loadExternal_p(R){return loadExternal_j.fromBlob(R,x(R.name,R.type))}const je=/^model\/gltf\+json$/,Ze=/^model\/gltf-binary$/,Re=/\.gltf$/i,De=/\.glb$/i;function T(R){const I=new Map;let F,W=null;for(const{name:V,mimeType:$,source:Y}of R)null===W&&(je.test($)||Re.test(V)?(W=Y.url,F="gltf"):(Ze.test($)||De.test(V))&&(W=Y.url,F="glb")),I.set(V,Y.url),Y.files.forEach(((R,F)=>I.set(F,R)));if(null==W)throw new $.A("mesh-load-external:missing-files","Missing files to load external mesh source");return new loadExternal_j(W,(()=>R.forEach((R=>{let{source:I}=R;return I.dispose()}))),I,F)}class loadExternal_j{constructor(R){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,W=arguments.length>3?arguments[3]:void 0;this.url=R,this.dispose=I,this.files=F,this.type=W}static fromBlob(R,I){const F=URL.createObjectURL(R);return new loadExternal_j(F,(()=>URL.revokeObjectURL(F)),void 0,I)}}function x(R,I){return je.test(I)||Re.test(R)?"gltf":Ze.test(I)||Re.test(R)?"glb":void 0}var Ie=F(88706),Fe=F(39652),Ce=F(81581);let Le=class extends Ie.P{constructor(){super(),this.externalSources=new Fe.A,this._explicitDisplaySource=null,this.addHandles((0,Q.on)((()=>this.externalSources),"after-remove",(R=>{let{item:I}=R;I===this._explicitDisplaySource&&(this._explicitDisplaySource=null)}),{sync:!0,onListenerRemove:()=>this._explicitDisplaySource=null}))}get displaySource(){var R;return null!==(R=this._explicitDisplaySource)&&void 0!==R?R:this._implicitDisplaySource}set displaySource(R){if(null!=R&&!(0,Ce.yr)(R))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=R,R&&this.externalSources.every((I=>!(0,Ce.in)(I,R)))&&this.externalSources.add(R)}clearSources(){this.externalSources.removeAll()}getExternalSourcesOnService(R){return this.externalSources.items.filter((I=>(0,Ce.eN)(I,R)))}get _implicitDisplaySource(){return this.externalSources.find(Ce.yr)}};(0,W._)([(0,ee.MZ)()],Le.prototype,"externalSources",void 0),(0,W._)([(0,ee.MZ)()],Le.prototype,"displaySource",null),(0,W._)([(0,ee.MZ)()],Le.prototype,"_implicitDisplaySource",null),(0,W._)([(0,ee.MZ)()],Le.prototype,"_explicitDisplaySource",void 0),Le=(0,W._)([(0,te.$)("esri.geometry.support.meshUtils.Metadata")],Le);var Ne=F(66912);const Oe={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function A(R,I,F){R.isPlane||function primitives_x(R){for(let I=0;I<R.position.length;I+=3)R.position[I+2]+=.5}(R),function primitives_d(R,I){if(null!=I){ke[0]=I[0],ke[4]=I[1],ke[8]=I[2];for(let I=0;I<R.position.length;I+=3){for(let F=0;F<3;F++)Pe[F]=R.position[I+F];(0,xe.t)(Pe,Pe,ke);for(let F=0;F<3;F++)R.position[I+F]=Pe[F]}if(I[0]!==I[1]||I[1]!==I[2]){ke[0]=1/I[0],ke[4]=1/I[1],ke[8]=1/I[2];for(let I=0;I<R.normal.length;I+=3){for(let F=0;F<3;F++)Pe[F]=R.normal[I+F];(0,xe.t)(Pe,Pe,ke),(0,xe.n)(Pe,Pe);for(let F=0;F<3;F++)R.normal[I+F]=Pe[F]}}}}(R,function primitives_y(R,I,F){const W=(0,me.nX)(I,F);if(null==R&&1===W)return null;if(null==R)return[W,W,W];if("number"==typeof R){const I=R*W;return[I,I,I]}return[null!=R.width?R.width*W:W,null!=R.depth?R.depth*W:W,null!=R.height?R.height*W:W]}(null===F||void 0===F?void 0:F.size,null===F||void 0===F?void 0:F.unit,I.spatialReference));const{vertexAttributes:W,vertexSpace:V,transform:$}=(0,me.qD)(R,I,{vertexSpace:null===F||void 0===F?void 0:F.vertexSpace,geographic:null===F||void 0===F?void 0:F.geographic});return{vertexAttributes:new fe.H({...W,uv:R.uv}),vertexSpace:V,transform:$,components:[new le.A({faces:R.faces,material:(null===F||void 0===F?void 0:F.material)||null})],spatialReference:I.spatialReference}}const Ee={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},Ue={south:0,east:1,north:2,west:3,up:4,down:5},Pe=(0,ne.vt)(),ke=(0,Ne.vt)();var ze=F(68052),He=F(39393),We=F(70655),Be=F(46064),qe=F(77912),Ve=F(13478),$e=F(88286),Ye=F(38559);function vertexSpaceConversion_c(R,I,F){let{vertexSpace:W,spatialReference:V}=F;if("georeferenced"===W.type){const F=R;if(!(0,we.g)(I,F,V))return!1;const{origin:$}=W;return(0,xe.f)(R,F,$),!0}const $=(0,Ve.lO)(V),Y=R;if(!(0,we.g)(I,Y,$))return!1;const{origin:J}=W,X=Ge;if(!(0,$e.l)(V,J,X,$))return!1;const K=(0,He.B8)(Ge,X);return null!=K&&((0,xe.e)(R,Y,K),!0)}const Ge=(0,We.vt)(),Je="esri.geometry.support.meshUtils.rotate";function D(R,I,F){var W,V;if(null===(W=R.vertexAttributes)||void 0===W||!W.position||0===I[3])return;const{spatialReference:$,vertexSpace:Y}=R,X=null!==(V=null===F||void 0===F?void 0:F.origin)&&void 0!==V?V:R.anchor,K=null===F||void 0===F?void 0:F.geographic,Q=(0,Ae.QD)(Je,Y,$,K);(0,de.CK)(R)?function E(R,I,F){var W;null!==(W=R.transform)&&void 0!==W||(R.transform=new he.A);const{vertexSpace:V,transform:$,spatialReference:Y}=R,[X,K,Q]=V.origin,ee=new ie.A({x:X,y:K,z:Q,spatialReference:Y}),te=Xe;if(ee.equals(F))(0,xe.s)(te,0,0,0);else if(!vertexSpaceConversion_c(te,F,R))return void J.A.getLogger(Je).error("Failed to project specified origin (wkid:".concat(F.spatialReference.wkid,") to mesh (wkid:").concat(Y.wkid,") ").concat(V.type," vertex space. Projection may be possible after calling projection.load()."));(0,Be.x8)(rt,(0,ae.yo)(I),(0,ae.$I)(I));const re=(0,He.O7)(Ke,rt,ne.uY,ne.Un,te),{localMatrix:oe}=$,se=(0,He.lw)(Ke,re,oe);$.scale=(0,He.IL)((0,ne.vt)(),se),(0,He.hs)(se,se,(0,xe.i)(Xe,$.scale)),$.rotation=(0,ae.ui)(se),$.translation=(0,He.sC)((0,ne.vt)(),se)}(R,I,X):Q?function rotate_O(R,I,F){const W=R.spatialReference,V=(0,Ve.lO)(W),$=nt;(0,we.g)(F,$,V)||(0,we.g)(R.origin,$,V);const Y=R.vertexAttributes.position,J=R.vertexAttributes.normal,X=R.vertexAttributes.tangent,K=new Float64Array(Y.length),Q=null!=J?new Float32Array(J.length):null,ee=null!=X?new Float32Array(X.length):null;(0,$e.l)(V,$,et,V),(0,ze.z0)(tt,et);const te=Qe;(0,xe.t)((0,ae.yo)(Qe),(0,ae.yo)(I),tt),te[3]=I[3],(0,Ye.gr)(Y,W,K),null!=J&&null!=Q&&(0,Ye.X4)(J,Y,K,W,Q),null!=X&&null!=ee&&(0,Ye.xA)(X,Y,K,W,ee),G(K,te,3,$),(0,Ye.$5)(K,Y,W),null!=J&&null!=Q&&(G(Q,te,3),(0,Ye.si)(Q,Y,K,W,J)),null!=X&&null!=ee&&(G(ee,te,4),(0,Ye.Mv)(ee,Y,K,W,X)),R.vertexAttributesChanged()}(R,I,X):function B(R,I,F){const W=nt;if(!(0,we.g)(F,W,R.spatialReference)){const I=R.origin;W[0]=I.x,W[1]=I.y,W[2]=I.z,J.A.getLogger(Je).error("Failed to project specified origin (wkid:".concat(F.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(R.spatialReference.wkid,"). Projection may be possible after calling projection.load()."))}G(R.vertexAttributes.position,I,3,W),G(R.vertexAttributes.normal,I,3),G(R.vertexAttributes.tangent,I,4),R.vertexAttributesChanged()}(R,I,X)}function G(R,I,F){let W=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne.uY;if(null!=R){(0,He.$0)(et,(0,ae.$I)(I),(0,ae.yo)(I));for(let I=0;I<R.length;I+=F){for(let F=0;F<3;F++)Xe[F]=R[I+F]-W[F];(0,xe.e)(Xe,Xe,et);for(let F=0;F<3;F++)R[I+F]=Xe[F]+W[F]}}}const Xe=(0,ne.vt)(),Ke=(0,We.vt)(),Qe=(0,ae.vt)(),et=(0,We.vt)(),tt=(0,Ne.vt)(),nt=(0,ne.vt)(),rt=(0,qe.vt)(),ot="esri.geometry.support.meshUtils.scale";function P(R,I,F){var W,V;if(null===(W=R.vertexAttributes)||void 0===W||!W.position)return;const{vertexSpace:$,spatialReference:Y}=R,X=null!==(V=null===F||void 0===F?void 0:F.origin)&&void 0!==V?V:R.anchor,K=null===F||void 0===F?void 0:F.geographic,Q=(0,Ae.QD)(ot,$,Y,K);(0,de.CK)(R)?function S(R,I,F){var W;null!==(W=R.transform)&&void 0!==W||(R.transform=new he.A);const{vertexSpace:V,transform:$,spatialReference:Y}=R,[X,K,Q]=V.origin,ee=new ie.A({x:X,y:K,z:Q,spatialReference:Y}),te=it;if(ee.equals(F))(0,xe.s)(te,0,0,0);else if(!vertexSpaceConversion_c(te,F,R))return void J.A.getLogger(ot).error("Failed to project specified origin (wkid:".concat(F.spatialReference.wkid,") to mesh (wkid:").concat(Y.wkid,") ").concat(V.type," vertex space. Projection may be possible after calling projection.load()."));const re=(0,xe.s)(st,I,I,I),oe=(0,He.O7)(at,qe.zK,ne.uY,re,te),{localMatrix:se}=$,le=(0,He.lw)(at,oe,se);$.scale=(0,He.IL)((0,ne.vt)(),le),(0,He.hs)(le,le,(0,xe.i)(it,$.scale)),$.rotation=(0,ae.ui)(le),$.translation=(0,He.sC)((0,ne.vt)(),le)}(R,I,X):Q?function U(R,I,F){const W=R.spatialReference,V=(0,Ve.lO)(W),$=lt;(0,we.g)(F,$,V)||(0,we.g)(R.origin,$,V);const Y=R.vertexAttributes.position,J=R.vertexAttributes.normal,X=R.vertexAttributes.tangent,K=new Float64Array(Y.length),Q=null!=J?new Float32Array(J.length):null,ee=null!=X?new Float32Array(X.length):null;(0,Ye.gr)(Y,W,K),null!=J&&null!=Q&&(0,Ye.X4)(J,Y,K,W,Q),null!=X&&null!=ee&&(0,Ye.xA)(X,Y,K,W,ee),L(K,I,$),(0,Ye.$5)(K,Y,W),null!=J&&null!=Q&&(0,Ye.si)(Q,Y,K,W,J),null!=X&&null!=ee&&(0,Ye.Mv)(ee,Y,K,W,X),R.vertexAttributesChanged()}(R,I,X):function C(R,I,F){const W=lt;if(!(0,we.g)(F,W,R.spatialReference)){const I=R.origin;W[0]=I.x,W[1]=I.y,W[2]=I.z,J.A.getLogger(ot).error("Failed to project specified origin (wkid:".concat(F.spatialReference.wkid,") to mesh spatial reference (wkid:").concat(R.spatialReference.wkid,"). Projection may be possible after calling projection.load()."))}L(R.vertexAttributes.position,I,W),R.vertexAttributesChanged()}(R,I,X)}function L(R,I){let F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne.uY;if(R)for(let W=0;W<R.length;W+=3){for(let I=0;I<3;I++)it[I]=R[W+I]-F[I];(0,xe.h)(it,it,I);for(let I=0;I<3;I++)R[W+I]=it[I]+F[I]}}const it=(0,ne.vt)(),st=(0,ne.vt)(),at=(0,We.vt)(),lt=(0,ne.vt)();var ct;const ut="esri.geometry.Mesh";function Mesh_J(){return J.A.getLogger(ut)}const pt={base:null,key:"type",defaultKeyValue:"georeferenced",typeMap:{georeferenced:ue.A,local:pe.A}};let ht=ct=class extends(Y.A.LoadableMixin((0,X.g)(oe.A))){constructor(R){super(R),this.components=null,this.vertexSpace=new ue.A,this.transform=null,this.metadata=new Le,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new fe.H,this.type="mesh"}initialize(){(0===this.metadata.externalSources.length||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when((()=>{this.addHandles((0,Q.wB)((()=>{var R;return{vertexAttributes:this.vertexAttributes,components:null===(R=this.components)||void 0===R?void 0:R.map((R=>R.clone()))}}),(()=>this._clearSources()),{once:!0,sync:!0}))}))}get hasExtent(){var R;return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):null!=(null===(R=this.metadata.displaySource)||void 0===R?void 0:R.extent)}get _transformedExtent(){const{components:R,spatialReference:I,vertexAttributes:F,vertexSpace:W}=this,V=F.position;if(0===V.length||R&&0===R.length)return new re.A({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:I});if((0,de.Hq)(W)){const{_untransformedBounds:R,transform:F}=this;return function bounds_o(R,I,F,W){var V;let[$,Y,J,X,K,Q]=R;null!==(V=ye)&&void 0!==V||(ye=new Float64Array(24));const ee=ye;return ee[0]=$,ee[1]=Y,ee[2]=J,ee[3]=$,ee[4]=K,ee[5]=J,ee[6]=X,ee[7]=K,ee[8]=J,ee[9]=X,ee[10]=Y,ee[11]=J,ee[12]=$,ee[13]=Y,ee[14]=Q,ee[15]=$,ee[16]=K,ee[17]=Q,ee[18]=X,ee[19]=K,ee[20]=Q,ee[21]=X,ee[22]=Y,ee[23]=Q,(0,me.project)({positions:ee,transform:I,vertexSpace:F,inSpatialReference:W,outSpatialReference:W,outPositions:ee}),N(ee,W)}(R,F,W,I)}return N(V,I)}get _untransformedBounds(){return m(this.vertexAttributes.position)}get anchor(){const R=(0,de.MW)(this.vertexSpace,this.spatialReference);if(null!=R)return R;const{center:I,zmin:F}=this._transformedExtent;return new ie.A({x:I.x,y:I.y,z:F,spatialReference:this.spatialReference})}get origin(){const R=(0,de.MW)(this.vertexSpace,this.spatialReference);return null!=R?R:this._transformedExtent.center}get extent(){var R;return this.loaded||null==(null===(R=this.metadata)||void 0===R||null===(R=R.displaySource)||void 0===R?void 0:R.extent)?this._transformedExtent:this.metadata.displaySource.extent.clone()}addComponent(R){this._checkIfLoaded("addComponent()")&&(this.components||(this.components=[]),this.components.push(le.A.from(R)),this.notifyChange("components"))}removeComponent(R){if(this._checkIfLoaded("removeComponent()")){if(this.components){const I=this.components.indexOf(R);if(-1!==I)return this.components.splice(I,1),void this.notifyChange("components")}Mesh_J().error("removeComponent()","Provided component is not part of the list of components")}}rotate(R,I,F,W){return(0,ae.AU)(R,I,F,ft),D(this,ft,W),this}offset(R,I,F){if(!this._checkIfLoaded("offset()"))return this;const{vertexSpace:W,vertexAttributes:V}=this,$=null===V||void 0===V?void 0:V.position;if(!$)return this;if((0,de.Hq)(W)){const[V,$,Y]=W.origin;W.origin=(0,ne.fA)(V+R,$+I,Y+F)}else{for(let W=0;W<$.length;W+=3)$[W]+=R,$[W+1]+=I,$[W+2]+=F;this.vertexAttributesChanged()}return this}scale(R,I){return this._checkIfLoaded("scale()")?(P(this,R,I),this):this}centerAt(R,I){return this._checkIfLoaded("centerAt()")?(l(this,R,I),this):this}load(R){const{metadata:{displaySource:I}}=this;return I&&this.addResolvingPromise(c(this,I,R)),Promise.resolve(this)}addExternalSources(R){this.metadata.externalSources.addMany(R)}updateDisplaySource(R){this.metadata.displaySource=R}clone(){return this.cloneWithVertexSpace(this.vertexSpace.clone())}cloneWithVertexSpace(R){var I,F;let W=null;if(this.components){const R=new Map,I=new Map;W=this.components.map((F=>F.cloneWithDeduplication(R,I)))}const V={components:W,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes.clone(),vertexSpace:R,transform:null!==(I=null===(F=this.transform)||void 0===F?void 0:F.clone())&&void 0!==I?I:null,metadata:this.metadata.clone()};return new ct(V)}cloneShallow(){return new ct({components:this.components,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes,vertexSpace:this.vertexSpace.clone(),transform:this.transform,metadata:this.metadata})}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}async toBinaryGLTF(R){const I=F.e(9237).then(F.bind(F,79237)),W=this.load(),V=await Promise.all([I,W]),{toBinaryGLTF:$}=V[0];return $(this,R)}get memoryUsage(){let R=0;if(R+=this.vertexAttributes.memoryUsage,null!=this.components)for(const I of this.components)R+=I.memoryUsage;return R}_clearSources(){this.metadata.clearSources()}_checkIfLoaded(R){return!!this.loaded||(Mesh_J().error(R,"Mesh must be loaded before applying operations"),!1)}static createBox(R,I){if(!(R instanceof ie.A))return Mesh_J().error(".createBox()",ce),null;const F=new ct(A(function primitives_l(){const{faceDescriptions:R,faceVertexOffsets:I,uvScales:F}=Ee,W=4*R.length,V=new Float64Array(3*W),$=new Float32Array(3*W),Y=new Float32Array(2*W),J=new Uint32Array(2*R.length*3);let X=0,K=0,Q=0,ee=0;for(let te=0;te<R.length;te++){const W=R[te],ne=X/3;for(const R of I)J[ee++]=ne+R;const re=W.corners;for(let R=0;R<4;R++){const I=re[R];let J=0;Y[Q++]=.25*F[R][0]+W.uvOrigin[0],Y[Q++]=W.uvOrigin[1]-.25*F[R][1];for(let R=0;R<3;R++)0!==W.axis[R]?(V[X++]=.5*W.axis[R],$[K++]=W.axis[R]):(V[X++]=.5*I[J++],$[K++]=0)}}return{position:V,normal:$,uv:Y,faces:J}}(),R,I));return null!==I&&void 0!==I&&I.imageFace&&"all"!==I.imageFace?function primitives_c(R,I){const F=R.components[0],W=F.faces,V=Ue[I],$=6*V,Y=new Array(6),J=new Array(W.length-6);let X=0,K=0;for(let Q=0;Q<W.length;Q++)Q>=$&&Q<$+6?Y[X++]=W[Q]:J[K++]=W[Q];if(null!=R.vertexAttributes.uv){const I=new Float32Array(R.vertexAttributes.uv),F=4*V*2,W=[0,1,1,1,1,0,0,0];for(let R=0;R<W.length;R++)I[F+R]=W[R];R.vertexAttributes.uv=I}return R.components=[new le.A({faces:Y,material:F.material}),new le.A({faces:J})],R}(F,I.imageFace):F}static createSphere(R,I){return R instanceof ie.A?new ct(A(function primitives_f(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const I=Math.round(8*2**R),F=2*I,W=(I-1)*(F+1)+2*F,V=new Float64Array(3*W),$=new Float32Array(3*W),Y=new Float32Array(2*W),J=new Uint32Array((I-1)*F*2*3);let X=0,K=0,Q=0,ee=0;for(let te=0;te<=I;te++){const R=te/I*Math.PI+.5*Math.PI,W=Math.cos(R),ne=Math.sin(R);Pe[2]=ne;const re=0===te||te===I,oe=re?F-1:F;for(let ie=0;ie<=oe;ie++){const R=ie/oe*2*Math.PI;Pe[0]=-Math.sin(R)*W,Pe[1]=Math.cos(R)*W;for(let I=0;I<3;I++)V[X]=.5*Pe[I],$[X]=Pe[I],++X;Y[K++]=(ie+(re?.5:0))/F,Y[K++]=te/I,0!==te&&ie!==F&&(te!==I&&(J[Q++]=ee,J[Q++]=ee+1,J[Q++]=ee-F),1!==te&&(J[Q++]=ee,J[Q++]=ee-F,J[Q++]=ee-F-1)),ee++}}return{position:V,normal:$,uv:Y,faces:J}}((null===I||void 0===I?void 0:I.densificationFactor)||0),R,I)):(Mesh_J().error(".createSphere()",ce),null)}static createCylinder(R,I){return R instanceof ie.A?new ct(A(function primitives_u(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const I=Math.round(16*2**R),F=4*(I+1)+2*I,W=new Float64Array(3*F),V=new Float32Array(3*F),$=new Float32Array(2*F),Y=new Uint32Array(4*I*3);let J=0,X=0,K=0,Q=0,ee=0;for(let te=0;te<=5;te++){const R=0===te||5===te,F=te<=1||te>=4,ne=2===te||4===te,re=R?I-1:I;for(let oe=0;oe<=re;oe++){const ie=oe/re*2*Math.PI,se=R?0:.5;Pe[0]=se*Math.sin(ie),Pe[1]=se*-Math.cos(ie),Pe[2]=te<=2?.5:-.5;for(let R=0;R<3;R++)W[J++]=Pe[R],V[X++]=F?2===R?te<=1?1:-1:0:2===R?0:Pe[R]/se;$[K++]=(oe+(R?.5:0))/I,$[K++]=te<=1?1*te/3:te<=3?1*(te-2)/3+1/3:1*(te-4)/3+2/3,ne||0===te||oe===I||(5!==te&&(Y[Q++]=ee,Y[Q++]=ee+1,Y[Q++]=ee-I),1!==te&&(Y[Q++]=ee,Y[Q++]=ee-I,Y[Q++]=ee-I-1)),ee++}}return{position:W,normal:V,uv:$,faces:Y}}((null===I||void 0===I?void 0:I.densificationFactor)||0),R,I)):(Mesh_J().error(".createCylinder()",ce),null)}static createPlane(R,I){var F;if(!(R instanceof ie.A))return Mesh_J().error(".createPlane()",ce),null;const W=null!==(F=null===I||void 0===I?void 0:I.facing)&&void 0!==F?F:"up",V=function primitives_h(R,I){const F="number"==typeof I?I:null!=I?I.width:1,W="number"==typeof I?I:null!=I?I.height:1;switch(R){case"up":case"down":return{width:F,depth:W};case"north":case"south":return{width:F,height:W};case"east":case"west":return{depth:F,height:W}}}(W,null===I||void 0===I?void 0:I.size);return new ct(A(function primitives_p(R){const I=Oe.facingAxisOrderSwap[R],F=Oe.position,W=Oe.normal,V=new Float64Array(F.length),$=new Float32Array(W.length);let Y=0;for(let J=0;J<4;J++){const R=Y;for(let J=0;J<3;J++){const X=I[J],K=Math.abs(X)-1,Q=X>=0?1:-1;V[Y]=F[R+K]*Q,$[Y]=W[R+K]*Q,Y++}}return{position:V,normal:$,uv:new Float32Array(Oe.uv),faces:new Uint32Array(Oe.faces),isPlane:!0}}(W),R,{...I,size:V}))}static createFromPolygon(R,I){var F;if(!(R instanceof se.A))return Mesh_J().error(".createFromPolygon()","Expected polygon to be a Polygon instance"),null;const W=(0,ve.lO)(R);return new ct({vertexAttributes:new fe.H({position:W.position}),components:[new le.A({faces:W.faces,shading:"flat",material:null!==(F=null===I||void 0===I?void 0:I.material)&&void 0!==F?F:null})],spatialReference:R.spatialReference,vertexSpace:new ue.A})}static async createFromGLTF(R,I,W){if(!(R instanceof ie.A)){const R=new i;throw Mesh_J().error(".createfromGLTF()",R.message),R}const{loadGLTFMesh:V}=await(0,K.qr)(Promise.all([F.e(4197),F.e(7624)]).then(F.bind(F,47624)),W);return new ct(await V(R,I,W))}static async createFromFiles(R,I,F){(0,V.eO)(Mesh_J(),"`Mesh.createFromFiles` is deprecated in favor of 'SceneLayer.convertMesh'",{replacement:"SceneLayer.convertMesh",version:"4.29"});if(!(R instanceof ie.A)){const R=new i;throw(R=>{Mesh_J().error(".createFromFiles()",R.message)})(R),R}if(null===F||void 0===F||!F.layer)throw new $.A("invalid:no-layer","SceneLayer required for file to mesh conversion.");return F.layer.convertMesh(I,{location:R,...F})}static createWithExternalSource(R,I,F){var W,V,$,Y;const J=null!==(W=null===F||void 0===F?void 0:F.extent)&&void 0!==W?W:null,{x:X,y:K,z:Q,spatialReference:ee}=R,te=null!==(V=null===F||void 0===F||null===($=F.transform)||void 0===$?void 0:$.clone())&&void 0!==V?V:new he.A,re=(0,ne.fA)(X,K,null!==Q&&void 0!==Q?Q:0),oe=(0,de.by)(null!==(Y=null===F||void 0===F?void 0:F.vertexSpace)&&void 0!==Y?Y:(0,de.Uj)(ee),re),ie={source:I,extent:J},se=new Le;return se.externalSources.push(ie),new ct({metadata:se,transform:te,vertexSpace:oe,spatialReference:ee})}static createIncomplete(R,I){var F,W,V;const{x:Y,y:J,z:X,spatialReference:K}=R,Q=null!==(F=null===I||void 0===I||null===(W=I.transform)||void 0===W?void 0:W.clone())&&void 0!==F?F:new he.A,ee=(0,ne.fA)(Y,J,null!==X&&void 0!==X?X:0),te=(0,de.by)(null!==(V=null===I||void 0===I?void 0:I.vertexSpace)&&void 0!==V?V:(0,de.Uj)(K),ee),re=new ct({transform:Q,vertexSpace:te,spatialReference:K});return re.addResolvingPromise(Promise.reject(new $.A("mesh-incomplete","Mesh resources are not complete"))),re}};(0,W._)([(0,ee.MZ)({type:[le.A],json:{write:!0}})],ht.prototype,"components",void 0),(0,W._)([(0,ee.MZ)({nonNullable:!0,types:pt,constructOnly:!0,json:{write:!0}})],ht.prototype,"vertexSpace",void 0),(0,W._)([(0,ee.MZ)({type:he.A,json:{write:!0}})],ht.prototype,"transform",void 0),(0,W._)([(0,ee.MZ)({constructOnly:!0})],ht.prototype,"metadata",void 0),(0,W._)([(0,ee.MZ)()],ht.prototype,"hasExtent",null),(0,W._)([(0,ee.MZ)()],ht.prototype,"_transformedExtent",null),(0,W._)([(0,ee.MZ)()],ht.prototype,"_untransformedBounds",null),(0,W._)([(0,ee.MZ)()],ht.prototype,"anchor",null),(0,W._)([(0,ee.MZ)()],ht.prototype,"origin",null),(0,W._)([(0,ee.MZ)({readOnly:!0,json:{read:!1}})],ht.prototype,"extent",null),(0,W._)([(0,ee.MZ)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],ht.prototype,"hasZ",void 0),(0,W._)([(0,ee.MZ)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],ht.prototype,"hasM",void 0),(0,W._)([(0,ee.MZ)({type:fe.H,nonNullable:!0,json:{write:!0}})],ht.prototype,"vertexAttributes",void 0),ht=ct=(0,W._)([(0,te.$)(ut)],ht);const ft=(0,ae.vt)(),dt=ht},39783:(R,I,F)=>{F.d(I,{Ns:()=>y,jh:()=>t,l5:()=>a,s:()=>o,xm:()=>e});var W=F(49905);function t(R){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return R<=W.y9?I?new Array(R).fill(0):new Array(R):new Float64Array(R)}function e(R){return((0,W.cy)(R)?R.length:R.byteLength/8)<=W.y9?Array.from(R):new Float64Array(R)}function a(R,I,F){return Array.isArray(R)?R.slice(I,I+F):R.subarray(I,I+F)}function o(R,I){for(let F=0;F<I.length;++F)R[F]=I[F];return R}function y(R){return Array.isArray(R)?new Float64Array(R):R}},18053:(R,I,F)=>{F.d(I,{A:()=>ie});var W,V=F(80671),$=F(83375),Y=F(66004),J=F(89412),X=F(57453),K=F(91779),Q=F(68682),ee=F(6493),te=F(15545),ne=F(93960),re=F(61255);let oe=W=class extends $.oY{static from(R){return(0,ee.PZ)(W,R)}constructor(R){super(R),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(R){return(0,re.b)(R,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},J.A.getLogger(this))}castMaterial(R){return(0,ee.PZ)(R&&"object"==typeof R&&("metallic"in R||"roughness"in R||"metallicRoughnessTexture"in R)?ne.A:te.A,R)}clone(){return new W({faces:(0,Y.o8)(this.faces),shading:this.shading,material:(0,Y.o8)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(R,I){const F={faces:(0,Y.o8)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(R,I):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new W(F)}get memoryUsage(){let R=0;return null!=this.faces&&(R+=this.faces.byteLength),null!=this.material&&(R+=this.material.memoryUsage),R}};(0,V._)([(0,X.MZ)({json:{write:!0}})],oe.prototype,"faces",void 0),(0,V._)([(0,K.w)("faces")],oe.prototype,"castFaces",null),(0,V._)([(0,X.MZ)({type:te.A,json:{write:!0}})],oe.prototype,"material",void 0),(0,V._)([(0,K.w)("material")],oe.prototype,"castMaterial",null),(0,V._)([(0,X.MZ)()],oe.prototype,"name",void 0),(0,V._)([(0,X.MZ)({type:String,json:{write:!0}})],oe.prototype,"shading",void 0),(0,V._)([(0,X.MZ)({type:Boolean})],oe.prototype,"trustSourceNormals",void 0),oe=W=(0,V._)([(0,Q.$)("esri.geometry.support.MeshComponent")],oe);const ie=oe},75478:(R,I,F)=>{F.d(I,{A:()=>Q});var W=F(80671),V=F(88706),$=F(83375),Y=F(57453),J=(F(50886),F(89412),F(76761),F(99825)),X=F(68682);let K=class extends((0,V.O)($.oY)){constructor(R){super(R),this.type="georeferenced",this.origin=null}};(0,W._)([(0,J.e)({georeferenced:"georeferenced"},{readOnly:!0})],K.prototype,"type",void 0),(0,W._)([(0,Y.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],K.prototype,"origin",void 0),K=(0,W._)([(0,X.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],K);const Q=K},49837:(R,I,F)=>{F.d(I,{A:()=>ee});var W=F(80671),V=F(88706),$=F(83375),Y=F(57453),J=(F(50886),F(89412),F(76761),F(99825)),X=F(68682),K=F(83800);let Q=class extends((0,V.O)($.oY)){constructor(R){super(R),this.type="local",this.origin=(0,K.vt)()}};(0,W._)([(0,J.e)({local:"local"},{readOnly:!0})],Q.prototype,"type",void 0),(0,W._)([(0,Y.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],Q.prototype,"origin",void 0),Q=(0,W._)([(0,X.$)("esri.geometry.support.MeshLocalVertexSpace")],Q);const ee=Q},15545:(R,I,F)=>{F.d(I,{A:()=>te});var W,V=F(80671),$=F(22123),Y=F(83375),J=F(57453),X=(F(50886),F(89412),F(76761),F(68682)),K=F(33041),Q=F(56185);let ee=W=class extends Y.oY{constructor(R){super(R),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(R,I){const F=null!=R?R.get(this):null;if(F)return F;const V=new W(this.clonePropertiesWithDeduplication(I));return null!=R&&R.set(this,V),V}clonePropertiesWithDeduplication(R){var I,F,W,V;return{color:null!=this.color?this.color.clone():null,colorTexture:null===(I=this.colorTexture)||void 0===I?void 0:I.cloneWithDeduplication(R),normalTexture:null===(F=this.normalTexture)||void 0===F?void 0:F.cloneWithDeduplication(R),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:null===(W=this.colorTextureTransform)||void 0===W?void 0:W.clone(),normalTextureTransform:null===(V=this.normalTextureTransform)||void 0===V?void 0:V.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let R=0;return R+=null!=this.color?16:0,null!=this.colorTexture&&(R+=this.colorTexture.memoryUsage),R+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(R+=this.normalTexture.memoryUsage),R+=null!=this.normalTextureTransform?20:0,R}};(0,V._)([(0,J.MZ)({type:$.A,json:{write:!0}})],ee.prototype,"color",void 0),(0,V._)([(0,J.MZ)({type:K.A,json:{write:!0}})],ee.prototype,"colorTexture",void 0),(0,V._)([(0,J.MZ)({type:Q.A,json:{write:!0}})],ee.prototype,"colorTextureTransform",void 0),(0,V._)([(0,J.MZ)({type:K.A,json:{write:!0}})],ee.prototype,"normalTexture",void 0),(0,V._)([(0,J.MZ)({type:Q.A,json:{write:!0}})],ee.prototype,"normalTextureTransform",void 0),(0,V._)([(0,J.MZ)({nonNullable:!0,json:{write:!0}})],ee.prototype,"alphaMode",void 0),(0,V._)([(0,J.MZ)({nonNullable:!0,json:{write:!0}})],ee.prototype,"alphaCutoff",void 0),(0,V._)([(0,J.MZ)({nonNullable:!0,json:{write:!0}})],ee.prototype,"doubleSided",void 0),ee=W=(0,V._)([(0,X.$)("esri.geometry.support.MeshMaterial")],ee);const te=ee},93960:(R,I,F)=>{F.d(I,{A:()=>te});var W,V=F(80671),$=F(22123),Y=F(57453),J=(F(50886),F(89412),F(76761),F(68682)),X=F(15545),K=F(33041),Q=F(56185);let ee=W=class extends X.A{constructor(R){super(R),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(R,I){const F=null!=R?R.get(this):null;if(F)return F;const V=new W(this.clonePropertiesWithDeduplication(I));return null!=R&&R.set(this,V),V}getMemoryUsage(){let R=super.getMemoryUsage();return R+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(R+=this.emissiveTexture.memoryUsage),R+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(R+=this.occlusionTexture.memoryUsage),R+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(R+=this.metallicRoughnessTexture.memoryUsage),R+=null!=this.metallicRoughnessTextureTransform?20:0,R}clonePropertiesWithDeduplication(R){var I,F,W,V,$,Y,J;return{...super.clonePropertiesWithDeduplication(R),emissiveColor:null===(I=this.emissiveColor)||void 0===I?void 0:I.clone(),emissiveTexture:null===(F=this.emissiveTexture)||void 0===F?void 0:F.cloneWithDeduplication(R),emissiveTextureTransform:null===(W=this.emissiveTextureTransform)||void 0===W?void 0:W.clone(),occlusionTexture:null===(V=this.occlusionTexture)||void 0===V?void 0:V.cloneWithDeduplication(R),occlusionTextureTransform:null===($=this.occlusionTextureTransform)||void 0===$?void 0:$.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:null===(Y=this.metallicRoughnessTexture)||void 0===Y?void 0:Y.cloneWithDeduplication(R),metallicRoughnessTextureTransform:null===(J=this.metallicRoughnessTextureTransform)||void 0===J?void 0:J.clone()}}};(0,V._)([(0,Y.MZ)({type:$.A,json:{write:!0}})],ee.prototype,"emissiveColor",void 0),(0,V._)([(0,Y.MZ)({type:K.A,json:{write:!0}})],ee.prototype,"emissiveTexture",void 0),(0,V._)([(0,Y.MZ)({type:Q.A,json:{write:!0}})],ee.prototype,"emissiveTextureTransform",void 0),(0,V._)([(0,Y.MZ)({type:K.A,json:{write:!0}})],ee.prototype,"occlusionTexture",void 0),(0,V._)([(0,Y.MZ)({type:Q.A,json:{write:!0}})],ee.prototype,"occlusionTextureTransform",void 0),(0,V._)([(0,Y.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],ee.prototype,"metallic",void 0),(0,V._)([(0,Y.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],ee.prototype,"roughness",void 0),(0,V._)([(0,Y.MZ)({type:K.A,json:{write:!0}})],ee.prototype,"metallicRoughnessTexture",void 0),(0,V._)([(0,Y.MZ)({type:Q.A,json:{write:!0}})],ee.prototype,"metallicRoughnessTextureTransform",void 0),ee=W=(0,V._)([(0,J.$)("esri.geometry.support.MeshMaterialMetallicRoughness")],ee);const te=ee},33041:(R,I,F)=>{F.d(I,{A:()=>ie});var W,V=F(80671),$=(F(50886),F(49178)),Y=F(83375),J=F(57453),X=F(6493),K=(F(76761),F(59299)),Q=F(68682),ee=F(51715),te=F(85173);const ne=new WeakMap;let re=0,oe=W=class extends Y.oY{constructor(R){super(R),this.wrap="repeat"}get url(){return this._get("url")||null}set url(R){this._set("url",R),R&&this._set("data",null)}get data(){return this._get("data")||null}set data(R){this._set("data",R),R&&this._set("url",null)}writeData(R,I,F,W){if(R instanceof HTMLImageElement){const V={type:"image-element",src:(0,te.t)(R.src,W),crossOrigin:R.crossOrigin};I[F]=V}else if(R instanceof HTMLCanvasElement){const W=R.getContext("2d").getImageData(0,0,R.width,R.height),V={type:"canvas-element",imageData:this._encodeImageData(W)};I[F]=V}else if(R instanceof HTMLVideoElement){const V={type:"video-element",src:(0,te.t)(R.src,W),autoplay:R.autoplay,loop:R.loop,muted:R.muted,crossOrigin:R.crossOrigin,preload:R.preload};I[F]=V}else if(R instanceof ImageData){const W={type:"image-data",imageData:this._encodeImageData(R)};I[F]=W}}readData(R){switch(R.type){case"image-element":{const I=new Image;return I.src=R.src,I.crossOrigin=R.crossOrigin,I}case"canvas-element":{const I=this._decodeImageData(R.imageData),F=document.createElement("canvas");return F.width=I.width,F.height=I.height,F.getContext("2d").putImageData(I,0,0),F}case"image-data":return this._decodeImageData(R.imageData);case"video-element":{const I=document.createElement("video");return I.src=R.src,I.crossOrigin=R.crossOrigin,I.autoplay=R.autoplay,I.loop=R.loop,I.muted=R.muted,I.preload=R.preload,I}default:return}}get transparent(){const R=this.data,I=this.url;if(R instanceof HTMLCanvasElement)return this._imageDataContainsTransparent(R.getContext("2d").getImageData(0,0,R.width,R.height));if(R instanceof ImageData)return this._imageDataContainsTransparent(R);if(I){const R=I.substr(I.length-4,4).toLowerCase(),F=I.substr(0,15).toLocaleLowerCase();if(".png"===R||"data:image/png;"===F)return!0}return!1}set transparent(R){this._overrideIfSome("transparent",R)}get contentHash(){var R=this;const I="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?"".concat(this.wrap.horizontal,"/").concat(this.wrap.vertical):"",e=function(){return"d:".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",",t:").concat(R.transparent,",w:").concat(I)};return null!=this.url?e(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?e(this.data.src):(ne.has(this.data)||ne.set(this.data,++re),e(ne.get(this.data))):e()}get memoryUsage(){let R=0;if(R+=null!=this.url?this.url.length:0,null!=this.data){const I=this.data;"data"in I?R+=I.data.byteLength:I instanceof HTMLImageElement?R+=I.naturalWidth*I.naturalHeight*3:I instanceof HTMLCanvasElement&&(R+=I.width*I.height*3)}return R}clone(){const R={url:this.url,data:this.data,wrap:this._cloneWrap()};return new W(R)}cloneWithDeduplication(R){const I=R.get(this);if(I)return I;const F=this.clone();return R.set(this,F),F}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}_encodeImageData(R){let I="";for(let F=0;F<R.data.length;F++)I+=String.fromCharCode(R.data[F]);return{data:btoa(I),width:R.width,height:R.height}}_decodeImageData(R){const I=atob(R.data),F=new Uint8ClampedArray(I.length);for(let W=0;W<I.length;W++)F[W]=I.charCodeAt(W);return(0,$.eV)(F,R.width,R.height)}_imageDataContainsTransparent(R){for(let I=3;I<R.data.length;I+=4)if(255!==R.data[I])return!0;return!1}static from(R){return"string"==typeof R?new W({url:R}):R instanceof HTMLImageElement||R instanceof HTMLCanvasElement||R instanceof ImageData||R instanceof HTMLVideoElement?new W({data:R}):(0,X.PZ)(W,R)}};(0,V._)([(0,J.MZ)({type:String,json:{write:te.w}})],oe.prototype,"url",null),(0,V._)([(0,J.MZ)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,J.MZ)()],oe.prototype,"data",null),(0,V._)([(0,ee.K)("data")],oe.prototype,"writeData",null),(0,V._)([(0,K.w)("data")],oe.prototype,"readData",null),(0,V._)([(0,J.MZ)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],oe.prototype,"transparent",null),(0,V._)([(0,J.MZ)({json:{write:!0}})],oe.prototype,"wrap",void 0),(0,V._)([(0,J.MZ)({readOnly:!0})],oe.prototype,"contentHash",null),oe=W=(0,V._)([(0,Q.$)("esri.geometry.support.MeshTexture")],oe);const ie=oe},56185:(R,I,F)=>{F.d(I,{A:()=>K});var W=F(80671),V=F(88706),$=F(83375),Y=F(57453),J=(F(50886),F(89412),F(76761),F(68682));let X=class extends((0,V.O)($.oY)){constructor(R){super(R),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,W._)([(0,Y.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],X.prototype,"offset",void 0),(0,W._)([(0,Y.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],X.prototype,"rotation",void 0),(0,W._)([(0,Y.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],X.prototype,"scale",void 0),X=(0,W._)([(0,J.$)("esri.geometry.support.MeshTextureTransform")],X);const K=X},61255:(R,I,F)=>{F.d(I,{H:()=>ee,b:()=>c});var W,V=F(80671),$=F(83375),Y=F(66004),J=F(89412),X=F(57453),K=F(91779),Q=F(68682);let ee=W=class extends $.oY{constructor(R){super(R),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(R){return c(R,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},J.A.getLogger(this))}castPosition(R){return R&&R instanceof Float32Array&&J.A.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),c(R,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},J.A.getLogger(this))}castUv(R){return c(R,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},J.A.getLogger(this))}castNormal(R){return c(R,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},J.A.getLogger(this))}castTangent(R){return c(R,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},J.A.getLogger(this))}clone(){const R={position:(0,Y.o8)(this.position),uv:(0,Y.o8)(this.uv),normal:(0,Y.o8)(this.normal),tangent:(0,Y.o8)(this.tangent),color:(0,Y.o8)(this.color)};return new W(R)}clonePositional(){const R={position:(0,Y.o8)(this.position),normal:(0,Y.o8)(this.normal),tangent:(0,Y.o8)(this.tangent),uv:this.uv,color:this.color};return new W(R)}get memoryUsage(){let R=0;return R+=this.position.byteLength,null!=this.uv&&(R+=this.uv.byteLength),null!=this.normal&&(R+=this.normal.byteLength),null!=this.tangent&&(R+=this.tangent.byteLength),null!=this.color&&(R+=this.color.byteLength),R}};function g(R,I,F,W){const{loggerTag:V,stride:$}=I;return R.length%$!=0?(W.error(V,"Invalid array length, expected a multiple of ".concat($)),new F([])):R}function c(R,I,F,W,V){if(!R)return R;if(R instanceof I)return g(R,W,I,V);for(const $ of F)if(R instanceof $)return g(new I(R),W,I,V);if(Array.isArray(R))return g(new I(R),W,I,V);{const W=F.map((R=>"'".concat(R.name,"'")));return V.error("Failed to set property, expected one of ".concat(W,", but got ").concat(R.constructor.name)),new I([])}}function p(R,I,F){I[F]=function u(R){const I=new Array(R.length);for(let F=0;F<R.length;F++)I[F]=R[F];return I}(R)}(0,V._)([(0,X.MZ)({json:{write:p}})],ee.prototype,"color",void 0),(0,V._)([(0,K.w)("color")],ee.prototype,"castColor",null),(0,V._)([(0,X.MZ)({nonNullable:!0,json:{write:p}})],ee.prototype,"position",void 0),(0,V._)([(0,K.w)("position")],ee.prototype,"castPosition",null),(0,V._)([(0,X.MZ)({json:{write:p}})],ee.prototype,"uv",void 0),(0,V._)([(0,K.w)("uv")],ee.prototype,"castUv",null),(0,V._)([(0,X.MZ)({json:{write:p}})],ee.prototype,"normal",void 0),(0,V._)([(0,K.w)("normal")],ee.prototype,"castNormal",null),(0,V._)([(0,X.MZ)({json:{write:p}})],ee.prototype,"tangent",void 0),(0,V._)([(0,K.w)("tangent")],ee.prototype,"castTangent",null),ee=W=(0,V._)([(0,Q.$)("esri.geometry.support.MeshVertexAttributes")],ee)},81581:(R,I,F)=>{F.d(I,{Bq:()=>o,Qp:()=>i,WN:()=>A,dK:()=>v,eN:()=>h,fH:()=>N,in:()=>y,yr:()=>u});var W=F(53705),V=F(16842),$=F(81618),Y=F(35999);class i{constructor(R,I,F){this.assetName=R,this.assetMimeType=I,this.parts=F}equals(R){return this===R||this.assetName===R.assetName&&this.assetMimeType===R.assetMimeType&&(0,V.aI)(this.parts,R.parts,((R,I)=>R.equals(I)))}isOnService(R){return this.parts.every((I=>I.isOnService(R)))}makeHash(){let R="";for(const I of this.parts)R+=I.partHash;return R}async toBlob(R){const{parts:I}=this;if(1===I.length)return I[0].toBlob(R);const F=await Promise.all(I.map((I=>I.toBlob(R))));return(0,$.Te)(R),new Blob(F)}}class o{constructor(R,I){this.partUrl=R,this.partHash=I}equals(R){return this===R||this.partUrl===R.partUrl&&this.partHash===R.partHash}isOnService(R){return this.partUrl.startsWith("".concat(R.path,"/assets/"))}async toBlob(R){const{data:I}=await(0,W.A)(this.partUrl,{responseType:"blob"});return(0,$.Te)(R),I}}function u(R){return function p(R){if(!R)return!1;if(Array.isArray(R))return R.some(m);return m(R)}(null===R||void 0===R?void 0:R.source)}function c(R){return!!Array.isArray(R)&&R.every((R=>R instanceof i))}const J=/^(model\/gltf\+json)|(model\/gltf-binary)$/,X=/\.(gltf|glb)/i;function m(R){if(R instanceof File){const{type:I,name:F}=R;return J.test(I)||X.test(F)}return J.test(R.assetMimeType)||X.test(R.assetName)}function h(R,I){if(!R)return!1;const{source:F}=R;return function g(R,I){if(Array.isArray(R)){const F=R;return F.length>0&&F.every((R=>b(R,I)))}return b(R,I)}(F,I)}function y(R,I){if(R===I)return!0;const{source:F}=R,{source:W}=I;if(F===W)return!0;if(c(F)&&c(W)){if(F.length!==W.length)return!1;const t=(R,I)=>R.assetName<I.assetName?-1:R.assetName>I.assetName?1:0,R=[...F].sort(t),I=[...W].sort(t);for(let F=0;F<R.length;++F)if(!R[F].equals(I[F]))return!1;return!0}return!1}function b(R,I){return R instanceof i&&R.isOnService(I)}function N(R,I){var F;return R instanceof File?(0,Y.rq)(R,I):null!==(F=(0,Y.R_)(R.assetMimeType,I))&&void 0!==F?F:(0,Y.E1)(R.assetName,I)}function A(R){return Array.isArray(R)?R:[R]}function v(R){return!!R.original}},74896:(R,I,F)=>{F.d(I,{b:()=>e});var W=F(48237),V=F(2360);function e(R,I,F){var Y;const J=Array.isArray(R),X=J?R.length/I:R.byteLength/(4*I),K=J?R:new Uint32Array(R,0,X*I),Q=null!==(Y=null===F||void 0===F?void 0:F.minReduction)&&void 0!==Y?Y:0,ee=(null===F||void 0===F?void 0:F.originalIndices)||null,te=ee?ee.length:0,ne=(null===F||void 0===F?void 0:F.componentOffsets)||null;let re=0;if(ne)for(let W=0;W<ne.length-1;W++){const R=ne[W+1]-ne[W];R>re&&(re=R)}else re=X;const oe=Math.floor(1.1*re)+1;(null==$||$.length<2*oe)&&($=new Uint32Array((0,W.cU)(2*oe)));for(let W=0;W<2*oe;W++)$[W]=0;let ie=0;const se=!!ne&&!!ee,ae=se?te:X;let le=(0,V.my)(X);const ce=new Uint32Array(te),ue=1.96;let pe=0!==Q?Math.ceil(4*ue*ue/(Q*Q)*Q*(1-Q)):ae,he=1,fe=ne?ne[1]:ae;for(let W=0;W<ae;W++){if(W===pe){const R=1-ie/W;if(R+ue*Math.sqrt(R*(1-R)/W)<Q)return null;pe*=2}if(W===fe){for(let R=0;R<2*oe;R++)$[R]=0;if(ee)for(let R=ne[he-1];R<ne[he];R++)ce[R]=le[ee[R]];fe=ne[++he]}const R=se?ee[W]:W,F=R*I,V=f(K,F,I);let Y=V%oe,J=ie;for(;0!==$[2*Y+1];){if($[2*Y]===V){const R=$[2*Y+1]-1;if(l(K,F,R*I,I)){J=le[R];break}}Y++,Y>=oe&&(Y-=oe)}J===ie&&($[2*Y]=V,$[2*Y+1]=R+1,ie++),le[R]=J}if(0!==Q&&1-ie/X<Q)return null;if(se){for(let R=ne[he-1];R<ce.length;R++)ce[R]=le[ee[R]];le=(0,V.Dg)(ce)}const de=J?new Array(ie):new Uint32Array(ie*I);ie=0;for(let W=0;W<ae;W++)le[W]===ie&&(o(K,(se?ee[W]:W)*I,de,ie*I,I),ie++);if(ee&&!se){const R=new Uint32Array(te);for(let I=0;I<R.length;I++)R[I]=le[ee[I]];le=(0,V.Dg)(R)}return{buffer:Array.isArray(de)?de:de.buffer,indices:le,uniqueCount:ie}}function l(R,I,F,W){for(let V=0;V<W;V++)if(R[I+V]!==R[F+V])return!1;return!0}function o(R,I,F,W,V){for(let $=0;$<V;$++)F[W+$]=R[I+$]}function f(R,I,F){let W=0;for(let V=0;V<F;V++)W=R[I+V]+W|0,W=W+(W<<11)+(W>>>2)|0;return W>>>0}let $=null},47233:(R,I,F)=>{F.d(I,{Wq:()=>W,jp:()=>g,lO:()=>f});var W,V,$=F(42687),Y=F(6744),J=F(78966),X=F(39783),K=F(2360),Q=F(74896),ee=F(79081);function f(R){const I=g(R.rings,R.hasZ,W.CCW_IS_HOLE,R.spatialReference),F=new Array;let V=0,Y=0;for(const W of I.polygons){const R=W.count,J=W.index,Q=(0,X.l5)(I.position,3*J,3*R),ee=W.holeIndices.map((R=>R-J)),te=(0,K.Dg)((0,$.e)(Q,ee,3));F.push({position:Q,faces:te}),V+=Q.length,Y+=te.length}const J=function h(R,I,F){if(1===R.length)return R[0];const W=(0,X.jh)(I),V=new Array(F);let $=0,Y=0,J=0;for(const X of R){for(let R=0;R<X.position.length;R++)W[$++]=X.position[R];for(const R of X.faces)V[Y++]=R+J;J=$/3}return{position:W,faces:(0,K.Dg)(V)}}(F,V,Y),ee=Array.isArray(J.position)?(0,Q.b)(J.position,3,{originalIndices:J.faces}):(0,Q.b)(J.position.buffer,6,{originalIndices:J.faces});return J.position=(0,X.xm)(new Float64Array(ee.buffer)),J.faces=ee.indices,J}function g(R,I,F,V){const $=R.length,Y=new Array($),J=new Array($),K=new Array($);let Q=0,ee=0,te=0,ne=0;for(let W=0;W<$;++W)ne+=R[W].length;const re=(0,X.jh)(3*ne);let oe=0;for(let X=$-1;X>=0;X--){const ne=R[X],ie=F===W.CCW_IS_HOLE&&p(ne,I,V);if(ie&&1!==$)Y[Q++]=ne;else{let R=ne.length;for(let I=0;I<Q;++I)R+=Y[I].length;const F={index:oe,pathLengths:new Array(Q+1),count:R,holeIndices:new Array(Q)};F.pathLengths[0]=ne.length,ne.length>0&&(K[te++]={index:oe,count:ne.length}),oe=ie?a(ne,ne.length-1,-1,re,oe,ne.length,I):a(ne,0,1,re,oe,ne.length,I);for(let W=0;W<Q;++W){const R=Y[W];F.holeIndices[W]=oe,F.pathLengths[W+1]=R.length,R.length>0&&(K[te++]={index:oe,count:R.length}),oe=a(R,0,1,re,oe,R.length,I)}Q=0,F.count>0&&(J[ee++]=F)}}for(let W=0;W<Q;++W){const R=Y[W];R.length>0&&(K[te++]={index:oe,count:R.length}),oe=a(R,0,1,re,oe,R.length,I)}return J.length=ee,K.length=te,{position:re,polygons:J,outlines:K}}function a(R,I,F,W,V,$,Y){V*=3;for(let J=0;J<$;++J){const $=R[I];W[V++]=$[0],W[V++]=$[1],W[V++]=Y?$[2]:0,I+=F}return V/3}function p(R,I,F){if(I){const I=R.length-1,W=(0,ee.zB)(R,I,F);if(W===Y._.X)return!(0,J.$3)(R,Y._.Y,Y._.Z);if(W===Y._.Y)return!(0,J.$3)(R,Y._.X,Y._.Z)}return!(0,J.$3)(R,Y._.X,Y._.Y)}(V=W||(W={}))[V.NONE=0]="NONE",V[V.CCW_IS_HOLE=1]="CCW_IS_HOLE"},79081:(R,I,F)=>{F.d(I,{JQ:()=>O,SY:()=>D,a4:()=>d,dE:()=>A,v7:()=>w,zB:()=>j});F(30174);var W=F(48237),V=F(49049),$=F(42687),Y=F(54880),J=F(6744),X=F(2360),K=F(69903),Q=F(7212),ee=F(12298),te=F(67862),ne=F(64286),re=F(84661),oe=F(48343);function j(R,I,F){const $=function h(R,I,F,W){const $=(R=>!Array.isArray(R[0]))(I)?(R,F)=>I[3*R+F]:(R,F)=>I[R][F],J=W?(0,V.GA)(W)/(0,V.G9)(W):1;return(0,K.lU)(R,((R,I)=>(0,Y.s)(R,$(I,0)*J,$(I,1)*J,$(I,2))),F)}(ie,R,I,F)?(0,K.Qj)(ie):[0,0,1];return Math.abs($[2])>Math.cos((0,W.kU)(80))?J._.Z:Math.abs($[1])>Math.abs($[0])?J._.Y:J._.X}const ie=(0,K.vt)();function w(R,I,F){const W=j(R,(I.length>0?I[0]:R.length/3)-1,F);if(W!==J._.Z){R=R.slice();for(let I=0;I<R.length;I+=3)R[I+W]=R[I+2]}return(0,$.e)(R,I,3)}function d(R){const I=[[ne.r.POSITION,new Q.n(R.attributeData.position,R.indices,3,!0)]],F=(0,X.EH)(R.indices.length);return null!=R.attributeData.colorFeature?I.push([ne.r.COLORFEATUREATTRIBUTE,new Q.n([R.attributeData.colorFeature],F,1,!0)]):R.attributeData.color&&I.push([ne.r.COLOR,new Q.n(R.attributeData.color,F,4,!0)]),R.attributeData.uvMapSpace&&I.push([ne.r.UVMAPSPACE,new Q.n(R.attributeData.uvMapSpace,R.indices,4,!0)]),R.attributeData.boundingRect&&I.push([ne.r.BOUNDINGRECT,new Q.n(R.attributeData.boundingRect,R.indices,9,!0)]),new te.V(R.material,I,R.mapPositions,ee.X.Mesh,R.attributeData.objectAndLayerIdColor)}function D(R){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const F=[[ne.r.POSITION,new Q.n(R.attributeData.position,R.indices,3,!0)],[ne.r.UV0,new Q.n(R.attributeData.uv0,R.indices,2,!0)]];return new te.V(R.material,F,R.mapPositions,ee.X.Mesh,I)}function A(R){switch(R.type){case"extent":if(R instanceof re.A)return oe.A.fromExtent(R);break;case"polygon":return R}return null}class O{constructor(R,I,F){this.renderData=R,this.layerUid=I,this.graphicUid=F,this.outGeometries=new Array}}}}]);
//# sourceMappingURL=2664.5b940688.chunk.js.map