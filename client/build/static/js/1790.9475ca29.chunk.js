"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[1790],{71790:(s,r,a)=>{a.d(r,{$:()=>Je,A:()=>pe,B:()=>ge,C:()=>zt,D:()=>me,E:()=>Be,F:()=>ee,G:()=>Ze,H:()=>N,I:()=>B,J:()=>Zt,K:()=>y,L:()=>ri,M:()=>Y,N:()=>ie,O:()=>J,P:()=>e,Q:()=>L,R:()=>ze,S:()=>Me,T:()=>ai,U:()=>c,V:()=>_,W:()=>yt,X:()=>F,Y:()=>ne,Z:()=>ae,_:()=>W,a:()=>f,a0:()=>d,a1:()=>Et,a2:()=>gt,a3:()=>jt,a4:()=>St,a5:()=>Dt,a6:()=>Ot,a7:()=>xt,a8:()=>kt,a9:()=>Tt,aA:()=>et,aB:()=>Oe,aC:()=>$,aD:()=>wt,aE:()=>ut,aF:()=>oe,aG:()=>ke,aH:()=>he,aI:()=>O,aJ:()=>Se,aK:()=>st,aL:()=>Ct,aM:()=>ct,aN:()=>le,aO:()=>Wt,aa:()=>h,ab:()=>Pt,ac:()=>V,ad:()=>G,ae:()=>z,af:()=>q,ag:()=>b,ah:()=>rt,ai:()=>X,aj:()=>it,ak:()=>nt,al:()=>k,am:()=>S,an:()=>T,ao:()=>hi,ap:()=>D,aq:()=>at,ar:()=>K,as:()=>lt,at:()=>Ue,au:()=>ft,av:()=>Gt,aw:()=>$e,ax:()=>Xe,ay:()=>ni,az:()=>tt,c:()=>ve,d:()=>Kt,e:()=>Ke,f:()=>de,g:()=>ii,h:()=>Z,i:()=>w,j:()=>i,k:()=>g,l:()=>pt,m:()=>Ft,n:()=>ht,o:()=>ye,p:()=>Qt,q:()=>n,r:()=>x,s:()=>qe,t:()=>se,u:()=>Le,v:()=>li,w:()=>si,x:()=>Ve,y:()=>ce,z:()=>ue});var m=a(80671);class e{constructor(s){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=s}get value(){return this._value/100}get percent(){return this._value}toString(){return this._value+"%"}interpolate(s,r){return s+this.value*(r-s)}static normalize(s,r,a){return s instanceof e?s:new e(r===a?0:100*Math.min(Math.max(1/(a-r)*(s-r),0),1))}}function i(s){return new e(s)}i(0);const f=i(100),Qt=i(50);function n(s){return Number(s)!==s}function h(s){if(null!=s&&!g(s)){let r=Number(s);return n(r)&&c(s)&&""!=s?h(s.replace(/[^0-9.\-]+/g,"")):r}return s}function l(s){if(p(s))return new Date(s);if(g(s))return new Date(s);{let r=Number(s);return g(r)?new Date(r):new Date(s)}}function d(s){if(n(s))return"NaN";if(s===1/0)return"Infinity";if(s===-1/0)return"-Infinity";if(0===s&&1/s==-1/0)return"-0";let r=s<0;s=Math.abs(s);let a,m=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+s),f=m[1],Qt=m[2]||"";if(void 0===m[3])a=""===Qt?f:f+"."+Qt;else{let r=+m[3];if(s<1)a="0."+u("0",r-1)+f+Qt;else{let s=r-Qt.length;a=0===s?f+Qt:s<0?f+Qt.slice(0,s)+"."+Qt.slice(s):f+Qt+u("0",s)}}return r?"-"+a:a}function u(s,r){return new Array(r+1).join(s)}function p(s){return"[object Date]"===function o(s){return{}.toString.call(s)}(s)}function c(s){return"string"==typeof s}function g(s){return"number"==typeof s&&Number(s)==s}function _(s){return"object"==typeof s&&null!==s}const ne="__\xa7\xa7\xa7__",ae="__\xa7\xa7\xa7\xa7__";function b(s,r){const a=s.length;for(let m=0;m<a;++m)if(s[m]===r)return m;return-1}function y(s,r){const a=s.length,m=new Array(a);for(let f=0;f<a;++f)m[f]=r(s[f],f);return m}function w(s,r){const a=s.length;for(let m=0;m<a;++m)r(s[m],m)}function P(s,r){let a=s.length;for(;a>0;)--a,r(s[a],a)}function D(s,r){const a=s.length;for(let m=0;m<a&&r(s[m],m);++m);}function x(s,r){let a=!1,m=0;for(;;){if(m=s.indexOf(r,m),-1===m)return a;a=!0,s.splice(m,1)}}function k(s,r){let a=s.indexOf(r);return-1!==a&&(s.splice(a,1),!0)}function O(s,r,a){let m=b(s,r);-1!==m&&E(s,m),null==a?s.push(r):j(s,a,r)}function T(s,r){-1===s.indexOf(r)&&s.push(r)}function S(s){const r=s.length,a=new Array(r);for(let m=0;m<r;++m)a[m]=s[m];return a}function j(s,r,a){s.splice(r,0,a)}function E(s,r){s.splice(r,1)}function C(s,r){const a=s.length;for(let m=0;m<a;++m)if(r(s[m],m))return m;return-1}function B(s,r){const a=C(s,r);if(-1!==a)return s[a]}function L(s,r){let a=s.length;for(;a>0;)--a,r(s[a])||s.splice(a,1)}function N(s){return Object.keys(s)}function F(s){return Object.assign({},s)}function W(s,r){N(s).forEach((a=>{r(a,s[a])}))}function V(s,r){for(let a in s)if(U(s,a)&&!r(a,s[a]))break}function U(s,r){return{}.hasOwnProperty.call(s,r)}class K{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class z{constructor(s){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=s}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class G extends K{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){w(this._disposers,(s=>{s.dispose()}))}}class Y extends K{constructor(s){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=s}_dispose(){w(this._disposers,(s=>{s.dispose()}))}get disposers(){return this._disposers}}class X extends z{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new z((()=>{--this._counter,0===this._counter&&this.dispose()}))}}function $(s){s.parentNode&&s.parentNode.removeChild(s)}function Z(s,r,a,m){return s.addEventListener(r,a,m||!1),new z((()=>{s.removeEventListener(r,a,m||!1)}))}function J(s){return Z(window,"resize",(r=>{s()}))}function q(s){switch(s){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Q(s){return s.pointerId||0}function tt(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let s=document.createElement("button");s.style.position="fixed",s.style.top="0px",s.style.left="-10000px",document.body.appendChild(s),s.focus(),s.blur(),document.body.removeChild(s)}}function et(s){s&&s.focus()}function it(s){if(q("pointerevents"))return s;if(q("touchevents"))switch(s){case"pointerover":case"pointerdown":return"touchstart";case"pointerout":case"pointerleave":case"pointerup":return"touchend";case"pointermove":return"touchmove";case"click":return"click";case"dblclick":return"dblclick"}else if(q("mouseevents"))switch(s){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return s}function st(s){if("undefined"!=typeof Touch&&s instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&s instanceof PointerEvent&&null!=s.pointerType)switch(s.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(s instanceof MouseEvent)}else if(null!=s.type&&s.type.match(/^mouse/))return!1;return!0}function rt(s,r,a){s.style[r]=a}function at(s,r){return s.style[r]}function nt(s){if(s.composedPath){const r=s.composedPath();return 0===r.length?null:r[0]}return s.target}function ht(s,r){return s.target&&function ot(s,r){let a=r;for(;;){if(s===a)return!0;if(null===a.parentNode){if(null==a.host)return!1;a=a.host}else a=a.parentNode}}(r.root.dom,s.target)}function lt(s,r){s.style.pointerEvents=r?"auto":"none"}function ut(){return function dt(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}()?1:void 0}function pt(s,r){return g(s)?s:null!=s&&g(s.value)&&g(r)?r*s.value:0}function ct(s){let r=(""+s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return r?Math.max(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0}function gt(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return"string"!=typeof s&&(s=s.toString()),r>s.length?Array(r-s.length+1).join(a)+s:s}function ft(s){return function _t(s){return s.replace(/^[\s]*/,"")}(function mt(s){return s.replace(/[\s]*$/,"")}(s))}function yt(s){return s.replace(/\/(date|number|duration)$/i,"")}function wt(s){return s?s.replace(/<[^>]*>/g,""):s}function Pt(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Dt(s){const r=new Date(s.getFullYear(),0,0),a=s.getTime()-r.getTime()+60*(r.getTimezoneOffset()-s.getTimezoneOffset())*1e3;return Math.floor(a/864e5)}function xt(s){const r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const m=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-m.getTime())/864e5+1)/7)}function kt(s){const r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),a=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+4-a),new Date(Date.UTC(r.getUTCFullYear(),0,1)).getFullYear()}function Ot(s){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=xt(new Date(s.getFullYear(),s.getMonth(),1),r);let m=xt(s,r);return 1==m&&(m=53),m-a+1}function Tt(s,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,m=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=new Date(r,0,4,0,0,0,0);return m&&f.setUTCFullYear(r),7*s+a-((f.getDay()||7)+3)}function St(s,r){return s>12?s-=12:0===s&&(s=12),null!=r?s+(r-1):s}function jt(s){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=arguments.length>4?arguments[4]:void 0;if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])return r?"Coordinated Universal Time":"UTC";if(m){const a=s.toLocaleString("en-US",{timeZone:m});return ft(s.toLocaleString("en-US",{timeZone:m,timeZoneName:r?"long":"short"}).substr(a.length))}let f=s.toLocaleString("UTC"),Qt=s.toLocaleString("UTC",{timeZoneName:r?"long":"short"}).substr(f.length);return!1===a&&(Qt=Qt.replace(/ (standard|daylight|summer|winter) /i," ")),ft(Qt)}function Et(s){const r=new Date(Date.UTC(2012,0,1,0,0,0,0)),a=new Date(r.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(r.toLocaleString("en-US",{timeZone:s})).getTime()-a.getTime())/6e4*-1}function Ct(s){return s.charAt(0).toUpperCase()+s.slice(1)}function Mt(s){let r,a,m,f=s.h,Qt=s.s,ne=s.l;if(0==Qt)r=a=m=ne;else{let t=function(s,r,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?s+6*(r-s)*a:a<.5?r:a<2/3?s+(r-s)*(2/3-a)*6:s},s=ne<.5?ne*(1+Qt):ne+Qt-ne*Qt,ae=2*ne-s;r=t(ae,s,f+1/3),a=t(ae,s,f),m=t(ae,s,f-1/3)}return{r:Math.round(255*r),g:Math.round(255*a),b:Math.round(255*m)}}function Bt(s){let r=s.r/255,a=s.g/255,m=s.b/255,f=Math.max(r,a,m),Qt=Math.min(r,a,m),ne=0,ae=0,oe=(f+Qt)/2;if(f===Qt)ne=ae=0;else{let s=f-Qt;switch(ae=oe>.5?s/(2-f-Qt):s/(f+Qt),f){case r:ne=(a-m)/s+(a<m?6:0);break;case a:ne=(m-r)/s+2;break;case m:ne=(r-a)/s+4}ne/=6}return{h:ne,s:ae,l:oe}}function Ht(s,r){let a=r>0?255-s:s;return Math.round(a*r)}function Lt(s){return(299*s.r+587*s.g+114*s.b)/1e3>=128}function Ft(s,r){return s||(s=[]),[...s,...r].filter(((s,r,a)=>a.indexOf(s)===r))}function Wt(s,r){return!!r&&s.left==r.left&&s.right==r.right&&s.top==r.top&&s.bottom==r.bottom}function Vt(s){return"#"===s[0]&&(s=s.substr(1)),3==s.length&&(s=s[0].repeat(2)+s[1].repeat(2)+s[2].repeat(2)),parseInt(s,16)}function Kt(s){return zt.fromAny(s)}class zt{constructor(s){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=0|s}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return 255&this._hex}toCSS(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba("+this.r+", "+this.g+", "+this.b+", "+s+")"}toCSSHex(){return"#"+gt(this.r.toString(16),2)+gt(this.g.toString(16),2)+gt(this.b.toString(16),2)}toHSL(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Bt({r:this.r,g:this.g,b:this.b,a:s})}static fromHSL(s,r,a){const m=Mt({h:s,s:r,l:a});return this.fromRGB(m.r,m.g,m.b)}toString(){return this.toCSSHex()}static fromHex(s){return new zt(s)}static fromRGB(s,r,a){return new zt((0|a)+(r<<8)+(s<<16))}static fromString(s){return new zt(Vt(s))}static fromCSS(s){return new zt(function Ut(s){let r=(s=s.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(r)r.push("1");else if(r=s.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!r)return 0;let a="";for(let m=1;m<=3;m++){let s=parseInt(r[m]).toString(16);1==s.length&&(s="0"+s),a+=s}return Vt(a)}(s))}static fromAny(s){if(c(s)){if("#"==s[0])return zt.fromString(s);if("rgb"==s.substr(0,3))return zt.fromCSS(s)}else{if(g(s))return zt.fromHex(s);if(s instanceof zt)return zt.fromHex(s.hex)}throw new Error("Unknown color syntax: "+s)}static alternative(s,r,a){const m=function Rt(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{r:255,g:255,b:255},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:255,g:255,b:255},m=r,f=a;return Lt(a)&&(m=a,f=r),Lt(s)?f:m}({r:s.r,g:s.g,b:s.b},r?{r:r.r,g:r.g,b:r.b}:void 0,a?{r:a.r,g:a.g,b:a.b}:void 0);return this.fromRGB(m.r,m.g,m.b)}static interpolate(s,r,a){if("hsl"==(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb")){const m=r.toHSL(),f=a.toHSL();return zt.fromHSL(Xt(s,m.h,f.h),Xt(s,m.s,f.s),Xt(s,m.l,f.l))}return zt.fromRGB(Xt(s,r.r,a.r),Xt(s,r.g,a.g),Xt(s,r.b,a.b))}static lighten(s,r){const a=function At(s,r){return s?{r:Math.max(0,Math.min(255,s.r+Ht(s.r,r))),g:Math.max(0,Math.min(255,s.g+Ht(s.g,r))),b:Math.max(0,Math.min(255,s.b+Ht(s.b,r))),a:s.a}:s}({r:s.r,g:s.g,b:s.b},r);return zt.fromRGB(a.r,a.g,a.b)}static brighten(s,r){const a=function It(s,r){if(s){let a=Ht(Math.min(Math.max(s.r,s.g,s.b),230),r);return{r:Math.max(0,Math.min(255,Math.round(s.r+a))),g:Math.max(0,Math.min(255,Math.round(s.g+a))),b:Math.max(0,Math.min(255,Math.round(s.b+a))),a:s.a}}return s}({r:s.r,g:s.g,b:s.b},r);return zt.fromRGB(a.r,a.g,a.b)}static saturate(s,r){const a=function Nt(s,r){if(void 0===s||1==r)return s;let a=Bt(s);return a.s=r,Mt(a)}({r:s.r,g:s.g,b:s.b},r);return zt.fromRGB(a.r,a.g,a.b)}}class Gt{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const s=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{w(s,(s=>{s.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}}hasListeners(){return 0!==this._listeners.length}hasListenersByType(s){return function v(s,r){const a=s.length;for(let m=0;m<a;++m)if(r(s[m]))return!0;return!1}(this._listeners,(r=>(null===r.type||r.type===s)&&!r.killed))}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(s){delete this._disabled[s]}disableType(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;this._disabled[s]=r}_removeListener(s){if(0===this._iterating){const r=this._listeners.indexOf(s);if(-1===r)throw new Error("Invalid state: could not remove listener");this._listeners.splice(r,1)}else this._killed.push(s)}_removeExistingListener(s,r,a,m){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((f=>{f.once!==s||f.type!==r||void 0!==a&&f.callback!==a||f.context!==m||f.disposer.dispose()}))}isEnabled(s){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(s)&&void 0===this._disabled[s]}removeType(s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((r=>{r.type===s&&r.disposer.dispose()}))}has(s,r,a){return-1!==C(this._listeners,(m=>!0!==m.once&&m.type===s&&(void 0===r||m.callback===r)&&m.context===a))}_shouldDispatch(s){if(this._disposed)throw new Error("EventDispatcher is disposed");const r=this._disabled[s];return g(r)?(r<=1?delete this._disabled[s]:--this._disabled[s],!1):this._enabled}_eachListener(s){++this._iterating;try{w(this._listeners,s)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(w(this._killed,(s=>{this._removeListener(s)})),this._killed.length=0)}}dispatch(s,r){this._shouldDispatch(s)&&this._eachListener((a=>{a.killed||null!==a.type&&a.type!==s||a.dispatch(s,r)}))}_on(s,r,a,m,f,Qt){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(s,r,a,m);const ne={type:r,callback:a,context:m,shouldClone:f,dispatch:Qt,killed:!1,once:s,disposer:new z((()=>{ne.killed=!0,this._removeListener(ne)}))};return this._listeners.push(ne),ne}onAll(s,r){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._on(!1,null,s,r,a,((a,m)=>s.call(r,m))).disposer}on(s,r,a){let m=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this._on(!1,s,r,a,m,((s,m)=>r.call(a,m))).disposer}once(s,r,a){let m=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const f=this._on(!0,s,r,a,m,((s,m)=>{f.disposer.dispose(),r.call(a,m)}));return f.disposer}off(s,r,a){this._removeExistingListener(!1,s,r,a)}copyFrom(s){if(this._disposed)throw new Error("EventDispatcher is disposed");if(s===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const r=[];return w(s._listeners,(s=>{!s.killed&&s.shouldClone&&(null===s.type?r.push(this.onAll(s.callback,s.context)):s.once?r.push(this.once(s.type,s.callback,s.context)):r.push(this.on(s.type,s.callback,s.context)))})),new Y(r)}}function Yt(s){return(0,m.b)(this,void 0,void 0,(function*(){if(void 0!==s){const r=[];W(s,((s,a)=>{r.push(a.waitForStop())})),yield Promise.all(r)}}))}function Xt(s,r,a){return r+s*(a-r)}function $t(s,r,a){return s>=1?a:r}function Zt(s,r,a){return new e(Xt(s,r.percent,a.percent))}function Jt(s,r,a){return zt.interpolate(s,r,a)}function qt(s,r){return"number"==typeof s&&"number"==typeof r?Xt:s instanceof e&&r instanceof e?Zt:s instanceof zt&&r instanceof zt?Jt:$t}var oe,xe;function te(s,r){if(!(s>=0&&s<r))throw new Error("Index out of bounds: "+s)}(xe=oe||(oe={}))[xe.Stopped=0]="Stopped",xe[xe.Playing=1]="Playing",xe[xe.Paused=2]="Paused";class ee{constructor(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Gt}),this._values=s}get values(){return this._values}contains(s){return-1!==this._values.indexOf(s)}removeValue(s){let r=0,a=this._values.length;for(;r<a;)this._values[r]===s?(this.removeIndex(r),--a):++r}indexOf(s){return b(this._values,s)}get length(){return this._values.length}hasIndex(s){return s>=0&&s<this._values.length}getIndex(s){return this._values[s]}_onPush(s){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:s})}_onInsertIndex(s,r){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:s,newValue:r})}_onSetIndex(s,r,a){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:s,oldValue:r,newValue:a})}_onRemoveIndex(s,r){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:s,oldValue:r})}_onMoveIndex(s,r,a){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:s,newIndex:r,value:a})}_onClear(s){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:s})}setIndex(s,r){te(s,this._values.length);const a=this._values[s];return a!==r&&(this._values[s]=r,this._onSetIndex(s,a,r)),a}insertIndex(s,r){return te(s,this._values.length+1),j(this._values,s,r),this._onInsertIndex(s,r),r}swap(s,r){const a=this._values.length;if(te(s,a),te(r,a),s!==r){const a=this._values[s],m=this._values[r];this._values[s]=m,this._onSetIndex(s,a,m),this._values[r]=a,this._onSetIndex(r,m,a)}}removeIndex(s){te(s,this._values.length);const r=this._values[s];return E(this._values,s),this._onRemoveIndex(s,r),r}moveValue(s,r){let a=this.indexOf(s);if(-1!==a)if(E(this._values,a),null==r){const r=this._values.length;this._values.push(s),this._onMoveIndex(a,r,s)}else j(this._values,r,s),this._onMoveIndex(a,r,s);else null==r?(this._values.push(s),this._onPush(s)):(j(this._values,r,s),this._onInsertIndex(r,s));return s}push(s){return this._values.push(s),this._onPush(s),s}unshift(s){return this.insertIndex(0,s),s}pushAll(s){w(s,(s=>{this.push(s)}))}copyFrom(s){this.pushAll(s._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(s){const r=this._values;this._values=[],this._onClear(r),w(s,(s=>{this._values.push(s),this._onPush(s)}))}clear(){this.setAll([])}*[Symbol.iterator](){const s=this._values.length;for(let r=0;r<s;++r)yield this._values[r]}each(s){w(this._values,s)}eachReverse(s){P(this._values,s)}}class ie extends ee{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(s,r,a){this.autoDispose&&r.dispose(),super._onSetIndex(s,r,a)}_onRemoveIndex(s,r){this.autoDispose&&r.dispose(),super._onRemoveIndex(s,r)}_onClear(s){this.autoDispose&&w(s,(s=>{s.dispose()})),super._onClear(s)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.autoDispose&&w(this._values,(s=>{s.dispose()})))}}class se extends ie{constructor(s,r){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=s,this.make=r}}class re extends ee{constructor(s){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=s,this._events=this.events.onAll((s=>{if("clear"===s.type)w(s.oldValues,(s=>{this._onRemoved(s)}));else if("push"===s.type)this._onInserted(s.newValue);else if("setIndex"===s.type)this._onRemoved(s.oldValue),this._onInserted(s.newValue,s.index);else if("insertIndex"===s.type)this._onInserted(s.newValue,s.index);else if("removeIndex"===s.type)this._onRemoved(s.oldValue);else{if("moveIndex"!==s.type)throw new Error("Unknown IListEvent type");this._onRemoved(s.value),this._onInserted(s.value,s.newIndex)}}))}_onInserted(s,r){s._setParent(this._container,!0);const a=this._container._childrenDisplay;void 0===r?a.addChild(s._display):a.addChildAt(s._display,r)}_onRemoved(s){this._container._childrenDisplay.removeChild(s._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),w(this.values,(s=>{s.dispose()})))}}const Ce=Math.PI,Ve=Ce/180,Ue=180/Ce;function he(s,r,a){if(!g(r)||r<=0){let r=Math.round(s);return a&&r-s==.5&&r--,r}{let a=Math.pow(10,r);return Math.round(s*a)/a}}function le(s,r){if(!g(r)||r<=0)return Math.ceil(s);{let a=Math.pow(10,r);return Math.ceil(s*a)/a}}function de(s,r,a){return Math.min(Math.max(s,r),a)}function ue(s){return Math.sin(Ve*s)}function pe(s){return Math.cos(Ve*s)}function ce(s){return(s%=360)<0&&(s+=360),s}function ge(s,r,a,m,f){let Qt=Number.MAX_VALUE,ne=Number.MAX_VALUE,ae=-Number.MAX_VALUE,oe=-Number.MAX_VALUE,xe=[];xe.push(_e(f,a)),xe.push(_e(f,m));let Ce=Math.min(90*Math.floor(a/90),90*Math.floor(m/90)),Ve=Math.max(90*Math.ceil(a/90),90*Math.ceil(m/90));for(let Ue=Ce;Ue<=Ve;Ue+=90)Ue>=a&&Ue<=m&&xe.push(_e(f,Ue));for(let Ue=0;Ue<xe.length;Ue++){let s=xe[Ue];s.x<Qt&&(Qt=s.x),s.y<ne&&(ne=s.y),s.x>ae&&(ae=s.x),s.y>oe&&(oe=s.y)}return{left:s+Qt,top:r+ne,right:s+ae,bottom:r+oe}}function _e(s,r){return{x:s*pe(r),y:s*ue(r)}}function me(s){const r=s.length;if(r>0){let a=s[0],m=a.left,f=a.top,Qt=a.right,ne=a.bottom;if(r>1)for(let ae=1;ae<r;ae++)a=s[ae],m=Math.min(a.left,m),Qt=Math.max(a.right,Qt),f=Math.min(a.top,f),ne=Math.max(a.bottom,ne);return{left:m,right:Qt,top:f,bottom:ne}}return{left:0,right:0,top:0,bottom:0}}function be(s){return s}function ve(s){return s*s*s}function ye(s){return function(r){return 1-s(1-r)}}class we{constructor(s,r){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=s,this._settings=r,W(r,(s=>{this._userSettings[s]=!0}))}get(s,r){const a=this._settings[s];return void 0!==a?a:r}setRaw(s,r){this._settings[s]=r}set(s,r){this._userSettings[s]=!0,this.setRaw(s,r)}remove(s){delete this._userSettings[s],delete this._settings[s]}setAll(s){N(s).forEach((r=>{this.set(r,s[r])}))}_eachSetting(s){W(this._settings,s)}apply(){const s={stateAnimationEasing:!0,stateAnimationDuration:!0},r=this._entity.states.lookup("default");this._eachSetting(((a,m)=>{s[a]||(s[a]=!0,this!==r&&(a in r._settings||(r._settings[a]=this._entity.get(a))),this._entity.set(a,m))}))}applyAnimate(s){null==s&&(s=this._settings.stateAnimationDuration),null==s&&(s=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let r=this._settings.stateAnimationEasing;null==r&&(r=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",ve)));const a=this._entity.states.lookup("default"),m={stateAnimationEasing:!0,stateAnimationDuration:!0},f={};return this._eachSetting(((Qt,ne)=>{if(!m[Qt]){m[Qt]=!0,this!=a&&(Qt in a._settings||(a._settings[Qt]=this._entity.get(Qt)));const ae=this._entity.animate({key:Qt,to:ne,duration:s,easing:r});ae&&(f[Qt]=ae)}})),f}}class Pe{constructor(s){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=s}lookup(s){return this._states[s]}create(s,r){const a=this._states[s];if(a)return a.setAll(r),a;{const a=new we(this._entity,r);return this._states[s]=a,a}}remove(s){delete this._states[s]}apply(s){const r=this._states[s];r&&r.apply(),this._entity._applyState(s)}applyAnimate(s,r){let a;const m=this._states[s];return m&&(a=m.applyAnimate(r)),this._entity._applyStateAnimated(s,r),a}}const ni=new class De{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.8.0"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};function ke(s){ni.licenses.push(s)}function Oe(s,r){return s===r?0:s<r?-1:1}function Te(s,r,a){const m=s.length,f=r.length,Qt=Math.min(m,f);for(let ne=0;ne<Qt;++ne){const m=a(s[ne],r[ne]);if(0!==m)return m}return Oe(m,f)}function Se(s,r){return s===r?0:s<r?-1:1}class je{constructor(s){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=s}add(s,r){let a=this._callbacks[s];return void 0===a&&(a=this._callbacks[s]=[]),a.push(r),this._entity._markDirtyKey(s),new z((()=>{k(a,r)&&this._entity._markDirtyKey(s)}))}remove(s){const r=this._callbacks[s];void 0!==r&&(delete this._callbacks[s],0!==r.length&&this._entity._markDirtyKey(s))}enable(s){this._disabled[s]&&(delete this._disabled[s],this._entity._markDirtyKey(s))}disable(s){this._disabled[s]||(this._disabled[s]=!0,this._entity._markDirtyKey(s))}fold(s,r){if(!this._disabled[s]){const a=this._callbacks[s];if(void 0!==a)for(let m=0,f=a.length;m<f;++m)r=a[m](r,this._entity,s)}return r}}class Ee{constructor(s,r,a,m,f,Qt,ne){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Gt}),this._animation=s,this._from=r,this._to=a,this._duration=m,this._easing=f,this._loops=Qt,this._interpolate=qt(r,a),this._oldTime=ne}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){this._stopped||this._playing||(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise(((s,r)=>{if(this._stopped)s();else{const e=()=>{r.dispose(),s()},r=this.events.on("stopped",e)}}))}_checkEnded(){return!(this._loops>1)||(--this._loops,!1)}_run(s){null!==this._oldTime&&(this._time+=s-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=s}_reset(s){this._oldTime=s,this._time=0}_value(s){return this._interpolate(this._easing(s),this._from,this._to)}}let oi=0;class Me{constructor(s){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++oi}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=s}_checkDirty(){N(this._settings).forEach((s=>{this._userProperties[s]=!0,this._markDirtyKey(s)}))}resetUserSettings(){this._userProperties={}}_runAnimation(s){let r=oe.Stopped;if(!this.isDisposed()){let a=!1,m=!1;W(this._animatingSettings,((r,f)=>{if(f.stopped)this._stopAnimation(r);else if(f.playing){f._run(s);const m=f.percentage;m>=1?f._checkEnded()?this.set(r,f._value(1)):(a=!0,f._reset(s),this._set(r,f._value(1))):(a=!0,this._set(r,f._value(m)))}else m=!0})),W(this._animatingPrivateSettings,((r,f)=>{if(f.stopped)this._stopAnimationPrivate(r);else if(f.playing){f._run(s);const m=f.percentage;m>=1?f._checkEnded()?this.setPrivate(r,f._value(1)):(a=!0,f._reset(s),this._setPrivate(r,f._value(1))):(a=!0,this._setPrivate(r,f._value(m)))}else m=!0})),a?r=oe.Playing:m&&(r=oe.Paused)}return r}_markDirtyKey(s){this.markDirty()}_markDirtyPrivateKey(s){this.markDirty()}on(s,r){let a=this._settingEvents[s];return void 0===a&&(a=this._settingEvents[s]=[]),a.push(r),new z((()=>{k(a,r),0===a.length&&delete this._settingEvents[s]}))}onPrivate(s,r){let a=this._privateSettingEvents[s];return void 0===a&&(a=this._privateSettingEvents[s]=[]),a.push(r),new z((()=>{k(a,r),0===a.length&&delete this._privateSettingEvents[s]}))}getRaw(s,r){const a=this._settings[s];return void 0!==a?a:r}get(s,r){return this.getRaw(s,r)}_sendKeyEvent(s,r){const a=this._settingEvents[s];void 0!==a&&w(a,(a=>{a(r,this,s)}))}_sendPrivateKeyEvent(s,r){const a=this._privateSettingEvents[s];void 0!==a&&w(a,(a=>{a(r,this,s)}))}_setRaw(s,r,a){this._prevSettings[s]=r,this._sendKeyEvent(s,a)}setRaw(s,r){const a=this._settings[s];this._settings[s]=r,a!==r&&this._setRaw(s,a,r)}_set(s,r){const a=this._settings[s];this._settings[s]=r,a!==r&&(this._setRaw(s,a,r),this._markDirtyKey(s))}_stopAnimation(s){const r=this._animatingSettings[s];r&&(delete this._animatingSettings[s],r.stop())}set(s,r){return this._set(s,r),this._stopAnimation(s),r}remove(s){s in this._settings&&(this._prevSettings[s]=this._settings[s],delete this._settings[s],this._sendKeyEvent(s,void 0),this._markDirtyKey(s)),this._stopAnimation(s)}removeAll(){w(N(this._settings),(s=>{this.remove(s)}))}getPrivate(s,r){const a=this._privateSettings[s];return void 0!==a?a:r}_setPrivateRaw(s,r,a){this._prevPrivateSettings[s]=r,this._sendPrivateKeyEvent(s,a)}setPrivateRaw(s,r){const a=this._privateSettings[s];this._privateSettings[s]=r,a!==r&&this._setPrivateRaw(s,a,r)}_setPrivate(s,r){const a=this._privateSettings[s];this._privateSettings[s]=r,a!==r&&(this._setPrivateRaw(s,a,r),this._markDirtyPrivateKey(s))}_stopAnimationPrivate(s){const r=this._animatingPrivateSettings[s];r&&(r.stop(),delete this._animatingPrivateSettings[s])}setPrivate(s,r){return this._setPrivate(s,r),this._stopAnimationPrivate(s),r}removePrivate(s){s in this._privateSettings&&(this._prevPrivateSettings[s]=this._privateSettings[s],delete this._privateSettings[s],this._markDirtyPrivateKey(s)),this._stopAnimationPrivate(s)}setAll(s){W(s,((s,r)=>{this.set(s,r)}))}animate(s){const r=s.key,a=s.to,m=s.duration||0,f=s.loops||1,Qt=void 0===s.from?this.get(r):s.from,ne=void 0===s.easing?be:s.easing;if(0===m)this.set(r,a);else{if(void 0!==Qt&&Qt!==a){this.set(r,Qt);const s=this._animatingSettings[r]=new Ee(this,Qt,a,m,ne,f,this._animationTime());return this._startAnimation(),s}this.set(r,a)}const ae=new Ee(this,Qt,a,m,ne,f,null);return ae.stop(),ae}animatePrivate(s){const r=s.key,a=s.to,m=s.duration||0,f=s.loops||1,Qt=void 0===s.from?this.getPrivate(r):s.from,ne=void 0===s.easing?be:s.easing;if(0===m)this.setPrivate(r,a);else{if(void 0!==Qt&&Qt!==a){this.setPrivate(r,Qt);const s=this._animatingPrivateSettings[r]=new Ee(this,Qt,a,m,ne,f,this._animationTime());return this._startAnimation(),s}this.setPrivate(r,a)}const ae=new Ee(this,Qt,a,m,ne,f,null);return ae.stop(),ae}_dispose(){}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Be extends Me{constructor(s,r,a){let m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(super(r),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Pe(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new je(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!a)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=s,this._internalTemplates=m,r.id&&this._registerId(r.id)}static new(s,r,a){const m=new this(s,r,!0);return m._template=a,m._afterNew(),m}static _new(s,r){const a=new this(s,r,!0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);return a._afterNew(),a}_afterNew(){this._checkDirty();let s=!1;const r=this._template;r&&(s=!0,r._setObjectTemplate(this)),w(this._internalTemplates,(r=>{s=!0,r._setObjectTemplate(this)})),s&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const s=this._template;s&&s._setObjectTemplate(this),w(this._internalTemplates,(s=>{s._setObjectTemplate(this)})),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new Gt}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefault(s,r){s in this._settings||super.set(s,r)}_setRawDefault(s,r){s in this._settings||super.setRaw(s,r)}_clearDirty(){N(this._dirty).forEach((s=>{this._dirty[s]=!1})),N(this._dirtyPrivate).forEach((s=>{this._dirtyPrivate[s]=!1}))}isDirty(s){return!!this._dirty[s]}isPrivateDirty(s){return!!this._dirtyPrivate[s]}_markDirtyKey(s){this._dirty[s]=!0,super._markDirtyKey(s)}_markDirtyPrivateKey(s){this._dirtyPrivate[s]=!0,super._markDirtyKey(s)}isType(s){return-1!==this.classNames.indexOf(s)}_pushPropertyDisposer(s,r){let a=this._disposerProperties[s];return void 0===a&&(a=this._disposerProperties[s]=[]),a.push(r),r}_disposeProperty(s){const r=this._disposerProperties[s];void 0!==r&&(w(r,(s=>{s.dispose()})),delete this._disposerProperties[s])}set template(s){const r=this._template;r!==s&&(this._template=s,r&&r._removeObjectTemplate(this),s&&s._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(s){}_applyStateAnimated(s,r){}get(s,r){const a=this.adapters.fold(s,this._settings[s]);return void 0!==a?a:r}isUserSetting(s){return this._userProperties[s]||!1}set(s,r){return this._userProperties[s]=!0,super.set(s,r)}setRaw(s,r){this._userProperties[s]=!0,super.setRaw(s,r)}_setSoft(s,r){return this._userProperties[s]?r:super.set(s,r)}remove(s){delete this._userProperties[s],this._removeTemplateProperty(s)}setPrivate(s,r){return this._userPrivateProperties[s]=!0,super.setPrivate(s,r)}setPrivateRaw(s,r){this._userPrivateProperties[s]=!0,super.setPrivateRaw(s,r)}removePrivate(s){delete this._userPrivateProperties[s],this._removeTemplatePrivateProperty(s)}_setTemplateProperty(s,r,a){this._userProperties[r]||s===this._findTemplateByKey(r)&&super.set(r,a)}_setTemplatePrivateProperty(s,r,a){this._userPrivateProperties[r]||s===this._findTemplateByPrivateKey(r)&&super.setPrivate(r,a)}_removeTemplateProperty(s){if(!this._userProperties[s]){const r=this._findTemplateByKey(s);r?super.set(s,r._settings[s]):super.remove(s)}}_removeTemplatePrivateProperty(s){if(!this._userPrivateProperties[s]){const r=this._findTemplateByPrivateKey(s);r?super.setPrivate(s,r._privateSettings[s]):super.removePrivate(s)}}_walkParents(s){s(this._root._rootContainer),s(this)}_applyStateByKey(s){const r=this.states.create(s,{}),a={};this._eachTemplate((m=>{const f=m.states.lookup(s);f&&f._apply(r,a)})),W(r._settings,(s=>{a[s]||r._userSettings[s]||r.remove(s)}))}_applyTemplate(s,r){this._templateDisposers.push(s._apply(this,r)),W(s._settings,((s,a)=>{r.settings[s]||this._userProperties[s]||(r.settings[s]=!0,super.set(s,a))})),W(s._privateSettings,((s,a)=>{r.privateSettings[s]||this._userPrivateProperties[s]||(r.privateSettings[s]=!0,super.setPrivate(s,a))})),this._runSetup&&s.setup&&(this._runSetup=!1,s.setup(this))}_findStaticTemplate(s){if(this._template&&s(this._template))return this._template}_eachTemplate(s){this._findStaticTemplate((r=>(s(r),!1))),P(this._internalTemplates,s),w(this._templates,s)}_applyTemplates(){let s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s&&this._disposeTemplates();const r={settings:{},privateSettings:{},states:{}};this._eachTemplate((s=>{this._applyTemplate(s,r)})),s&&(W(this._settings,(s=>{this._userProperties[s]||r.settings[s]||super.remove(s)})),W(this._privateSettings,(s=>{this._userPrivateProperties[s]||r.privateSettings[s]||super.removePrivate(s)})))}_findTemplate(s){const r=this._findStaticTemplate(s);if(void 0===r){const r=function A(s,r){const a=function M(s,r){let a=s.length;for(;a>0;)if(--a,r(s[a],a))return a;return-1}(s,r);if(-1!==a)return s[a]}(this._internalTemplates,s);return void 0===r?B(this._templates,s):r}return r}_findTemplateByKey(s){return this._findTemplate((r=>s in r._settings))}_findTemplateByPrivateKey(s){return this._findTemplate((r=>s in r._privateSettings))}_disposeTemplates(){w(this._templateDisposers,(s=>{s.dispose()})),this._templateDisposers.length=0}_removeTemplates(){w(this._templates,(s=>{s._removeObjectTemplate(this)})),this._templates.length=0}_applyThemes(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=!1;const a=[];let m=[];const f=new Set,Qt=this.get("themeTagsSelf");return Qt&&w(Qt,(s=>{f.add(s)})),this._walkParents((s=>{s===this._root._rootContainer&&(r=!0),s._defaultThemes.length>0&&a.push(s._defaultThemes);const Qt=s.get("themes");Qt&&m.push(Qt);const ne=s.get("themeTags");ne&&w(ne,(s=>{f.add(s)}))})),m=a.concat(m),this._removeTemplates(),(r||s)&&P(this.classNames,(s=>{const r=[];w(m,(a=>{w(a,(a=>{const m=a._lookupRules(s);m&&P(m,(s=>{if(s.tags.every((s=>f.has(s)))){const a=function I(s,r){let a=0,m=s.length,f=!1;for(;a<m;){const Qt=a+m>>1,ne=r(s[Qt]);ne<0?a=Qt+1:0===ne?(f=!0,m=Qt):m=Qt}return{found:f,index:a}}(r,(r=>{const a=Oe(s.tags.length,r.tags.length);return 0===a?Te(s.tags,r.tags,Oe):a}));r.splice(a.index,0,s)}}))}))})),w(r,(s=>{this._templates.push(s.template),s.template._setObjectTemplate(this)}))})),this._applyTemplates(),(r||s)&&(this._runSetup=!1),r||s}_changed(){}_beforeChanged(){if(this.isDirty("id")){const s=this.get("id");s&&this._registerId(s);const r=this._prevSettings.id;r&&delete ni.entitiesById[r]}}_registerId(s){if(ni.entitiesById[s]&&ni.entitiesById[s]!==this)throw new Error('An entity with id "'+s+'" already exists.');ni.entitiesById[s]=this}_afterChanged(){}addDisposer(s){return this._disposers.push(s),s}_dispose(){super._dispose();const s=this._template;s&&s._removeObjectTemplate(this),w(this._internalTemplates,(s=>{s._removeObjectTemplate(this)})),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach((s=>{s.dispose()})),W(this._disposerProperties,((s,r)=>{w(r,(s=>{s.dispose()}))}));const r=this.get("id");r&&delete ni.entitiesById[r]}setTimeout(s,r){const a=setTimeout((()=>{this.removeDispose(m),s()}),r),m=new z((()=>{clearTimeout(a)}));return this._disposers.push(m),m}removeDispose(s){if(!this.isDisposed()){let r=b(this._disposers,s);r>-1&&this._disposers.splice(r,1)}s.dispose()}hasTag(s){return-1!==b(this.get("themeTags",[]),s)}addTag(s){if(!this.hasTag(s)){const r=this.get("themeTags",[]);r.push(s),this.set("themeTags",r)}}removeTag(s){if(this.hasTag(s)){const r=this.get("themeTags",[]);x(r,s),this.set("themeTags",r)}}_t(s,r){for(var a=arguments.length,m=new Array(a>2?a-2:0),f=2;f<a;f++)m[f-2]=arguments[f];return this._root.language.translate(s,r,...m)}get root(){return this._root}}Object.defineProperty(Be,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(Be,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});class Ae{constructor(s,r,a){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=s,this._template=r,this._settings=a}get(s,r){const a=this._settings[s];return void 0!==a?a:r}set(s,r){this._settings[s]=r,this._template._stateChanged(this._name)}remove(s){delete this._settings[s],this._template._stateChanged(this._name)}setAll(s){N(s).forEach((r=>{this._settings[r]=s[r]})),this._template._stateChanged(this._name)}_apply(s,r){W(this._settings,((a,m)=>{r[a]||s._userSettings[a]||(r[a]=!0,s.setRaw(a,m))}))}}class He{constructor(s){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=s}lookup(s){return this._states[s]}create(s,r){const a=this._states[s];if(a)return a.setAll(r),a;{const a=new Ae(s,this._template,r);return this._states[s]=a,this._template._stateChanged(s),a}}remove(s){delete this._states[s],this._template._stateChanged(s)}_apply(s,r){W(this._states,((a,m)=>{let f=r.states[a];null==f&&(f=r.states[a]={});const Qt=s.states.create(a,{});m._apply(Qt,f)}))}}class Ie{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(s,r){let a=this._callbacks[s];return void 0===a&&(a=this._callbacks[s]=[]),a.push(r),new z((()=>{k(a,r),0===a.length&&delete this._callbacks[s]}))}remove(s){void 0!==this._callbacks[s]&&delete this._callbacks[s]}_apply(s){const r=[];return W(this._callbacks,((a,m)=>{w(m,(m=>{r.push(s.adapters.add(a,m))}))})),new Y(r)}}class Le{constructor(s,r){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new He(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Ie}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Gt}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=s}static new(s){return new Le(s,!0)}get entities(){return this._entities}get(s,r){const a=this._settings[s];return void 0!==a?a:r}setRaw(s,r){this._settings[s]=r}set(s,r){this._settings[s]!==r&&(this.setRaw(s,r),this._entities.forEach((a=>{a._setTemplateProperty(this,s,r)})))}remove(s){s in this._settings&&(delete this._settings[s],this._entities.forEach((r=>{r._removeTemplateProperty(s)})))}removeAll(){W(this._settings,((s,r)=>{this.remove(s)}))}getPrivate(s,r){const a=this._privateSettings[s];return void 0!==a?a:r}setPrivateRaw(s,r){return this._privateSettings[s]=r,r}setPrivate(s,r){return this._privateSettings[s]!==r&&(this.setPrivateRaw(s,r),this._entities.forEach((a=>{a._setTemplatePrivateProperty(this,s,r)}))),r}removePrivate(s){s in this._privateSettings&&(delete this._privateSettings[s],this._entities.forEach((r=>{r._removeTemplatePrivateProperty(s)})))}setAll(s){W(s,((s,r)=>{this.set(s,r)}))}on(s,r){let a=this._settingEvents[s];return void 0===a&&(a=this._settingEvents[s]=[]),a.push(r),new z((()=>{k(a,r),0===a.length&&delete this._settingEvents[s]}))}onPrivate(s,r){let a=this._privateSettingEvents[s];return void 0===a&&(a=this._privateSettingEvents[s]=[]),a.push(r),new z((()=>{k(a,r),0===a.length&&delete this._privateSettingEvents[s]}))}_apply(s,r){const a=[];return W(this._settingEvents,((r,m)=>{w(m,(m=>{a.push(s.on(r,m))}))})),W(this._privateSettingEvents,((r,m)=>{w(m,(m=>{a.push(s.onPrivate(r,m))}))})),this.states._apply(s,r),a.push(this.adapters._apply(s)),a.push(s.events.copyFrom(this.events)),new Y(a)}_setObjectTemplate(s){this._entities.push(s)}_removeObjectTemplate(s){x(this._entities,s)}_stateChanged(s){this._entities.forEach((r=>{r._applyStateByKey(s)}))}}class Ne extends Gt{constructor(s){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=s}_makePointerEvent(s,r){return{type:s,originalEvent:r.event,point:r.point,simulated:r.simulated,native:r.native,target:this._sprite}}_onRenderer(s,r){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let a=this._rendererDisposers[s];if(void 0===a){const m=this._sprite._display.on(s,(s=>{r.call(this,s)}));a=this._rendererDisposers[s]=new X((()=>{delete this._rendererDisposers[s],m.dispose()}))}return a.increment()}_on(s,r,a,m,f,Qt){const ne=super._on(s,r,a,m,f,Qt),ae=Ne.RENDERER_EVENTS[r];return void 0!==ae&&(ne.disposer=new Y([ne.disposer,this._onRenderer(r,ae)])),ne}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(s,r){const a=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(s,r),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(s,r)}finally{this._dispatchParents=a}}}Object.defineProperty(Ne,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(s){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",s))&&this.dispatch("click",this._makePointerEvent("click",s))},rightclick:function(s){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",s))},middleclick:function(s){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",s))},dblclick:function(s){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",s))},pointerover:function(s){const r=this._sprite;let a=!0;if(r.getPrivate("trustBounds")){r._getBounds();const m=r.globalBounds();(function fe(s,r){return s.x>=r.left&&s.y>=r.top&&s.x<=r.right&&s.y<=r.bottom})(s.point,m)||(a=!1,r._root._renderer.removeHovering(r._display))}a&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",s))},pointerout:function(s){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",s))},pointerdown:function(s){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",s))},pointerup:function(s){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",s))},globalpointerup:function(s){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",s))},globalpointermove:function(s){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",s))},wheel:function(s){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:s.event,point:s.point})}}});class Re extends Be{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}_markDirtyKey(s){super._markDirtyKey(s),"x"!=s&&"y"!=s&&"dx"!=s&&"dy"!=s||(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(s){super._markDirtyPrivateKey(s),"x"!=s&&"y"!=s||this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new Ne(this)}_processTemplateField(){let s;const r=this.get("templateField");if(r){const a=this.dataItem;if(a){const m=a.dataContext;m&&(s=m[r],s instanceof Le||!s||(s=Le.new(s)))}}this._templateField!==s&&(this._removeTemplateField(),this._templateField=s,s&&s._setObjectTemplate(this),this._applyTemplates())}_setDataItem(s){const r=this._dataItem;this._dataItem=s,this._processTemplateField();const a="dataitemchanged";s!=r&&this.events.isEnabled(a)&&this.events.dispatch(a,{type:a,target:this,oldDataItem:r,newDataItem:s})}set dataItem(s){this._setDataItem(s)}get dataItem(){if(this._dataItem)return this._dataItem;{let s=this._parent;for(;s;){if(s._dataItem)return s._dataItem;s=s._parent}}}_addPercentageSizeChildren(){let s=this.parent;s&&(this.get("width")instanceof e||this.get("height")instanceof e?T(s._percentageSizeChildren,this):k(s._percentageSizeChildren,this))}_addPercentagePositionChildren(){let s=this.parent;s&&(this.get("x")instanceof e||this.get("y")instanceof e?T(s._percentagePositionChildren,this):k(s._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const s=this._localBounds;if(s){const r=this.get("centerX");null!=r&&(this._display.pivot.x=s.left+pt(r,s.right-s.left));const a=this.get("centerY");null!=a&&(this._display.pivot.y=s.top+pt(a,s.bottom-s.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const s=this._prevSettings.tooltip;s&&s.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const s=this._tooltipMoveDp;s&&(s.dispose(),this._tooltipMoveDp=void 0);const r=this._tooltipPointerDp;r&&(r.dispose(),this._tooltipPointerDp=void 0),"pointer"==this.get("tooltipPosition")&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",(s=>{this.showTooltip(s.point)}))),this._tooltipPointerDp=new Y([this.events.on("pointerover",(()=>{this._tooltipMoveDp=this.events.on("globalpointermove",(s=>{this.showTooltip(s.point)}))})),this.events.on("pointerout",(()=>{const s=this._tooltipMoveDp;s&&(s.dispose(),this._tooltipMoveDp=void 0)}))]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const s=this._display,r=this.events;if(this.isDirty("draggable")){const a=this.get("draggable");a?(this.set("interactive",!0),this._dragDp=new Y([r.on("pointerdown",(s=>{this.dragStart(s)})),r.on("globalpointermove",(s=>{this.dragMove(s)})),r.on("globalpointerup",(s=>{this.dragStop(s)}))])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),s.cancelTouch=!!a}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const s=this.get("tooltipText"),a=this.get("tooltipHTML"),m=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(s||a)&&("click"==m?(this._tooltipDp=new Y([r.on("click",(()=>{this.setTimeout((()=>this.showTooltip()),10)})),Z(document,"click",(s=>{this.hideTooltip()}))]),this._disposers.push(this._tooltipDp)):"always"==m||(this._tooltipDp=new Y([r.on("pointerover",(()=>{this.showTooltip()})),r.on("pointerout",(()=>{this.hideTooltip()}))]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let s=this.get("toggleKey");s&&"none"!=s?this._toggleDp=r.on("click",(()=>{this._isDragging||this.set(s,!this.get(s))})):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(s.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),s.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),s.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?s.visible=!0:(s.visible=!1,this.hideTooltip()),this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const s=this.parent;s&&(this.isDirty("width")&&this.get("width")instanceof e||this.isDirty("height")&&this.get("height")instanceof e)&&(s.markDirty(),s._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const r=this.get("wheelable");r&&this.set("interactive",!0),s.wheelable=!!r}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(s.filter=this.get("filter"));let a=this.get("filter","");if(this.isDirty("blur")){const s=this.get("blur",0);0!=s&&(a+=" blur("+s+"px)")}if(this.isDirty("saturate")){const s=this.get("saturate",1);1!=s&&(a+=" saturate("+s+")")}if(this.isDirty("brightness")){const s=this.get("brightness",1);1!=s&&(a+=" brightness("+s+")")}if(this.isDirty("contrast")){const s=this.get("contrast",1);1!=s&&(a+=" contrast("+s+")")}if(this.isDirty("sepia")){const s=this.get("sepia",0);0!=s&&(a+=" sepia("+s+")")}if(this.isDirty("hue")){const s=this.get("hue",0);0!=s&&(a+=" hue-rotate("+s+"deg)")}if(this.isDirty("invert")){const s=this.get("invert",0);0!=s&&(a+=" invert("+s+")")}if(a&&(s.filter=a),this.isDirty("cursorOverStyle")&&(s.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new Y([r.on("focus",(()=>{this.showTooltip()})),r.on("blur",(()=>{this.hideTooltip()}))]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(s.exportable=this.get("exportable")),this.isDirty("interactive")){const s=this.events;this.get("interactive")?this._hoverDp=new Y([s.on("click",(s=>{st(s.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout((()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:s.target,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})}),10))})),s.on("globalpointerup",(s=>{st(s.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:s.target,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})),this._isDown&&this._handleUp(s)})),s.on("pointerover",(()=>{this._handleOver()})),s.on("pointerout",(()=>{this._handleOut()})),s.on("pointerdown",(s=>{this._handleDown(s)}))]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),"always"==this.get("showTooltipOn")&&this._display.visible&&this.showTooltip()}dragStart(s){this._dragEvent=s,this.events.stopParentDispatch()}dragStop(s){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const r="dragstop";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(s){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const r=Q(s.originalEvent);delete this._downPoints[r],0==N(this._downPoints).length&&(this._isDown=!1)}}_hasMoved(s){const r=Q(s.originalEvent),a=this._downPoints[r];if(a){const r=Math.abs(a.x-s.point.x),m=Math.abs(a.y-s.point.y);return r>5||m>5}return!1}_hasDown(){return N(this._downPoints).length>0}_handleDown(s){const r=this.parent;if(r&&!this.get("draggable")&&r._handleDown(s),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:s.point.x,y:s.point.y},this._isDown=!0;const r=Q(s.originalEvent);this._downPoints[r]={x:s.point.x,y:s.point.y}}}dragMove(s){let r=this._dragEvent;if(r){if(r.simulated&&!s.simulated)return!0;let a=0,m=this.parent,f=1;for(;null!=m;)a+=m.get("rotation",0),m=m.parent,m&&(f*=m.get("scale",1));let Qt=(s.point.x-r.point.x)/f,ne=(s.point.y-r.point.y)/f;const ae=this.events;if(r.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=s,this._dragPoint={x:this.x(),y:this.y()};const r="dragstart";ae.isEnabled(r)&&ae.dispatch(r,{type:r,target:this,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})}if(this._isDragging){let r=this._dragPoint;this.set("x",r.x+Qt*pe(a)+ne*ue(a)),this.set("y",r.y+ne*pe(a)-Qt*ue(a));const m="dragged";ae.isEnabled(m)&&ae.dispatch(m,{type:m,target:this,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})}else if(Math.hypot(Qt,ne)>5){this._isDragging=!0,this._dragEvent=s,this._dragPoint={x:this.x(),y:this.y()};const r="dragstart";ae.isEnabled(r)&&ae.dispatch(r,{type:r,target:this,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let s=this.parent,r=0;for(;;){if(!s)return r;++r,s=s.parent}}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const s=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),s.isMeasured=!0,s.invalidateBounds();const r=this.parent;r&&"absolute"!=this.get("position")&&(null==r.get("width")||null==r.get("height")||r.get("layout"))&&r.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const s=this._adjustedLocalBounds;let r;if(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),r=this._adjustedLocalBounds):(r={left:0,right:0,top:0,bottom:0},this._localBounds=r,this._adjustedLocalBounds=r),!s||s.left!==r.left||s.top!==r.top||s.right!==r.right||s.bottom!==r.bottom){const s="boundschanged";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}_fixMinBounds(s){let r=this.get("minWidth",this.getPrivate("minWidth")),a=this.get("minHeight",this.getPrivate("minHeight"));g(r)&&s.right-s.left<r&&(s.right=s.left+r),g(a)&&s.bottom-s.top<a&&(s.bottom=s.top+a);let m=this.getPrivate("width"),f=this.getPrivate("height");g(m)&&(m>0?s.right=s.left+m:s.left=s.right+m),g(f)&&(f>0?s.bottom=s.top+f:s.top=s.bottom+f)}_removeParent(s){s&&(s.children.removeValue(this),k(s._percentageSizeChildren,this),k(s._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.showTooltip(),this._handleOver()}unhover(){this.hideTooltip(),this._handleOut()}showTooltip(s){const r=this.getTooltip(),a=this.get("tooltipText"),m=this.get("tooltipHTML");if((a||m)&&r){const f=this.get("tooltipPosition"),Qt=this.getPrivate("tooltipTarget",this);"fixed"!=f&&s||(this._display._setMatrix(),s=this.toGlobal(Qt._getTooltipPoint())),r.set("pointTo",s),r.set("tooltipTarget",Qt),r.get("x")||r.set("x",s.x),r.get("y")||r.set("y",s.y),a&&r.label.set("text",a),m&&r.label.set("html",m);const ne=this.dataItem;if(ne&&r.label._setDataItem(ne),"always"==this.get("showTooltipOn")&&(s.x<0||s.x>this._root.width()||s.y<0||s.y>this._root.height()))return void this.hideTooltip();r.label.text.markDirtyText();const ae=r.show();return this.setPrivateRaw("showingTooltip",!0),ae}}hideTooltip(){const s=this.getTooltip();if(s&&(s.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==s)){let r=s.get("keepTargetHover")&&0==s.get("stateAnimationDuration",0)?400:void 0;const a=s.hide(r);return this.setPrivateRaw("showingTooltip",!1),a}}_getTooltipPoint(){const s=this._localBounds;if(s){let r=0,a=0;return this.get("isMeasured")?(r=s.left+pt(this.get("tooltipX",0),s.right-s.left),a=s.top+pt(this.get("tooltipY",0),s.bottom-s.top)):(r=pt(this.get("tooltipX",0),this.width()),a=pt(this.get("tooltipY",0),this.height())),{x:r,y:a}}return{x:0,y:0}}getTooltip(){let s=this.get("tooltip");if(s)return s;{let s=this.parent;if(s)return s.getTooltip()}}_updatePosition(){const s=this.parent;let r=this.get("dx",0),a=this.get("dy",0),m=this.get("x"),f=this.getPrivate("x"),Qt=0,ne=0;const ae=this.get("position");m instanceof e&&(m=s?s.innerWidth()*m.value+s.get("paddingLeft",0):0),g(m)?Qt=m+r:null!=f?Qt=f:s&&"relative"==ae&&(Qt=s.get("paddingLeft",0)+r);let oe=this.get("y"),xe=this.getPrivate("y");oe instanceof e&&(oe=s?s.innerHeight()*oe.value+s.get("paddingTop",0):0),g(oe)?ne=oe+a:null!=xe?ne=xe:s&&"relative"==ae&&(ne=s.get("paddingTop",0)+a);const Ce=this._display;if(Ce.x!=Qt||Ce.y!=ne){Ce.invalidateBounds(),Ce.x=Qt,Ce.y=ne;const s="positionchanged";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let s=this.get("x"),r=this.getPrivate("x");const a=this.parent;return a?s instanceof e?pt(s,a.innerWidth())+a.get("paddingLeft",0):g(s)?s:null!=r?r:a.get("paddingLeft",this._display.x):this._display.x}y(){let s=this.getPrivate("y");if(null!=s)return s;let r=this.get("y");const a=this.parent;return a?r instanceof e?pt(r,a.innerHeight())+a.get("paddingTop",0):g(r)?r:null!=s?s:a.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const s=this.get("tooltip");s&&s.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const s=this._adjustedLocalBounds,r=this.x(),a=this.y();return{left:s.left+r,right:s.right+r,top:s.top+a,bottom:s.bottom+a}}globalBounds(){const s=this.localBounds(),r=this.toGlobal({x:s.left,y:s.top}),a=this.toGlobal({x:s.right,y:s.top}),m=this.toGlobal({x:s.right,y:s.bottom}),f=this.toGlobal({x:s.left,y:s.bottom});return{left:Math.min(r.x,a.x,m.x,f.x),top:Math.min(r.y,a.y,m.y,f.y),right:Math.max(r.x,a.x,m.x,f.x),bottom:Math.max(r.y,a.y,m.y,f.y)}}_onShow(s){}_onHide(s){}appear(s,r){return(0,m.b)(this,void 0,void 0,(function*(){return yield this.hide(0),r?new Promise(((a,m)=>{this.setTimeout((()=>{a(this.show(s))}),r)})):this.show(s)}))}show(s){return(0,m.b)(this,void 0,void 0,(function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(s);const r=this.states.applyAnimate("default",s);yield Yt(r),this._isShowing=!1}}))}hide(s){return(0,m.b)(this,void 0,void 0,(function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let r=this.states.lookup("hidden");r||(r=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(s);const a=this.states.applyAnimate("hidden",s);yield Yt(a),this._isHiding=!1}}))}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const s=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*s:s}width(){let s=this.get("width"),r=this.get("maxWidth",this.getPrivate("maxWidth")),a=this.get("minWidth",this.getPrivate("minWidth")),m=this.getPrivate("width"),f=0;if(g(m))f=m;else if(null==s)this._adjustedLocalBounds&&(f=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(s instanceof e){const r=this.parent;f=r?r.innerWidth()*s.value:this._root.width()*s.value}else g(s)&&(f=s);return g(a)&&(f=Math.max(a,f)),g(r)&&(f=Math.min(r,f)),f}maxWidth(){let s=this.get("maxWidth",this.getPrivate("maxWidth"));if(g(s))return s;{let s=this.get("width");if(g(s))return s}const r=this.parent;return r?r.innerWidth():this._root.width()}maxHeight(){let s=this.get("maxHeight",this.getPrivate("maxHeight"));if(g(s))return s;{let s=this.get("height");if(g(s))return s}const r=this.parent;return r?r.innerHeight():this._root.height()}height(){let s=this.get("height"),r=this.get("maxHeight",this.getPrivate("maxHeight")),a=this.get("minHeight",this.getPrivate("minHeight")),m=this.getPrivate("height"),f=0;if(g(m))f=m;else if(null==s)this._adjustedLocalBounds&&(f=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(s instanceof e){const r=this.parent;f=r?r.innerHeight()*s.value:this._root.height()*s.value}else g(s)&&(f=s);return g(a)&&(f=Math.max(a,f)),g(r)&&(f=Math.min(r,f)),f}_findStaticTemplate(s){return this._templateField&&s(this._templateField)?this._templateField:super._findStaticTemplate(s)}_walkParents(s){this._parent&&this._walkParent(s)}_walkParent(s){this._parent&&this._parent._walkParent(s),s(this)}get parent(){return this._parent}_setParent(s){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=this._parent;s!==a&&(this.markDirtyBounds(),s.markDirty(),this._parent=s,r&&(this._removeParent(a),s&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(s){return this._display.toGlobal(s)}toLocal(s){return this._display.toLocal(s)}_getDownPoint(){const s=this._getDownPointId();if(s)return this._downPoints[s]}_getDownPointId(){if(this._downPoints)return function R(s,r){return N(s).sort(r)}(this._downPoints,((s,r)=>s>r?1:s<r?-1:0))[0]}toFront(){const s=this.parent;s&&s.children.moveValue(this,s.children.length-1)}toBack(){const s=this.parent;s&&s.children.moveValue(this,0)}}Object.defineProperty(Re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(Re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Be.classNames.concat([Re.className])});class Fe extends Be{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const s=this.get("repetition",""),r=this.get("width",100),a=this.get("height",100),m=this.get("fill"),f=this.get("fillOpacity",1),Qt=this._backgroundDisplay,ne=this._display;ne.clear(),Qt.clear(),m&&f>0&&(Qt.beginFill(m,f),Qt.drawRect(0,0,r,a),Qt.endFill()),ne.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(ne,Qt,s,r,a)}this._clear=!1}}Object.defineProperty(Fe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(Fe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Be.classNames.concat([Fe.className])});class We extends Fe{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const s=this.get("canvas");s&&(this.set("width",s.width),this.set("height",s.height))}_draw(){super._draw();const s=this._image;if(s){const r=this.get("width",100),a=this.get("height",100),m=this.get("fit","image");let f=0,Qt=0;"pattern"==m?(f=r,Qt=a):(f=s.width,Qt=s.height,"image"==m&&(this.set("width",f),this.set("height",Qt)));let ne=0,ae=0;this.get("centered",!0)&&(ne=r/2-f/2,ae=a/2-Qt/2),this._display.image(s,f,Qt,ne,ae)}const r=this.get("canvas");r&&this._display.image(r,r.width,r.height,0,0)}_load(){const s=this.get("src");if(s){const r=new Image;r.src=s,r.decode().then((()=>{this._image=r,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})})).catch((s=>{}))}}}var hi;Object.defineProperty(We,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(We,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Fe.classNames.concat([We.className])}),function(s){s.ADD="lighter",s.COLOR="color",s.COLOR_BURN="color-burn",s.COLOR_DODGE="color-dodge",s.DARKEN="darken",s.DIFFERENCE="difference",s.DST_OVER="destination-over",s.EXCLUSION="exclusion",s.HARD_LIGHT="hard-light",s.HUE="hue",s.LIGHTEN="lighten",s.LUMINOSITY="luminosity",s.MULTIPLY="multiply",s.NORMAL="source-over",s.OVERLAY="overlay",s.SATURATION="saturation",s.SCREEN="screen",s.SOFT_LIGHT="soft-light",s.SRC_ATOP="source-atop",s.XOR="xor"}(hi||(hi={}));const li=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"];class Ke extends Re{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const s=this.get("fillGradient");if(s){this._display.isMeasured=!0;const r=s.get("target");r&&(this._disposers.push(r.events.on("boundschanged",(()=>{this._markDirtyKey("fill")}))),this._disposers.push(r.events.on("positionchanged",(()=>{this._markDirtyKey("fill")}))))}}if(this.isDirty("strokeGradient")){const s=this.get("strokeGradient");if(s){this._display.isMeasured=!0;const r=s.get("target");r&&(this._disposers.push(r.events.on("boundschanged",(()=>{this._markDirtyKey("stroke")}))),this._disposers.push(r.events.on("positionchanged",(()=>{this._markDirtyKey("stroke")}))))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let s=this.get("strokeDasharray");g(s)&&(s=s<.5?[0]:[s]),this._display.setLineDash(s);const r=this.get("strokeDashoffset");r&&this._display.setLineDashOffset(r);const a=this.get("blendMode",hi.NORMAL);this._display.blendMode=a;const m=this.get("draw");m&&m(this._display,this);const f=this.get("svgPath");null!=f&&this._display.svgPath(f)}}_afterChanged(){if(super._afterChanged(),this._clear){const s=this.get("fill"),r=this.get("fillGradient"),a=this.get("fillPattern"),m=this.get("fillOpacity"),f=this.get("stroke"),Qt=this.get("strokeGradient"),ne=this.get("strokePattern"),ae=this.get("shadowColor"),oe=this.get("shadowBlur"),xe=this.get("shadowOffsetX"),Ce=this.get("shadowOffsetY"),Ve=this.get("shadowOpacity");if(ae&&(oe||xe||Ce)&&this._display.shadow(ae,oe,xe,Ce,Ve),s&&!r&&(this._display.beginFill(s,m),this._display.endFill()),r){if(s){const a=r.get("stops",[]);a.length&&w(a,(r=>{r.color&&!r.colorInherited||!s||(r.color=s,r.colorInherited=!0),(null==r.opacity||r.opacityInherited)&&(r.opacity=m,r.opacityInherited=!0)}))}const a=r.getFill(this);a&&(this._display.beginFill(a,m),this._display.endFill())}if(a){const s=a.pattern;s&&(this._display.beginFill(s,m),this._display.endFill(),a instanceof We&&a.events.once("loaded",(()=>{this._clear=!0,this.markDirty()})))}if(f||Qt||ne){const s=this.get("strokeOpacity");let r=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(r/=this.get("scale",1)),this.get("crisp")&&(r/=this._root._renderer.resolution);const a=this.get("lineJoin");if(f&&!Qt&&(this._display.lineStyle(r,f,s,a),this._display.endStroke()),Qt){const m=Qt.get("stops",[]);m.length&&w(m,(r=>{r.color&&!r.colorInherited||!f||(r.color=f,r.colorInherited=!0),(null==r.opacity||r.opacityInherited)&&(r.opacity=s,r.opacityInherited=!0)}));const ne=Qt.getFill(this);ne&&(this._display.lineStyle(r,ne,s,a),this._display.endStroke())}if(ne){let m=ne.pattern;m&&(this._display.lineStyle(r,m,s,a),this._display.endStroke(),ne instanceof We&&ne.events.once("loaded",(()=>{this._clear=!0,this.markDirty()})))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(Ke,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(Ke,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Ke.className])});class ze extends Ke{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}function Ge(s,r){s.get("reverseChildren",!1)?s.children.eachReverse(r):s.children.each(r)}Object.defineProperty(ze,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(ze,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([ze.className])});class Ye extends Be{}Object.defineProperty(Ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(Ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Be.classNames.concat([Ye.className])});class Xe extends Ye{updateContainer(s){let r=s.get("paddingLeft",0),a=s.innerWidth(),m=0;Ge(s,(s=>{if(s.isVisible()&&"relative"==s.get("position")){let r=s.get("width");if(r instanceof e){m+=r.value;let f=a*r.value,Qt=s.get("minWidth",s.getPrivate("minWidth",-1/0));Qt>f&&(a-=Qt,m-=r.value);let ne=s.get("maxWidth",s.getPrivate("maxWidth",1/0));f>ne&&(a-=ne,m-=r.value)}else g(r)||(r=s.width()),a-=r+s.get("marginLeft",0)+s.get("marginRight",0)}})),(a<=0||a==1/0)&&(a=.1),Ge(s,(s=>{if(s.isVisible()&&"relative"==s.get("position")){let r=s.get("width");if(r instanceof e){let f=a*r.value/m-s.get("marginLeft",0)-s.get("marginRight",0),Qt=s.get("minWidth",s.getPrivate("minWidth",-1/0)),ne=s.get("maxWidth",s.getPrivate("maxWidth",1/0));f=Math.min(Math.max(Qt,f),ne),s.setPrivate("width",f)}else s._prevSettings.width instanceof e&&s.setPrivate("width",void 0)}}));let f=r;Ge(s,(s=>{if("relative"==s.get("position"))if(s.isVisible()){let r=s.adjustedLocalBounds(),a=s.get("marginLeft",0),m=s.get("marginRight",0),Qt=s.get("maxWidth"),ne=r.left,ae=r.right;Qt&&ae-ne>Qt&&(ae=ne+Qt);let oe=f+a-ne;s.setPrivate("x",oe),f=oe+ae+m}else s.setPrivate("x",void 0)}))}}Object.defineProperty(Xe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(Xe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ye.classNames.concat([Xe.className])});class $e extends Ye{updateContainer(s){let r=s.get("paddingTop",0),a=s.innerHeight(),m=0;Ge(s,(s=>{if(s.isVisible()&&"relative"==s.get("position")){let r=s.get("height");if(r instanceof e){m+=r.value;let f=a*r.value,Qt=s.get("minHeight",s.getPrivate("minHeight",-1/0));Qt>f&&(a-=Qt,m-=r.value);let ne=s.get("maxHeight",s.getPrivate("maxHeight",1/0));f>ne&&(a-=ne,m-=r.value)}else g(r)||(r=s.height()),a-=r+s.get("marginTop",0)+s.get("marginBottom",0)}})),(a<=0||a==1/0)&&(a=.1),Ge(s,(s=>{if(s.isVisible()&&"relative"==s.get("position")){let r=s.get("height");if(r instanceof e){let f=a*r.value/m-s.get("marginTop",0)-s.get("marginBottom",0),Qt=s.get("minHeight",s.getPrivate("minHeight",-1/0)),ne=s.get("maxHeight",s.getPrivate("maxHeight",1/0));f=Math.min(Math.max(Qt,f),ne),s.setPrivate("height",f)}else s._prevSettings.height instanceof e&&s.setPrivate("height",void 0)}}));let f=r;Ge(s,(s=>{if("relative"==s.get("position"))if(s.isVisible()){let r=s.adjustedLocalBounds(),a=s.get("marginTop",0),m=r.top,Qt=r.bottom,ne=s.get("maxHeight");ne&&Qt-m>ne&&(Qt=m+ne);let ae=s.get("marginBottom",0),oe=f+a-m;s.setPrivate("y",oe),f=oe+Qt+ae}else s.setPrivate("y",void 0)}))}}Object.defineProperty($e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty($e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ye.classNames.concat([$e.className])});class Ze extends Ye{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(s){let r=s.get("paddingLeft",0),a=s.get("paddingRight",0),m=s.get("paddingTop",0),f=s.maxWidth()-r-a,Qt=f,ne=1;Ge(s,(s=>{if(s.get("visible")&&s.getPrivate("visible")&&!s.get("forceHidden")&&"absolute"!=s.get("position")){let r=s.width();r<Qt&&(Qt=r),r>ne&&(ne=r)}})),Qt=de(Qt,1,f),ne=de(ne,1,f);let ae=1;ae=this.get("fixedWidthGrid")?f/ne:f/Qt,ae=Math.max(1,Math.floor(ae)),ae=Math.min(this.get("maxColumns",Number.MAX_VALUE),ae);let oe=this.getColumnWidths(s,ae,ne,f),xe=m,Ce=0,Ve=0;ae=oe.length;let Ue=r;Ge(s,(s=>{if("relative"==s.get("position")&&s.isVisible()){const a=s.get("marginTop",0),m=s.get("marginBottom",0);let f=s.adjustedLocalBounds(),Qt=s.get("marginLeft",0),ne=s.get("marginRight",0),ni=Ue+Qt-f.left,oi=xe+a-f.top;s.setPrivate("x",ni),s.setPrivate("y",oi),Ue+=oe[Ce]+ne,Ve=Math.max(Ve,s.height()+a+m),Ce++,Ce>=ae&&(Ce=0,Ue=r,xe+=Ve)}}))}getColumnWidths(s,r,a,m){let f=0,Qt=[],ne=0;return Ge(s,(m=>{let f=m.adjustedLocalBounds();"absolute"!=m.get("position")&&m.isVisible()&&(this.get("fixedWidthGrid")?Qt[ne]=a:Qt[ne]=Math.max(0|Qt[ne],f.right-f.left+m.get("marginLeft",0)+m.get("marginRight",0)),ne<s.children.length-1&&(ne++,ne==r&&(ne=0)))})),w(Qt,(s=>{f+=s})),f>m?r>2?(r-=1,this.getColumnWidths(s,r,a,m)):[m]:Qt}}Object.defineProperty(Ze,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(Ze,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ye.classNames.concat([Ze.className])});class Je{static escape(s){return s.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(s){return s.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(s){return s.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(s){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=[];s=this.escape(s);let f=r?s.split("'"):[s];for(let Qt=0;Qt<f.length;Qt++){let s=f[Qt];if(""!==s)if(Qt%2==0){s=s.replace(/\]\[/g,"]"+ne+"["),s=s.replace(/\[\]/g,"[ ]");let r=s.split(/[\[\]]+/);for(let s=0;s<r.length;s++){let f=this.cleanUp(this.unescape(r[s]));f!==ne&&""!==f&&(s%2==0?m.push({type:"value",text:f}):m.push({type:a?"value":"format",text:"["+f+"]"}))}}else{let r=s.split(/[\[\]]+/);for(let s=0;s<r.length;s++){let a=this.cleanUp(this.unescape(r[s]));""!==a&&(s%2==0?m.push({type:"text",text:a}):this.isImage(a)?m.push({type:"image",text:"["+a+"]"}):m.push({type:"format",text:"["+a+"]"}))}}}return m}static isImage(s){return!!s.match(/img[ ]?:/)}static getTextStyle(s){let r={};if(""==s||"[ ]"==s)return{};const a=s.match(/('[^']*')|("[^"]*")/gi);if(a)for(let f=0;f<a.length;f++)s=s.replace(a[f],a[f].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let m=s.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!m)return{};for(let f=0;f<m.length;f++)if(m[f].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))r.fontWeight=m[f];else if(m[f].match(/^(underline|line-through)$/i))r.textDecoration=m[f];else if("/"==m[f]);else if(m[f].match(/:/)){const s=m[f].replace("+"," ").split(/:[ ]*/);r[s[0]]=s[1]}else r.fill=zt.fromString(m[f]);return r}}function qe(s,r){if(null!=r){r=""+r;let a,m=(r=Je.escape(r)).match(/\{([^}]+)\}/g);if(m)for(a=0;a<m.length;a++){let f=Qe(s,m[a].replace(/\{([^}]+)\}/,"$1"));null==f&&(f=""),r=r.split(m[a]).join(f)}r=Je.unescape(r)}else r="";return r}function Qe(s,r,a){let m;const f=s.dataItem;let Qt,ne=[],ae=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g;for(;Qt=ae.exec(r),null!==Qt;)if(Qt[3]){ne.push({prop:Qt[3]});const r=s.getDateFormatter().get("dateFields",[]),a=s.getNumberFormatter().get("numericFields",[]),m=s.getDurationFormatter().get("durationFields",[]);-1!==r.indexOf(Qt[3])?ne.push({method:"formatDate",params:[]}):-1!==a.indexOf(Qt[3])?ne.push({method:"formatNumber",params:[]}):-1!==m.indexOf(Qt[3])&&ne.push({method:"formatDuration",params:[]})}else{let s=[];if(""!=ft(Qt[2])){let r,a=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g;for(;r=a.exec(Qt[2]),null!==r;)s.push(r[1]||r[2]||r[3])}ne.push({method:Qt[1],params:s})}if(f){m=ei(s,ne,f._settings),(null==m||_(m))&&(m=ei(s,ne,f));let a=f.dataContext;null==m&&a&&(m=ei(s,ne,a),null==m&&(m=ei(s,[{prop:r}],a)),null==m&&a.dataContext&&(m=ei(s,ne,a.dataContext))),null==m&&f.component&&f.component.dataItem!==f&&(m=Qe(f.component,r))}return null==m&&(m=ei(s,ne,s)),null==m&&s.parent&&(m=Qe(s.parent,r)),m}function ti(s,r){const a=s.getPrivate("customData");if(_(a))return a[r]}function ei(s,r,a,m){let f=a,Qt=!1;for(let ne=0,ae=r.length;ne<ae;ne++){let ae=r[ne];if(ae.prop){if(f instanceof Re){let s=f.get(ae.prop);null==s&&(s=f.getPrivate(ae.prop)),null==s&&(s=ti(f,ae.prop)),null==s&&(s=f[ae.prop]),f=s}else if(f.get){let s=f.get(ae.prop);null==s&&(s=f[ae.prop]),f=s}else f=f[ae.prop];if(null==f)return}else switch(ae.method){case"formatNumber":let r=h(f);null!=r&&(f=s.getNumberFormatter().format(r,m||ae.params[0]||void 0),Qt=!0);break;case"formatDate":let ne=l(f);if(!p(ne)||n(ne.getTime()))return;null!=ne&&(f=s.getDateFormatter().format(ne,m||ae.params[0]||void 0),Qt=!0);break;case"formatDuration":let oe=h(f);null!=oe&&(f=s.getDurationFormatter().format(oe,m||ae.params[0]||void 0,ae.params[1]||void 0),Qt=!0);break;case"urlEncode":case"encodeURIComponent":f=encodeURIComponent(f);break;default:f[ae.method]&&f[ae.method].apply(a,ae.params)}}if(!Qt){let r=[{method:"",params:m}];if(null==m)g(f)?(r[0].method="formatNumber",r[0].params=""):p(f)&&(r[0].method="formatDate",r[0].params="");else{let s=function vt(s){if(void 0===s)return"string";let r=(s=(s=(s=s.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return r?r[1]:"number"===s?"number":"date"===s?"date":"duration"===s?"duration":s.match(/[#0]/)?"number":s.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}(m);"number"===s?r[0].method="formatNumber":"date"===s?r[0].method="formatDate":"duration"===s&&(r[0].method="formatDuration")}r[0].method&&(f=ei(s,r,f))}return f}Object.defineProperty(Je,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});class ii extends Re{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new re(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){P(this.allChildren(),(s=>{s.dispose()})),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each((s=>{s.removePrivate("x"),s.removePrivate("y")}))),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each((s=>{s.markDirtyPosition()})),this.isDirty("maskContent")){const s=this._childrenDisplay;let r=this._contentMask;this.get("maskContent")?r||(r=ze.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=r,s.addChildAt(r._display,0),s.mask=r._display):r&&(s.removeChild(r._display),s.mask=null,r.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),w(this._percentageSizeChildren,(s=>{s._updateSize()})),w(this._percentagePositionChildren,(s=>{s.markDirtyPosition(),s._updateSize()})),this.updateBackground()}updateBackground(){const s=this.get("background");let r=this._localBounds;if(r&&!this.isHidden()){let a=r.left,m=r.top,f=r.right-a,Qt=r.bottom-m,ne=this.get("maxWidth"),ae=this.get("maxHeight");ae&&Qt>ae&&(Qt=ae),ne&&f>ne&&(f=ne);let oe=this.width(),xe=this.height();s&&(s.setAll({width:f,height:Qt,x:a,y:m}),this._display.interactive&&(s._display.interactive=!0));const Ce=this._contentMask;Ce&&Ce.setAll({width:oe+1,height:xe+1});const Ve=this.get("verticalScrollbar");if(Ve){Ve.set("height",xe),Ve.set("x",oe-Ve.width()-Ve.get("marginRight",0)),Ve.set("end",Ve.get("start",0)+xe/this._contentHeight);const s=Ve.get("background");s&&s.setAll({width:Ve.width(),height:xe});let r=!0;this._contentHeight<=xe&&(r=!1),Ve.setPrivate("visible",r)}}}_applyThemes(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!super._applyThemes(s)&&(this.eachChildren((r=>{r._applyThemes(s)})),!0)}_applyState(s){super._applyState(s),this.get("setStateOnChildren")&&this.eachChildren((r=>{r.states.apply(s)}))}_applyStateAnimated(s,r){super._applyStateAnimated(s,r),this.get("setStateOnChildren")&&this.eachChildren((a=>{a.states.applyAnimate(s,r)}))}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){let s=this.get("width"),r=this.get("height"),a=this.getPrivate("width"),m=this.getPrivate("height"),f={left:0,top:0,right:this.width(),bottom:this.height()},Qt=this.get("layout"),ne=!1,ae=!1;if((Qt instanceof Xe||Qt instanceof Ze)&&(ne=!0),Qt instanceof $e&&(ae=!0),null==s&&null==a||null==r&&null==m||this.get("verticalScrollbar")){let s=Number.MAX_VALUE,r=s,a=-s,m=s,Qt=-s;const oe=this.get("paddingLeft",0),xe=this.get("paddingTop",0),Ce=this.get("paddingRight",0),Ve=this.get("paddingBottom",0);this.children.each((s=>{if("absolute"!=s.get("position")&&s.get("isMeasured")){let f=s.adjustedLocalBounds(),oe=s.x(),xe=s.y(),Ce=oe+f.left,Ve=oe+f.right,Ue=xe+f.top,ni=xe+f.bottom;ne&&(Ce-=s.get("marginLeft",0),Ve+=s.get("marginRight",0)),ae&&(Ue-=s.get("marginTop",0),ni+=s.get("marginBottom",0)),Ce<r&&(r=Ce),Ve>a&&(a=Ve),Ue<m&&(m=Ue),ni>Qt&&(Qt=ni)}})),r==s&&(r=0),a==-s&&(a=0),m==s&&(m=0),Qt==-s&&(Qt=0),f.left=r-oe,f.top=m-xe,f.right=a+Ce,f.bottom=Qt+Ve;const Ue=this.get("minWidth");g(Ue)&&Ue>0&&f.right-f.left<Ue&&(f.right>=Ue?f.left=f.right-Ue:f.right=f.left+Ue);const ni=this.get("minHeight");g(ni)&&ni>0&&f.bottom-f.top<ni&&(f.bottom>=ni?f.top=f.bottom-ni:f.bottom=f.top+ni)}this._contentWidth=f.right-f.left,this._contentHeight=f.bottom-f.top,g(s)&&(f.left=0,f.right=s),g(a)&&(f.left=0,f.right=a),g(r)&&(f.top=0,f.bottom=r),g(m)&&(f.top=0,f.bottom=m),this._localBounds=f}_updateBounds(){const s=this.get("layout");s&&s.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const s=this.innerWidth(),r=this.innerHeight();if(s!=this._prevWidth||r!=this._prevHeight){let a=this.get("layout"),m=!1,f=!1;a&&((a instanceof Xe||a instanceof Ze)&&(m=!0),a instanceof $e&&(f=!0)),w(this._percentageSizeChildren,(a=>{if(!m){let r=a.get("width");r instanceof e&&a.setPrivate("width",r.value*s)}if(!f){let s=a.get("height");s instanceof e&&a.setPrivate("height",s.value*r)}})),w(this._percentagePositionChildren,(s=>{s.markDirtyPosition(),s.markDirtyBounds()})),this._prevWidth=s,this._prevHeight=r,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateChildren(){if(this.isDirty("html")){const s=this.get("html");s&&""!==s?this._root._setHTMLContent(this,qe(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){const s=this.get("verticalScrollbar");if(s){s._setParent(this),s.startGrip.setPrivate("visible",!1),s.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",s.width()+s.get("marginRight",0)+s.get("marginLeft",0));let r=this.get("background");r||(r=this.set("background",ze.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",(r=>{const a=r.originalEvent;if(!ht(a,this))return;a.preventDefault();let m=a.deltaY/5e3;const f=s.get("start",0),Qt=s.get("end",1);f+m<=0&&(m=-f),Qt+m>=1&&(m=1-Qt),f+m>=0&&Qt+m<=1&&(s.set("start",f+m),s.set("end",Qt+m))})),this._disposers.push(this._vsbd0),this._vsbd1=s.events.on("rangechanged",(()=>{let r=this._contentHeight;const a=this._childrenDisplay,m=this._contentMask;a.y=-s.get("start",0)*r,a.markDirtyLayer(),m&&(m._display.y=-a.y,a.mask=m._display)})),this._disposers.push(this._vsbd1),this._display.addChild(s._display)}else{const s=this._prevSettings.verticalScrollbar;s&&(this._display.removeChild(s._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose(),this._childrenDisplay.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0))}}if(this.isDirty("background")){const s=this._prevSettings.background;s&&this._display.removeChild(s._display);const r=this.get("background");r instanceof Re&&(r.set("isMeasured",!1),r._setParent(this),this._display.addChildAt(r._display,0))}if(this.isDirty("mask")){const s=this.get("mask"),r=this._prevSettings.mask;if(r&&(this._display.removeChild(r._display),r!=s&&r.dispose()),s){const r=s.parent;r&&r.children.removeValue(s),s._setParent(this),this._display.addChildAt(s._display,0),this._childrenDisplay.mask=s._display}}}_processTemplateField(){super._processTemplateField(),this.children.each((s=>{s._processTemplateField()}))}walkChildren(s){this.children.each((r=>{r instanceof ii&&r.walkChildren(s),s(r)}))}eachChildren(s){const r=this.get("background");r&&s(r);const a=this.get("verticalScrollbar");a&&s(a);const m=this.get("mask");m&&s(m),this.children.values.forEach((r=>{s(r)}))}allChildren(){const s=[];return this.eachChildren((r=>{s.push(r)})),s}_setDataItem(s){const r=s!==this._dataItem;super._setDataItem(s);const a=this.get("html","");a&&""!==a&&r&&this._root._setHTMLContent(this,qe(this,a))}}Object.defineProperty(ii,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(ii,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([ii.className])});class si extends Re{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text"))super._updateBounds();else{let s={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=s}}_changed(){super._changed(),this._display.clear();let s=this.textStyle;if(this.isDirty("opacity")){let s=this.get("opacity",1);this._display.alpha=s}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),"tooltip"==this.get("role")&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new z((()=>{this._root._removeTooltipElement(this)}))),this.isDirty("width")&&(s.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(s.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(s.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(s.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(s.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(s.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){let r=this.get("fill");r&&(s.fill=r)}if(this.isDirty("fillOpacity")){let r=this.get("fillOpacity",1);r&&(s.fillOpacity=r)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(s.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(s.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),w(this._textStyles,(r=>{this._dirty[r]&&(s[r]=this.get(r),this.markDirtyBounds())})),s.fontSize=this.get("fontSize"),s.fontFamily=this.get("fontFamily"),this._display.style=s,this.isDirty("role")&&"tooltip"==this.get("role")&&this._root.updateTooltip(this)}_getText(){let s=this.get("text","");return this.get("maxChars")&&(s=function bt(s,r){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"...";if(s.length>r){let f=r-1;for(;f>=0&&s.charAt(f).match(/\w/);)f--;return f>=0&&0==a?s.substring(0,f+1)+"...":s.substring(0,r)+m}return s}(s,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?qe(this,s):s}markDirtyText(){this._display.text=this._getText(),"tooltip"==this.get("role")&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(s){super._setDataItem(s),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(si,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(si,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([si.className])});class ri extends ii{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),w(this._textKeys,(s=>{const r=this.get(s);null!=r&&this._text.set(s,r)})),""!==this.get("html","")&&this._text.set("text",""),this.onPrivate("maxWidth",(()=>{this._setMaxDimentions()})),this.onPrivate("maxHeight",(()=>{this._setMaxDimentions()}))}_makeText(){this._text=this.children.push(si.new(this._root,{}))}_updateChildren(){if(super._updateChildren(),w(this._textKeys,(s=>{this._text.set(s,this.get(s))})),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),""!==this.get("html","")?this._text.set("text",""):this._text.set("text",this.get("text")),this.isDirty("textAlign")||this.isDirty("width")){const s=this.get("textAlign");let r;null!=this.get("width")?r="right"==s?f:"center"==s?Qt:0:"left"==s||"start"==s?r=this.get("paddingLeft"):"right"!=s&&"end"!=s||(r=-this.get("paddingRight")),this.text.set("x",r)}}_setMaxDimentions(){const s=this.get("rotation"),r=90==s||270==s||-90==s,a=this.get("maxWidth",this.getPrivate("maxWidth",1/0));g(a)?this.text.set(r?"maxHeight":"maxWidth",a-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(r?"maxHeight":"maxWidth",void 0);const m=this.get("maxHeight",this.getPrivate("maxHeight",1/0));g(m)?this.text.set(r?"maxWidth":"maxHeight",m-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(r?"maxWidth":"maxHeight",void 0)}_setDataItem(s){super._setDataItem(s),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}getText(){return this._text._getText()}}Object.defineProperty(ri,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(ri,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ii.classNames.concat([ri.className])});class ai{constructor(s,r){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=s,!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(s){const r=new this(s,!0);return r.setupDefaultRules(),r}setupDefaultRules(){}_lookupRules(s){return this._rules[s]}ruleRaw(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this._rules[s];a||(a=this._rules[s]=[]),r.sort(Oe);const{index:m,found:f}=function H(s,r){let a=0,m=s.length,f=!1;for(;a<m;){const Qt=a+m>>1,ne=r(s[Qt]);ne<0?a=Qt+1:0===ne?(f=!0,a=Qt+1):m=Qt}return{found:f,index:f?a-1:a}}(a,(s=>{const a=Oe(s.tags.length,r.length);return 0===a?Te(s.tags,r,Oe):a}));if(f)return a[m].template;{const s=Le.new({});return a.splice(m,0,{tags:r,template:s}),s}}rule(s){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.ruleRaw(s,r)}}}}]);
//# sourceMappingURL=1790.9475ca29.chunk.js.map