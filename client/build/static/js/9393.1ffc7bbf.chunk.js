"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[9393],{84058:(s,d,c)=>{function o(s){var d;const c=s.layer;return"floorInfo"in c&&null!==(d=c.floorInfo)&&void 0!==d&&d.floorField&&"floors"in s.view?l(s.view.floors,c.floorInfo.floorField):null}function n(s,d){var c;return"floorInfo"in d&&null!==(c=d.floorInfo)&&void 0!==c&&c.floorField?l(s,d.floorInfo.floorField):null}function l(s,d){if(null===s||void 0===s||!s.length)return null;const c=s.filter((s=>""!==s)).map((s=>"'".concat(s,"'")));return c.push("''"),"".concat(d," IN (").concat(c.join(","),") OR ").concat(d," IS NULL")}c.d(d,{E:()=>o,f:()=>n})},60003:(s,d,c)=>{c.d(d,{Sk:()=>n,Zx:()=>e,_X:()=>o});var y=c(57532);function e(s,d,c){const y=d.flatten((s=>{let{sublayers:d}=s;return d})).length;return y!==s.length||(!!s.some((s=>s.originIdOf("minScale")>c||s.originIdOf("maxScale")>c||s.originIdOf("renderer")>c||s.originIdOf("labelingInfo")>c||s.originIdOf("opacity")>c||s.originIdOf("labelsVisible")>c||s.originIdOf("source")>c))||!i(s,d))}function n(s,d,c){return!!s.some((s=>{const d=s.source;return!(!d||"map-layer"===d.type&&d.mapLayerId===s.id&&(null==d.gdbVersion||d.gdbVersion===c))||s.originIdOf("renderer")>y.Gr.SERVICE||s.originIdOf("labelingInfo")>y.Gr.SERVICE||s.originIdOf("opacity")>y.Gr.SERVICE||s.originIdOf("labelsVisible")>y.Gr.SERVICE}))||!i(s,d)}function i(s,d){if(null===s||void 0===s||!s.length||null==d)return!0;const c=d.slice().reverse().flatten((s=>{let{sublayers:d}=s;return d&&d.toArray().reverse()})).map((s=>s.id)).toArray();if(s.length>c.length)return!1;let y=0;const h=c.length;for(const{id:m}of s){for(;y<h&&c[y]!==m;)y++;if(y>=h)return!1}return!0}function o(s){return!!s&&s.some((s=>{var d;return null!=s.minScale||null!=(null===(d=s.layerDefinition)||void 0===d?void 0:d.minScale)}))}},42238:(s,d,c)=>{c.d(d,{A:()=>w});var y=c(80671),h=(c(89412),c(50886),c(76761),c(4180),c(68682)),m=c(21847),g=c(2689),v=c(23133);let b=class extends g.f{get hasHighlight(){return this.children.some((s=>s.hasData))}renderChildren(s){this.attributeView.update(),s.drawPhase===m.S5.HIGHLIGHT&&this.children.some((s=>s.hasData))&&(super.renderChildren(s),s.context.setColorMask(!0,!0,!0,!0),(0,v.lB)(s,!0,(s=>{this._renderChildren(s,m.RI.All)})))}};b=(0,y._)([(0,h.$)("esri.views.2d.layers.support.HighlightGraphicContainer")],b);const w=b},59995:(s,d,c)=>{c.d(d,{A:()=>i});var y=c(80671),h=c(89412),m=c(81618),g=c(63390),v=(c(50886),c(76761),c(4180),c(68682));const i=s=>{let d=class extends s{initialize(){this.addHandles((0,g.on)((()=>this.layer),"refresh",(s=>{this.doRefresh(s.dataChanged).catch((s=>{(0,m.zf)(s)||h.A.getLogger(this).error(s)}))})),"RefreshableLayerView")}};return d=(0,y._)([(0,v.$)("esri.layers.mixins.RefreshableLayerView")],d),d}},60773:(s,d,c)=>{c.d(d,{Uh:()=>ae,ox:()=>S});var y=c(80671),h=c(13812),m=c(18763),g=c(16842),v=c(39652),b=c(4180),w=c(58285),I=c(50886),M=c(69719),E=c(81618),F=c(63390),O=c(49049),V=c(57453),Z=(c(89412),c(68682)),G=c(84661),P=c(16906),j=c(57022),N=c(84058);function t(s,d){return d?"xoffset"in d&&d.xoffset?Math.max(s,Math.abs(d.xoffset)):"yoffset"in d&&d.yoffset?Math.max(s,Math.abs(d.yoffset||0)):s:s}function n(s,d){var c;return"number"==typeof s?s:null!==s&&void 0!==s&&null!==(c=s.stops)&&void 0!==c&&c.length?function e(s){let d=0,c=0;for(let y=0;y<s.length;y++){const h=s[y].size;"number"==typeof h&&(d+=h,c++)}return d/c}(s.stops):d}function r(s,d){if(!d)return s;const c=d.filter((s=>"size"===s.type)).map((d=>{const{maxSize:c,minSize:y}=d;return(n(c,s)+n(y,s))/2}));let y=0;const h=c.length;if(0===h)return s;for(let g=0;g<h;g++)y+=c[g];const m=Math.floor(y/h);return Math.max(m,s)}function clickToleranceUtils_o(s){const d=null===s||void 0===s?void 0:s.renderer,c="touch"===(null===s||void 0===s?void 0:s.pointerType)?9:6;if(!d)return c;const y="visualVariables"in d?r(c,d.visualVariables):c;if("simple"===d.type)return t(y,d.symbol);if("unique-value"===d.type){var h;let s=y;return null!==(h=d.uniqueValueInfos)&&void 0!==h&&h.forEach((d=>{s=t(s,d.symbol)})),s}if("class-breaks"===d.type){let s=y;return d.classBreakInfos.forEach((d=>{s=t(s,d.symbol)})),s}return"dot-density"===d.type||d.type,y}var L=c(53705),U=c(30172),H=c(95530),k=c(25986),C=c(31670),D=c(78395),z=c(60003);function o(s,d){var c;const{dpi:y,gdbVersion:h,geometry:m,geometryPrecision:g,height:v,historicMoment:b,layerOption:w,mapExtent:I,maxAllowableOffset:M,returnFieldName:E,returnGeometry:F,returnUnformattedValues:O,returnZ:V,spatialReference:Z,timeExtent:G,tolerance:P,width:j}=s.toJSON(),{dynamicLayers:N,layerDefs:L,layerIds:U}=l(s),H=null!=(null===d||void 0===d?void 0:d.geometry)?d.geometry:null,k={historicMoment:b,geometryPrecision:g,maxAllowableOffset:M,returnFieldName:E,returnGeometry:F,returnUnformattedValues:O,returnZ:V,tolerance:P},z=H&&H.toJSON()||m;k.imageDisplay="".concat(j,",").concat(v,",").concat(y),h&&(k.gdbVersion=h),z&&(delete z.spatialReference,k.geometry=JSON.stringify(z),k.geometryType=(0,C.$B)(z));const Q=null!==(c=null!==Z&&void 0!==Z?Z:null===z||void 0===z?void 0:z.spatialReference)&&void 0!==c?c:null===I||void 0===I?void 0:I.spatialReference;if(Q&&(k.sr=(0,D.YX)(Q)),k.time=G?[G.start,G.end].join(","):null,I){const{xmin:s,ymin:d,xmax:c,ymax:y}=I;k.mapExtent="".concat(s,",").concat(d,",").concat(c,",").concat(y)}return L&&(k.layerDefs=L),N&&!L&&(k.dynamicLayers=N),k.layers="popup"===w?"visible":w,U&&!N&&(k.layers+=":".concat(U.join(","))),k}function l(s){var d;const{mapExtent:c,floors:y,width:h,sublayers:m,layerIds:g,layerOption:v,gdbVersion:b}=s,w=null===m||void 0===m||null===(d=m.find((s=>null!=s.layer)))||void 0===d||null===(d=d.layer)||void 0===d?void 0:d.serviceSublayers,I="popup"===v,M={},E=(0,P.X_)({extent:c,width:h,spatialReference:null===c||void 0===c?void 0:c.spatialReference}),F=[],x=s=>{const d=0===E,c=0===s.minScale||E<=s.minScale,y=0===s.maxScale||E>=s.maxScale;if(s.visible&&(d||c&&y))if(s.sublayers)s.sublayers.forEach(x);else{if(!1===(null===g||void 0===g?void 0:g.includes(s.id))||I&&(!s.popupTemplate||!s.popupEnabled))return;F.unshift(s)}};if(null!==m&&void 0!==m&&m.forEach(x),m&&!F.length)M.layerIds=[];else{const s=(0,z.Sk)(F,w,b),d=F.map((s=>{const d=(0,N.f)(y,s);return s.toExportImageJSON(d)}));if(s)M.dynamicLayers=JSON.stringify(d);else{if(m){let s=F.map((s=>{let{id:d}=s;return d}));g&&(s=s.filter((s=>g.includes(s)))),M.layerIds=s}else(null===g||void 0===g?void 0:g.length)&&(M.layerIds=g);const s=function a(s,d){const c=!(null===s||void 0===s||!s.length),y=d.filter((s=>null!=s.definitionExpression||c&&null!=s.floorInfo));return y.length?y.map((d=>{const c=(0,N.f)(s,d),y=(0,k.m)(c,d.definitionExpression);return{id:d.id,definitionExpression:null!==y&&void 0!==y?y:void 0}})):null}(y,F);if(null!=s&&s.length){const d={};for(const c of s)c.definitionExpression&&(d[c.id]=c.definitionExpression);Object.keys(d).length&&(M.layerDefs=JSON.stringify(d))}}}return M}var Q,q=c(30174),B=c(94631),J=c(83375),$=c(6493),X=(c(76761),c(51715)),Y=c(98664);let K=Q=class extends J.oY{static from(s){return(0,$.PZ)(Q,s)}constructor(s){super(s),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.historicMoment=null,this.layerIds=null,this.layerOption="top",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}writeHistoricMoment(s,d){d.historicMoment=s&&s.getTime()}};(0,y._)([(0,V.MZ)({type:Number,json:{write:!0}})],K.prototype,"dpi",void 0),(0,y._)([(0,V.MZ)()],K.prototype,"floors",void 0),(0,y._)([(0,V.MZ)({type:String,json:{write:!0}})],K.prototype,"gdbVersion",void 0),(0,y._)([(0,V.MZ)({types:q.yR,json:{read:C.rS,write:!0}})],K.prototype,"geometry",void 0),(0,y._)([(0,V.MZ)({type:Number,json:{write:!0}})],K.prototype,"geometryPrecision",void 0),(0,y._)([(0,V.MZ)({type:Number,json:{write:!0}})],K.prototype,"height",void 0),(0,y._)([(0,V.MZ)({type:Date})],K.prototype,"historicMoment",void 0),(0,y._)([(0,X.K)("historicMoment")],K.prototype,"writeHistoricMoment",null),(0,y._)([(0,V.MZ)({type:[Number],json:{write:!0}})],K.prototype,"layerIds",void 0),(0,y._)([(0,V.MZ)({type:["top","visible","all","popup"],json:{write:!0}})],K.prototype,"layerOption",void 0),(0,y._)([(0,V.MZ)({type:G.A,json:{write:!0}})],K.prototype,"mapExtent",void 0),(0,y._)([(0,V.MZ)({type:Number,json:{write:!0}})],K.prototype,"maxAllowableOffset",void 0),(0,y._)([(0,V.MZ)({type:Boolean,json:{write:!0}})],K.prototype,"returnFieldName",void 0),(0,y._)([(0,V.MZ)({type:Boolean,json:{write:!0}})],K.prototype,"returnGeometry",void 0),(0,y._)([(0,V.MZ)({type:Boolean,json:{write:!0}})],K.prototype,"returnM",void 0),(0,y._)([(0,V.MZ)({type:Boolean,json:{write:!0}})],K.prototype,"returnUnformattedValues",void 0),(0,y._)([(0,V.MZ)({type:Boolean,json:{write:!0}})],K.prototype,"returnZ",void 0),(0,y._)([(0,V.MZ)({type:Y.A,json:{write:!0}})],K.prototype,"spatialReference",void 0),(0,y._)([(0,V.MZ)()],K.prototype,"sublayers",void 0),(0,y._)([(0,V.MZ)({type:B.A,json:{write:!0}})],K.prototype,"timeExtent",void 0),(0,y._)([(0,V.MZ)({type:Number,json:{write:!0}})],K.prototype,"tolerance",void 0),(0,y._)([(0,V.MZ)({type:Number,json:{write:!0}})],K.prototype,"width",void 0),K=Q=(0,y._)([(0,Z.$)("esri.rest.support.IdentifyParameters")],K);const W=K;var ee=c(59299),te=c(40304);let re=class extends J.oY{constructor(s){super(s),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(s,d){return h.A.fromJSON({attributes:{...d.attributes},geometry:{...d.geometry}})}writeFeature(s,d){if(!s)return;const{attributes:c,geometry:y}=s;c&&(d.attributes={...c}),null!=y&&(d.geometry=y.toJSON(),d.geometryType=te.Y.toJSON(y.type))}};(0,y._)([(0,V.MZ)({type:String,json:{write:!0}})],re.prototype,"displayFieldName",void 0),(0,y._)([(0,V.MZ)({type:h.A})],re.prototype,"feature",void 0),(0,y._)([(0,ee.w)("feature",["attributes","geometry"])],re.prototype,"readFeature",null),(0,y._)([(0,X.K)("feature")],re.prototype,"writeFeature",null),(0,y._)([(0,V.MZ)({type:Number,json:{write:!0}})],re.prototype,"layerId",void 0),(0,y._)([(0,V.MZ)({type:String,json:{write:!0}})],re.prototype,"layerName",void 0),re=(0,y._)([(0,Z.$)("esri.rest.support.IdentifyResult")],re);const ie=re;async function f(s,d,c){const y=(d=function identify_a(s){return W.from(s)}(d)).geometry?[d.geometry]:[],h=(0,H.Dl)(s);return h.path+="/identify",(0,U.el)(y).then((s=>{const y=o(d,{geometry:null===s||void 0===s?void 0:s[0]}),m=(0,H.lF)({...h.query,f:"json",...y}),g=(0,H.jV)(m,c);return(0,L.A)(h.path,g).then(identify_m).then((s=>function p(s,d){if(null===d||void 0===d||!d.length)return s;const c=new Map;function o(s){c.set(s.id,s),s.sublayers&&s.sublayers.forEach(o)}d.forEach(o);for(const y of s.results)y.feature.sourceLayer=c.get(y.layerId);return s}(s,d.sublayers)))}))}function identify_m(s){const d=s.data;return d.results=d.results||[],d.exceededTransferLimit=Boolean(d.exceededTransferLimit),d.results=d.results.map((s=>ie.fromJSON(s))),d}var ne=c(39368),oe=c(65844),le=c(54217);let se=null;function S(s,d){return"tile"===d.type||"map-image"===d.type}let ae=class extends m.A{constructor(s){super(s),this._featuresResolutions=new WeakMap,this.highlightGraphics=null,this.highlightGraphicUpdated=null,this.updateHighlightedFeatures=(0,E.sg)((async s=>{this.destroyed||this.updatingHandles.addPromise(this._updateHighlightedFeaturesGeometries(s).catch((()=>{})))}))}initialize(){const e=s=>{this.updatingHandles.addPromise(this._updateHighlightedFeaturesSymbols(s).catch((()=>{}))),this.updateHighlightedFeatures(this._highlightGeometriesResolution)};this.addHandles([(0,F.on)((()=>this.highlightGraphics),"change",(s=>e(s.added)),{onListenerAdd:s=>e(s)})])}async fetchPopupFeaturesAtLocation(s,d){var c,y;const{layerView:{layer:h,view:{scale:m}}}=this;if(!s)throw new b.A("fetchPopupFeatures:invalid-area","Nothing to fetch without area",{layer:h});const g=function _(s,d,c){const y=[];if(!s)return y;const i=s=>{const h=0===s.minScale||d<=s.minScale,m=0===s.maxScale||d>=s.maxScale;if(s.visible&&h&&m)if(s.sublayers)s.sublayers.forEach(i);else if(s.popupEnabled){const d=(0,le.D8)(s,{...c,defaultPopupTemplateEnabled:!1});null!=d&&y.unshift({sublayer:s,popupTemplate:d})}};return s.map(i),y}(h.sublayers,m,d);if(!g.length)return[];const v=await async function A(s,d){var c;if(null!==(c=s.capabilities)&&void 0!==c&&null!==(c=c.operations)&&void 0!==c&&c.supportsQuery)return!0;try{return await Promise.any(d.map((s=>{let{sublayer:d}=s;return d.load().then((()=>d.capabilities.operations.supportsQuery))})))}catch{return!1}}(h,g);if((null!==(c=null===(y=h.capabilities)||void 0===y||null===(y=y.operations)||void 0===y?void 0:y.supportsIdentify)&&void 0!==c&&!c||!(h.version>=10.5))&&!v)throw new b.A("fetchPopupFeatures:not-supported","query operation is disabled for this service",{layer:h});return v?this._fetchPopupFeaturesUsingQueries(s,g,d):this._fetchPopupFeaturesUsingIdentify(s,g,d)}clearHighlights(){var s;null===(s=this.highlightGraphics)||void 0===s||s.removeAll()}highlight(s){var d,c;const y=this.highlightGraphics;if(!y)return(0,w.hA)();let m=null;if(s instanceof h.A?m=[s]:v.A.isCollection(s)&&s.length>0?m=s.toArray():Array.isArray(s)&&s.length>0&&(m=s),m=null===(d=m)||void 0===d?void 0:d.filter(g.Ru),null===(c=m)||void 0===c||!c.length)return(0,w.hA)();for(const h of m){const s=h.sourceLayer;null!=s&&"geometryType"in s&&"point"===s.geometryType&&(h.visible=!1)}return y.addMany(m),(0,w.hA)((()=>{var s;return y.removeMany(null!==(s=m)&&void 0!==s?s:[])}))}async _updateHighlightedFeaturesSymbols(s){const{layerView:{view:d},highlightGraphics:y,highlightGraphicUpdated:h}=this;if(y&&h)for(const m of s){const s=m.sourceLayer&&"renderer"in m.sourceLayer&&m.sourceLayer.renderer;m.sourceLayer&&"geometryType"in m.sourceLayer&&"point"===m.sourceLayer.geometryType&&s&&"getSymbolAsync"in s&&s.getSymbolAsync(m).then((async g=>{var v;g||(g=new oe.A);let b=null;const w="visualVariables"in s?null===(v=s.visualVariables)||void 0===v?void 0:v.find((s=>"size"===s.type)):void 0;w&&(se||(se=(await Promise.resolve().then(c.bind(c,56428))).getSize),b=se(w,m,{view:d.type,scale:d.scale,shape:"simple-marker"===g.type?g.style:null})),b||(b="width"in g&&"height"in g&&null!=g.width&&null!=g.height?Math.max(g.width,g.height):"size"in g?g.size:16),y.includes(m)&&(m.symbol=new oe.A({style:"square",size:b,xoffset:"xoffset"in g?g.xoffset:0,yoffset:"yoffset"in g?g.yoffset:0}),h(m,"symbol"),m.visible=!0)}))}}async _updateHighlightedFeaturesGeometries(s){const{layerView:{layer:d,view:c},highlightGraphics:y,highlightGraphicUpdated:h}=this;if(this._highlightGeometriesResolution=s,!h||null===y||void 0===y||!y.length||!d.capabilities.operations.supportsQuery)return;const m=this._getTargetResolution(s),g=new Map;for(const w of y)if(!this._featuresResolutions.has(w)||this._featuresResolutions.get(w)>m){const s=w.sourceLayer;(0,M.tE)(g,s,(()=>new Map)).set(w.getObjectId(),w)}const v=Array.from(g,(s=>{let[d,y]=s;const h=d.createQuery();return h.objectIds=[...y.keys()],h.outFields=[d.objectIdField],h.returnGeometry=!0,h.maxAllowableOffset=m,h.outSpatialReference=c.spatialReference,d.queryFeatures(h)})),b=await Promise.all(v);if(!this.destroyed)for(const{features:w}of b)for(const s of w){const d=s.sourceLayer,c=g.get(d).get(s.getObjectId());c&&y.includes(c)&&(c.geometry=s.geometry,h(c,"geometry"),this._featuresResolutions.set(c,m))}}_getTargetResolution(s){const d=s*(0,O.GA)(this.layerView.view.spatialReference),c=d/16;return c<=10?0:s/d*c}async _fetchPopupFeaturesUsingIdentify(s,d,c){const y=await this._createIdentifyParameters(s,d,c);if(null==y)return[];const{results:h}=await f(this.layerView.layer.parsedUrl,y,c);return h.map((s=>s.feature))}async _createIdentifyParameters(s,d,c){const{floors:y,layer:h,timeExtent:m,view:{spatialReference:g,scale:v}}=this.layerView;if(!d.length)return null;await Promise.all(d.map((s=>{let{sublayer:d}=s;return d.load(c).catch((()=>{}))})));const b=Math.min((0,I.A)("mapservice-popup-identify-max-tolerance"),h.allSublayers.reduce(((s,d)=>d.renderer?clickToleranceUtils_o({renderer:d.renderer,pointerType:null===c||void 0===c?void 0:c.pointerType}):s),2)),w=this.createFetchPopupFeaturesQueryGeometry(s,b),M=(0,P.i1)(v,g),E=Math.round(w.width/M),F=new G.A({xmin:w.center.x-M*E,ymin:w.center.y-M*E,xmax:w.center.x+M*E,ymax:w.center.y+M*E,spatialReference:w.spatialReference});return new W({floors:y,gdbVersion:"gdbVersion"in h?h.gdbVersion:void 0,geometry:s,height:E,layerOption:"popup",mapExtent:F,returnGeometry:!0,spatialReference:g,sublayers:h.sublayers,timeExtent:m,tolerance:b,width:E})}async _fetchPopupFeaturesUsingQueries(s,d,c){const{layerView:{floors:y,timeExtent:h}}=this,m=d.map((async d=>{var m;let{sublayer:g,popupTemplate:v}=d;if(await g.load(c).catch((()=>{})),g.capabilities&&!g.capabilities.operations.supportsQuery)return[];const b=g.createQuery(),w=clickToleranceUtils_o({renderer:g.renderer,pointerType:null===c||void 0===c?void 0:c.pointerType}),I=this.createFetchPopupFeaturesQueryGeometry(s,w),M=new Set,[F]=await Promise.all([(0,le.TO)(g,v),null===(m=g.renderer)||void 0===m?void 0:m.collectRequiredFields(M,g.fieldsIndex)]);(0,E.Te)(c),(0,j._w)(M,g.fieldsIndex,F);const O=Array.from(M).sort();if(b.geometry=I,b.outFields=O,b.timeExtent=h,y){const s=y.clone(),d=(0,N.f)(s,g);null!=d&&(b.where=b.where?"(".concat(b.where,") AND (").concat(d,")"):d)}const V=this._getTargetResolution(I.width/w),Z=await function R(s){var d;return null!==(d=s.expressionInfos)&&void 0!==d&&d.length||Array.isArray(s.content)&&s.content.some((s=>"expression"===s.type))?(0,ne.lw)():Promise.resolve()}(v);(0,E.Te)(c);const G="point"===g.geometryType||Z&&Z.arcadeUtils.hasGeometryOperations(v);G||(b.maxAllowableOffset=V);let{features:P}=await g.queryFeatures(b,c);const L=G?0:V;P=await async function T(s,d,c){const y=s.renderer;return y&&"defaultSymbol"in y&&!y.defaultSymbol&&(d=y.valueExpression?await Promise.all(d.map((s=>y.getSymbolAsync(s,c).then((d=>d?s:null))))).then((s=>s.filter((s=>null!=s)))):d.filter((s=>null!=y.getSymbol(s)))),d}(g,P,c);for(const s of P)this._featuresResolutions.set(s,L);return P}));return(await Promise.allSettled(m)).reduce(((s,d)=>"fulfilled"===d.status?[...s,...d.value]:s),[]).filter(g.Ru)}};(0,y._)([(0,V.MZ)({constructOnly:!0})],ae.prototype,"createFetchPopupFeaturesQueryGeometry",void 0),(0,y._)([(0,V.MZ)({constructOnly:!0})],ae.prototype,"layerView",void 0),(0,y._)([(0,V.MZ)({constructOnly:!0})],ae.prototype,"highlightGraphics",void 0),(0,y._)([(0,V.MZ)({constructOnly:!0})],ae.prototype,"highlightGraphicUpdated",void 0),(0,y._)([(0,V.MZ)({constructOnly:!0})],ae.prototype,"updatingHandles",void 0),ae=(0,y._)([(0,Z.$)("esri.views.layers.support.MapService")],ae)},54217:(s,d,c)=>{c.d(d,{D8:()=>p,TO:()=>n,d0:()=>u});var y=c(57022);async function n(s){var d,c;let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.popupTemplate;if(null==h)return[];const m=await h.getRequiredFields(s.fieldsIndex),{lastEditInfoEnabled:g}=h,{objectIdField:v,typeIdField:b,globalIdField:w,relationships:I}=s;if(m.includes("*"))return["*"];const M=g?(0,y.eX)(s):[],E=(0,y.DB)(s.fieldsIndex,[...m,...M]);return b&&E.push(b),E&&v&&null!==(d=s.fieldsIndex)&&void 0!==d&&d.has(v)&&!E.includes(v)&&E.push(v),E&&w&&null!==(c=s.fieldsIndex)&&void 0!==c&&c.has(w)&&!E.includes(w)&&E.push(w),I&&I.forEach((d=>{var c;const{keyField:y}=d;E&&y&&(null===(c=s.fieldsIndex)||void 0===c?void 0:c.has(y))&&!E.includes(y)&&E.push(y)})),E}function p(s,d){return s.popupTemplate?s.popupTemplate:null!=d&&d.defaultPopupTemplateEnabled&&null!=s.defaultPopupTemplate?s.defaultPopupTemplate:null}function u(s,d){return null!=p(s,{defaultPopupTemplateEnabled:d})}},5058:(s,d,c)=>{c.d(d,{V:()=>r});c(30174);var y=c(49049),h=c(84661);function r(s,d,c){var m;let g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new h.A,v=0;if("2d"===c.type)v=d*(null!==(m=c.resolution)&&void 0!==m?m:0);else if("3d"===c.type){const h=c.overlayPixelSizeInMapUnits(s),m=c.basemapSpatialReference;v=null==m||m.equals(c.spatialReference)?d*h:(0,y.GA)(m)/(0,y.GA)(c.spatialReference)}const b=s.x-v,w=s.y-v,I=s.x+v,M=s.y+v,{spatialReference:E}=c;return g.xmin=Math.min(b,I),g.ymin=Math.min(w,M),g.xmax=Math.max(b,I),g.ymax=Math.max(w,M),g.spatialReference=E,g}new h.A}}]);
//# sourceMappingURL=9393.1ffc7bbf.chunk.js.map