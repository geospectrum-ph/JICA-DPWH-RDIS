"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[7758],{90388:(j,Z,J)=>{J.d(Z,{J:()=>ee});var K,q,X,$=J(2155),Q={exports:{}};K=Q,q=function(){var j=function(){function e(j){this.message="JPEG error: "+j}return e.prototype=new Error,e.prototype.name="JpegError",e.constructor=e,e}();return function(){if(!self||!self.Uint8ClampedArray)return null;var Z=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),J=4017,K=799,q=3406,X=2276,$=1567,Q=3784,ee=5793,te=2896;function l(){this.decodeTransform=null,this.colorTransform=-1}function u(j,Z){for(var J,K,q=0,X=[],$=16;$>0&&!j[$-1];)$--;X.push({children:[],index:0});var Q,ee=X[0];for(J=0;J<$;J++){for(K=0;K<j[J];K++){for((ee=X.pop()).children[ee.index]=Z[q];ee.index>0;)ee=X.pop();for(ee.index++,X.push(ee);X.length<=J;)X.push(Q={children:[],index:0}),ee.children[ee.index]=Q.children,ee=Q;q++}J+1<$&&(X.push(Q={children:[],index:0}),ee.children[ee.index]=Q.children,ee=Q)}return X[0].children}function h(j,Z,J){return 64*((j.blocksPerLine+1)*Z+J)}function v(J,K,q,X,$,Q,ee,te,oe){var re=q.mcusPerLine,ne=q.progressive,ie=K,ae=0,se=0;function k(){if(se>0)return se--,ae>>se&1;if(255===(ae=J[K++])){var Z=J[K++];if(Z)throw new j("unexpected marker "+(ae<<8|Z).toString(16))}return se=7,ae>>>7}function g(Z){for(var J=Z;;){if("number"==typeof(J=J[k()]))return J;if("object"!=typeof J)throw new j("invalid huffman sequence")}}function C(j){for(var Z=0;j>0;)Z=Z<<1|k(),j--;return Z}function w(j){if(1===j)return 1===k()?1:-1;var Z=C(j);return Z>=1<<j-1?Z:Z+(-1<<j)+1}var le=0;var ue,ce=0;function U(j,Z,J,K,q){var X=J%re;Z(j,h(j,(J/re|0)*j.v+K,X*j.h+q))}function z(j,Z,J){Z(j,h(j,J/j.blocksPerLine|0,J%j.blocksPerLine))}var he,de,fe,pe,me,ge,ve=X.length;ge=ne?0===Q?0===te?function y(j,Z){var J=g(j.huffmanTableDC),K=0===J?0:w(J)<<oe;j.blockData[Z]=j.pred+=K}:function D(j,Z){j.blockData[Z]|=k()<<oe}:0===te?function P(j,J){if(le>0)le--;else for(var K=Q,q=ee;K<=q;){var X=g(j.huffmanTableAC),$=15&X,te=X>>4;if(0!==$){var re=Z[K+=te];j.blockData[J+re]=w($)*(1<<oe),K++}else{if(te<15){le=C(te)+(1<<te)-1;break}K+=16}}}:function _(J,K){for(var q,X,$=Q,te=ee,re=0;$<=te;){var ne=Z[$];switch(ce){case 0:if(re=(X=g(J.huffmanTableAC))>>4,0==(q=15&X))re<15?(le=C(re)+(1<<re),ce=4):(re=16,ce=1);else{if(1!==q)throw new j("invalid ACn encoding");ue=w(q),ce=re?2:3}continue;case 1:case 2:J.blockData[K+ne]?J.blockData[K+ne]+=k()<<oe:0==--re&&(ce=2===ce?3:0);break;case 3:J.blockData[K+ne]?J.blockData[K+ne]+=k()<<oe:(J.blockData[K+ne]=ue<<oe,ce=0);break;case 4:J.blockData[K+ne]&&(J.blockData[K+ne]+=k()<<oe)}$++}4===ce&&0==--le&&(ce=0)}:function x(j,J){var K=g(j.huffmanTableDC),q=0===K?0:w(K);j.blockData[J]=j.pred+=q;for(var X=1;X<64;){var $=g(j.huffmanTableAC),Q=15&$,ee=$>>4;if(0!==Q){var te=Z[X+=ee];j.blockData[J+te]=w(Q),X++}else{if(ee<15)break;X+=16}}};var ye,Ce,we,be,Se=0;for(Ce=1===ve?X[0].blocksPerLine*X[0].blocksPerColumn:re*q.mcusPerColumn;Se<Ce;){var Ae=$?Math.min(Ce-Se,$):Ce;for(de=0;de<ve;de++)X[de].pred=0;if(le=0,1===ve)for(he=X[0],me=0;me<Ae;me++)z(he,ge,Se),Se++;else for(me=0;me<Ae;me++){for(de=0;de<ve;de++)for(we=(he=X[de]).h,be=he.v,fe=0;fe<be;fe++)for(pe=0;pe<we;pe++)U(he,ge,Se,fe,pe);Se++}se=0,(ye=p(J,K))&&ye.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+ye.invalid),K=ye.offset);var Ie=ye&&ye.marker;if(!Ie||Ie<=65280)throw new j("marker was not found");if(!(Ie>=65488&&Ie<=65495))break;K+=2}return(ye=p(J,K))&&ye.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+ye.invalid),K=ye.offset),K-ie}function m(Z,oe,re){var ne,ie,ae,se,le,ue,ce,he,de,fe,pe,me,ge,ve,ye,Ce,we,be=Z.quantizationTable,Se=Z.blockData;if(!be)throw new j("missing required Quantization Table.");for(var Ae=0;Ae<64;Ae+=8)de=Se[oe+Ae],fe=Se[oe+Ae+1],pe=Se[oe+Ae+2],me=Se[oe+Ae+3],ge=Se[oe+Ae+4],ve=Se[oe+Ae+5],ye=Se[oe+Ae+6],Ce=Se[oe+Ae+7],de*=be[Ae],0!=(fe|pe|me|ge|ve|ye|Ce)?(fe*=be[Ae+1],pe*=be[Ae+2],me*=be[Ae+3],ge*=be[Ae+4],ve*=be[Ae+5],ye*=be[Ae+6],Ce*=be[Ae+7],ie=(ne=(ne=ee*de+128>>8)+(ie=ee*ge+128>>8)+1>>1)-ie,we=(ae=pe)*Q+(se=ye)*$+128>>8,ae=ae*$-se*Q+128>>8,ce=(le=(le=te*(fe-Ce)+128>>8)+(ce=ve<<4)+1>>1)-ce,ue=(he=(he=te*(fe+Ce)+128>>8)+(ue=me<<4)+1>>1)-ue,se=(ne=ne+(se=we)+1>>1)-se,ae=(ie=ie+ae+1>>1)-ae,we=le*X+he*q+2048>>12,le=le*q-he*X+2048>>12,he=we,we=ue*K+ce*J+2048>>12,ue=ue*J-ce*K+2048>>12,ce=we,re[Ae]=ne+he,re[Ae+7]=ne-he,re[Ae+1]=ie+ce,re[Ae+6]=ie-ce,re[Ae+2]=ae+ue,re[Ae+5]=ae-ue,re[Ae+3]=se+le,re[Ae+4]=se-le):(we=ee*de+512>>10,re[Ae]=we,re[Ae+1]=we,re[Ae+2]=we,re[Ae+3]=we,re[Ae+4]=we,re[Ae+5]=we,re[Ae+6]=we,re[Ae+7]=we);for(var Ie=0;Ie<8;++Ie)de=re[Ie],0!=((fe=re[Ie+8])|(pe=re[Ie+16])|(me=re[Ie+24])|(ge=re[Ie+32])|(ve=re[Ie+40])|(ye=re[Ie+48])|(Ce=re[Ie+56]))?(ie=(ne=4112+((ne=ee*de+2048>>12)+(ie=ee*ge+2048>>12)+1>>1))-ie,we=(ae=pe)*Q+(se=ye)*$+2048>>12,ae=ae*$-se*Q+2048>>12,se=we,ce=(le=(le=te*(fe-Ce)+2048>>12)+(ce=ve)+1>>1)-ce,ue=(he=(he=te*(fe+Ce)+2048>>12)+(ue=me)+1>>1)-ue,we=le*X+he*q+2048>>12,le=le*q-he*X+2048>>12,he=we,we=ue*K+ce*J+2048>>12,ue=ue*J-ce*K+2048>>12,de=(de=(ne=ne+se+1>>1)+he)<16?0:de>=4080?255:de>>4,fe=(fe=(ie=ie+ae+1>>1)+(ce=we))<16?0:fe>=4080?255:fe>>4,pe=(pe=(ae=ie-ae)+ue)<16?0:pe>=4080?255:pe>>4,me=(me=(se=ne-se)+le)<16?0:me>=4080?255:me>>4,ge=(ge=se-le)<16?0:ge>=4080?255:ge>>4,ve=(ve=ae-ue)<16?0:ve>=4080?255:ve>>4,ye=(ye=ie-ce)<16?0:ye>=4080?255:ye>>4,Ce=(Ce=ne-he)<16?0:Ce>=4080?255:Ce>>4,Se[oe+Ie]=de,Se[oe+Ie+8]=fe,Se[oe+Ie+16]=pe,Se[oe+Ie+24]=me,Se[oe+Ie+32]=ge,Se[oe+Ie+40]=ve,Se[oe+Ie+48]=ye,Se[oe+Ie+56]=Ce):(we=(we=ee*de+8192>>14)<-2040?0:we>=2024?255:we+2056>>4,Se[oe+Ie]=we,Se[oe+Ie+8]=we,Se[oe+Ie+16]=we,Se[oe+Ie+24]=we,Se[oe+Ie+32]=we,Se[oe+Ie+40]=we,Se[oe+Ie+48]=we,Se[oe+Ie+56]=we)}function d(j,Z){for(var J=Z.blocksPerLine,K=Z.blocksPerColumn,q=new Int16Array(64),X=0;X<K;X++)for(var $=0;$<J;$++)m(Z,h(Z,X,$),q);return Z.blockData}function p(j,Z,J){function o(Z){return j[Z]<<8|j[Z+1]}var K=j.length-1,q=J<Z?J:Z;if(Z>=K)return null;var X=o(Z);if(X>=65472&&X<=65534)return{invalid:null,marker:X,offset:Z};for(var $=o(q);!($>=65472&&$<=65534);){if(++q>=K)return null;$=o(q)}return{invalid:X.toString(16),marker:$,offset:q}}return l.prototype={parse:function(J){function o(){var j=J[X]<<8|J[X+1];return X+=2,j}function a(){var j=o(),Z=X+j-2,K=p(J,Z,X);K&&K.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+K.invalid),Z=K.offset);var q=J.subarray(X,Z);return X+=q.length,q}function t(j){for(var Z=Math.ceil(j.samplesPerLine/8/j.maxH),J=Math.ceil(j.scanLines/8/j.maxV),K=0;K<j.components.length;K++){Ae=j.components[K];var q=Math.ceil(Math.ceil(j.samplesPerLine/8)*Ae.h/j.maxH),X=Math.ceil(Math.ceil(j.scanLines/8)*Ae.v/j.maxV),$=Z*Ae.h,Q=J*Ae.v*64*($+1);Ae.blockData=new Int16Array(Q),Ae.blocksPerLine=q,Ae.blocksPerColumn=X}j.mcusPerLine=Z,j.mcusPerColumn=J}var K,q,X=0,$=null,Q=null,ee=[],te=[],oe=[],re=o();if(65496!==re)throw new j("SOI not found");for(re=o();65497!==re;){var ne,ie,ae;switch(re){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var se=a();65504===re&&74===se[0]&&70===se[1]&&73===se[2]&&70===se[3]&&0===se[4]&&($={version:{major:se[5],minor:se[6]},densityUnits:se[7],xDensity:se[8]<<8|se[9],yDensity:se[10]<<8|se[11],thumbWidth:se[12],thumbHeight:se[13],thumbData:se.subarray(14,14+3*se[12]*se[13])}),65518===re&&65===se[0]&&100===se[1]&&111===se[2]&&98===se[3]&&101===se[4]&&(Q={version:se[5]<<8|se[6],flags0:se[7]<<8|se[8],flags1:se[9]<<8|se[10],transformCode:se[11]});break;case 65499:for(var le=o()+X-2;X<le;){var ue=J[X++],ce=new Uint16Array(64);if(ue>>4==0)for(ie=0;ie<64;ie++)ce[Z[ie]]=J[X++];else{if(ue>>4!=1)throw new j("DQT - invalid table spec");for(ie=0;ie<64;ie++)ce[Z[ie]]=o()}ee[15&ue]=ce}break;case 65472:case 65473:case 65474:if(K)throw new j("Only single frame JPEGs supported");o(),(K={}).extended=65473===re,K.progressive=65474===re,K.precision=J[X++],K.scanLines=o(),K.samplesPerLine=o(),K.components=[],K.componentIds={};var he,de=J[X++],fe=0,pe=0;for(ne=0;ne<de;ne++){he=J[X];var me=J[X+1]>>4,ge=15&J[X+1];fe<me&&(fe=me),pe<ge&&(pe=ge);var ve=J[X+2];ae=K.components.push({h:me,v:ge,quantizationId:ve,quantizationTable:null}),K.componentIds[he]=ae-1,X+=3}K.maxH=fe,K.maxV=pe,t(K);break;case 65476:var ye=o();for(ne=2;ne<ye;){var Ce=J[X++],we=new Uint8Array(16),be=0;for(ie=0;ie<16;ie++,X++)be+=we[ie]=J[X];var Se=new Uint8Array(be);for(ie=0;ie<be;ie++,X++)Se[ie]=J[X];ne+=17+be,(Ce>>4==0?oe:te)[15&Ce]=u(we,Se)}break;case 65501:o(),q=o();break;case 65498:o();var Ae,Ie=J[X++],Te=[];for(ne=0;ne<Ie;ne++){var ke=K.componentIds[J[X++]];Ae=K.components[ke];var xe=J[X++];Ae.huffmanTableDC=oe[xe>>4],Ae.huffmanTableAC=te[15&xe],Te.push(Ae)}var Ee=J[X++],Pe=J[X++],Me=J[X++],Re=v(J,X,K,Te,q,Ee,Pe,Me>>4,15&Me);X+=Re;break;case 65535:255!==J[X]&&X--;break;default:if(255===J[X-3]&&J[X-2]>=192&&J[X-2]<=254){X-=3;break}throw new j("unknown marker "+re.toString(16))}re=o()}for(this.width=K.samplesPerLine,this.height=K.scanLines,this.jfif=$,this.eof=X,this.adobe=Q,this.components=[],ne=0;ne<K.components.length;ne++){var Le=ee[(Ae=K.components[ne]).quantizationId];Le&&(Ae.quantizationTable=Le),this.components.push({output:d(0,Ae),scaleX:Ae.h/K.maxH,scaleY:Ae.v/K.maxV,blocksPerLine:Ae.blocksPerLine,blocksPerColumn:Ae.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(j,Z){var J,K,q,X,$,Q,ee,te,oe,re,ne,ie=this.width/j,ae=this.height/Z,se=0,le=this.components.length,ue=j*Z*le,ce=new Uint8ClampedArray(ue),he=new Uint32Array(j),de=4294967288;for(ee=0;ee<le;ee++){for(K=(J=this.components[ee]).scaleX*ie,q=J.scaleY*ae,se=ee,ne=J.output,X=J.blocksPerLine+1<<3,$=0;$<j;$++)te=0|$*K,he[$]=(te&de)<<3|7&te;for(Q=0;Q<Z;Q++)for(re=X*((te=0|Q*q)&de)|(7&te)<<3,$=0;$<j;$++)ce[se]=ne[re+he[$]],se+=le}var fe=this.decodeTransform;if(fe)for(ee=0;ee<ue;)for(te=0,oe=0;te<le;te++,ee++,oe+=2)ce[ee]=(ce[ee]*fe[oe]>>8)+fe[oe+1];return ce},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(j){for(var Z,J,K,q=0,X=j.length;q<X;q+=3)Z=j[q],J=j[q+1],K=j[q+2],j[q]=Z-179.456+1.402*K,j[q+1]=Z+135.459-.344*J-.714*K,j[q+2]=Z-226.816+1.772*J;return j},_convertYcckToRgb:function(j){for(var Z,J,K,q,X=0,$=0,Q=j.length;$<Q;$+=4)Z=j[$],J=j[$+1],K=j[$+2],q=j[$+3],j[X++]=J*(-660635669420364e-19*J+.000437130475926232*K-54080610064599e-18*Z+.00048449797120281*q-.154362151871126)-122.67195406894+K*(-.000957964378445773*K+.000817076911346625*Z-.00477271405408747*q+1.53380253221734)+Z*(.000961250184130688*Z-.00266257332283933*q+.48357088451265)+q*(-.000336197177618394*q+.484791561490776),j[X++]=107.268039397724+J*(219927104525741e-19*J-.000640992018297945*K+.000659397001245577*Z+.000426105652938837*q-.176491792462875)+K*(-.000778269941513683*K+.00130872261408275*Z+.000770482631801132*q-.151051492775562)+Z*(.00126935368114843*Z-.00265090189010898*q+.25802910206845)+q*(-.000318913117588328*q-.213742400323665),j[X++]=J*(-.000570115196973677*J-263409051004589e-19*K+.0020741088115012*Z-.00288260236853442*q+.814272968359295)-20.810012546947+K*(-153496057440975e-19*K-.000132689043961446*Z+.000560833691242812*q-.195152027534049)+Z*(.00174418132927582*Z-.00255243321439347*q+.116935020465145)+q*(-.000343531996510555*q+.24165260232407);return j},_convertYcckToCmyk:function(j){for(var Z,J,K,q=0,X=j.length;q<X;q+=4)Z=j[q],J=j[q+1],K=j[q+2],j[q]=434.456-Z-1.402*K,j[q+1]=119.541-Z+.344*J+.714*K,j[q+2]=481.816-Z-1.772*J;return j},_convertCmykToRgb:function(j){for(var Z,J,K,q,X=0,$=1/255,Q=0,ee=j.length;Q<ee;Q+=4)Z=j[Q]*$,J=j[Q+1]*$,K=j[Q+2]*$,q=j[Q+3]*$,j[X++]=255+Z*(-4.387332384609988*Z+54.48615194189176*J+18.82290502165302*K+212.25662451639585*q-285.2331026137004)+J*(1.7149763477362134*J-5.6096736904047315*K-17.873870861415444*q-5.497006427196366)+K*(-2.5217340131683033*K-21.248923337353073*q+17.5119270841813)-q*(21.86122147463605*q+189.48180835922747),j[X++]=255+Z*(8.841041422036149*Z+60.118027045597366*J+6.871425592049007*K+31.159100130055922*q-79.2970844816548)+J*(-15.310361306967817*J+17.575251261109482*K+131.35250912493976*q-190.9453302588951)+K*(4.444339102852739*K+9.8632861493405*q-24.86741582555878)-q*(20.737325471181034*q+187.80453709719578),j[X++]=255+Z*(.8842522430003296*Z+8.078677503112928*J+30.89978309703729*K-.23883238689178934*q-14.183576799673286)+J*(10.49593273432072*J+63.02378494754052*K+50.606957656360734*q-112.23884253719248)+K*(.03296041114873217*K+115.60384449646641*q-193.58209356861505)-q*(22.33816807309886*q+180.12613974708367);return j},getData:function(Z,J,K){if(this.numComponents>4)throw new j("Unsupported color mode");var q=this._getLinearizedBlockData(Z,J);if(1===this.numComponents&&K){for(var X=q.length,$=new Uint8ClampedArray(3*X),Q=0,ee=0;ee<X;ee++){var te=q[ee];$[Q++]=te,$[Q++]=te,$[Q++]=te}return $}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(q);if(4===this.numComponents){if(this._isColorConversionNeeded())return K?this._convertYcckToRgb(q):this._convertYcckToCmyk(q);if(K)return this._convertCmykToRgb(q)}return q}},l}()},void 0!==(X=q())&&(K.exports=X);const ee=(0,$.g)(Q.exports)},89030:(j,Z,J)=>{J.d(Z,{Z:()=>ee});var K,q,X,$=J(2155),Q={exports:{}};q=Q,void 0!==(K=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(j){var Z=this.buffer,J=Z?Z.byteLength:0;if(j<J)return Z;for(var K=512;K<j;)K<<=1;for(var q=new Uint8Array(K),X=0;X<J;++X)q[X]=Z[X];return this.buffer=q},getByte:function(){for(var j=this.pos;this.bufferLength<=j;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(j){var Z=this.pos;if(j){this.ensureBuffer(Z+j);for(var J=Z+j;!this.eof&&this.bufferLength<J;)this.readBlock();var K=this.bufferLength;J>K&&(J=K)}else{for(;!this.eof;)this.readBlock();J=this.bufferLength}return this.pos=J,this.buffer.subarray(Z,J)},lookChar:function(){for(var j=this.pos;this.bufferLength<=j;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var j=this.pos;this.bufferLength<=j;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(j,Z,J){for(var K=j+Z;this.bufferLength<=K&&!this.eof;)this.readBlock();return new Stream(this.buffer,j,Z,J)},skip:function(j){j||(j=1),this.pos+=j},reset:function(){this.pos=0}},t}(),X=function(){if(!self||!self.Uint32Array)return null;var j=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),J=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),q=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],X=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function o(j){throw new Error(j)}function n(j){var Z=0,J=j[Z++],q=j[Z++];-1!=J&&-1!=q||o("Invalid header in flate stream"),8!=(15&J)&&o("Unknown compression method in flate stream"),((J<<8)+q)%31!=0&&o("Bad FCHECK in flate stream"),32&q&&o("FDICT bit set in flate stream"),this.bytes=j,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,K.call(this)}return n.prototype=Object.create(K.prototype),n.prototype.getBits=function(j){for(var Z,J=this.codeSize,K=this.codeBuf,q=this.bytes,X=this.bytesPos;J<j;)void 0===(Z=q[X++])&&o("Bad encoding in flate stream"),K|=Z<<J,J+=8;return Z=K&(1<<j)-1,this.codeBuf=K>>j,this.codeSize=J-=j,this.bytesPos=X,Z},n.prototype.getCode=function(j){for(var Z=j[0],J=j[1],K=this.codeSize,q=this.codeBuf,X=this.bytes,$=this.bytesPos;K<J;){var Q;void 0===(Q=X[$++])&&o("Bad encoding in flate stream"),q|=Q<<K,K+=8}var ee=Z[q&(1<<J)-1],te=ee>>16,oe=65535&ee;return(0==K||K<te||0==te)&&o("Bad encoding in flate stream"),this.codeBuf=q>>te,this.codeSize=K-te,this.bytesPos=$,oe},n.prototype.generateHuffmanTable=function(j){for(var Z=j.length,J=0,K=0;K<Z;++K)j[K]>J&&(J=j[K]);for(var q=1<<J,X=new Uint32Array(q),$=1,Q=0,ee=2;$<=J;++$,Q<<=1,ee<<=1)for(var te=0;te<Z;++te)if(j[te]==$){var oe=0,re=Q;for(K=0;K<$;++K)oe=oe<<1|1&re,re>>=1;for(K=oe;K<q;K+=ee)X[K]=$<<16|te;++Q}return[X,J]},n.prototype.readBlock=function(){function e(j,Z,J,K,q){for(var X=j.getBits(J)+K;X-- >0;)Z[ne++]=q}var K=this.getBits(3);if(1&K&&(this.eof=!0),0!=(K>>=1)){var $,Q;if(1==K)$=q,Q=X;else if(2==K){for(var ee=this.getBits(5)+257,te=this.getBits(5)+1,oe=this.getBits(4)+4,re=Array(j.length),ne=0;ne<oe;)re[j[ne++]]=this.getBits(3);for(var ie=this.generateHuffmanTable(re),ae=0,se=(ne=0,ee+te),le=new Array(se);ne<se;){var ue=this.getCode(ie);16==ue?e(this,le,2,3,ae):17==ue?e(this,le,3,3,ae=0):18==ue?e(this,le,7,11,ae=0):le[ne++]=ae=ue}$=this.generateHuffmanTable(le.slice(0,ee)),Q=this.generateHuffmanTable(le.slice(ee,se))}else o("Unknown block type in flate stream");for(var ce=(Se=this.buffer)?Se.length:0,he=this.bufferLength;;){var de=this.getCode($);if(de<256)he+1>=ce&&(ce=(Se=this.ensureBuffer(he+1)).length),Se[he++]=de;else{if(256==de)return void(this.bufferLength=he);var fe=(de=Z[de-=257])>>16;fe>0&&(fe=this.getBits(fe)),ae=(65535&de)+fe,de=this.getCode(Q),(fe=(de=J[de])>>16)>0&&(fe=this.getBits(fe));var pe=(65535&de)+fe;he+ae>=ce&&(ce=(Se=this.ensureBuffer(he+ae)).length);for(var me=0;me<ae;++me,++he)Se[he]=Se[he-pe]}}}else{var ge,ve=this.bytes,ye=this.bytesPos;void 0===(ge=ve[ye++])&&o("Bad block header in flate stream");var Ce=ge;void 0===(ge=ve[ye++])&&o("Bad block header in flate stream"),Ce|=ge<<8,void 0===(ge=ve[ye++])&&o("Bad block header in flate stream");var we=ge;void 0===(ge=ve[ye++])&&o("Bad block header in flate stream"),(we|=ge<<8)!=(65535&~Ce)&&o("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var be=this.bufferLength,Se=this.ensureBuffer(be+Ce),Ae=be+Ce;this.bufferLength=Ae;for(var Ie=be;Ie<Ae;++Ie){if(void 0===(ge=ve[ye++])){this.eof=!0;break}Se[Ie]=ge}this.bytesPos=ye}},n}())&&(q.exports=X);const ee=(0,$.g)(Q.exports)},71767:(j,Z,J)=>{J.d(Z,{A:()=>fe});var K,q=J(80671),X=J(83375),$=J(66004),Q=J(57453),ee=(J(50886),J(89412),J(68682)),te=J(84661),oe=J(98664);J(76761);function n(j){return j=Number(j),isNaN(j)?void 0:j}let re=K=class extends X.oY{constructor(){super(...arguments),this.name=null,this.minWavelength=void 0,this.maxWavelength=void 0,this.radianceBias=void 0,this.radianceGain=void 0,this.reflectanceBias=void 0,this.reflectanceGain=void 0,this.solarIrradiance=void 0}clone(){return new K({name:this.name,minWavelength:this.minWavelength,maxWavelength:this.maxWavelength,radianceBias:this.radianceBias,radianceGain:this.radianceGain,reflectanceBias:this.reflectanceBias,reflectanceGain:this.reflectanceGain,solarIrradiance:this.solarIrradiance})}};(0,q._)([(0,Q.MZ)({json:{name:"BandName",write:!0}})],re.prototype,"name",void 0),(0,q._)([(0,Q.MZ)({json:{name:"WavelengthMin",read:{reader:n},write:!0}})],re.prototype,"minWavelength",void 0),(0,q._)([(0,Q.MZ)({json:{name:"WavelengthMax",read:{reader:n},write:!0}})],re.prototype,"maxWavelength",void 0),(0,q._)([(0,Q.MZ)({json:{name:"RadianceBias",read:{reader:n},write:!0}})],re.prototype,"radianceBias",void 0),(0,q._)([(0,Q.MZ)({json:{name:"RadianceGain",read:{reader:n},write:!0}})],re.prototype,"radianceGain",void 0),(0,q._)([(0,Q.MZ)({json:{name:"ReflectanceBias",read:{reader:n},write:!0}})],re.prototype,"reflectanceBias",void 0),(0,q._)([(0,Q.MZ)({json:{name:"ReflectanceGain",read:{reader:n},write:!0}})],re.prototype,"reflectanceGain",void 0),(0,q._)([(0,Q.MZ)({json:{name:"SolarIrradiance",read:{reader:n},write:!0}})],re.prototype,"solarIrradiance",void 0),re=K=(0,q._)([(0,ee.$)("esri.layers.support.RasterBandInfo")],re);const ne=re;var ie,ae=J(59299),se=J(51715);function a(j){return j=Number(j),isNaN(j)?void 0:j}let le=ie=class extends X.oY{constructor(){super(...arguments),this.acquisitionDate=void 0,this.cloudCover=void 0,this.productName=void 0,this.sensorName=null,this.sensorAzimuth=void 0,this.sensorElevation=void 0,this.sunAzimuth=void 0,this.sunElevation=void 0}readAcquisitionDate(j){return new Date(j)}writeAcquisitionDate(j,Z){Z.AcquisitionDate=j.getTime()}clone(){return new ie({acquisitionDate:this.acquisitionDate,cloudCover:this.cloudCover,productName:this.productName,sensorName:this.sensorName,sensorAzimuth:this.sensorAzimuth,sensorElevation:this.sensorElevation,sunAzimuth:this.sunAzimuth,sunElevation:this.sunElevation})}};(0,q._)([(0,Q.MZ)({json:{name:"AcquisitionDate",write:!0}})],le.prototype,"acquisitionDate",void 0),(0,q._)([(0,ae.w)("acquisitionDate")],le.prototype,"readAcquisitionDate",null),(0,q._)([(0,se.K)("acquisitionDate")],le.prototype,"writeAcquisitionDate",null),(0,q._)([(0,Q.MZ)({json:{name:"CloudCover",read:{reader:a},write:!0}})],le.prototype,"cloudCover",void 0),(0,q._)([(0,Q.MZ)({json:{name:"ProductName",write:!0}})],le.prototype,"productName",void 0),(0,q._)([(0,Q.MZ)({json:{name:"SensorName",write:!0}})],le.prototype,"sensorName",void 0),(0,q._)([(0,Q.MZ)({json:{name:"SensorAzimuth",read:{reader:a},write:!0}})],le.prototype,"sensorAzimuth",void 0),(0,q._)([(0,Q.MZ)({json:{name:"SensorElevation",read:{reader:a},write:!0}})],le.prototype,"sensorElevation",void 0),(0,q._)([(0,Q.MZ)({json:{name:"SunAzimuth",read:{reader:a},write:!0}})],le.prototype,"sunAzimuth",void 0),(0,q._)([(0,Q.MZ)({json:{name:"SunElevation",read:{reader:a},write:!0}})],le.prototype,"sunElevation",void 0),le=ie=(0,q._)([(0,ee.$)("esri.layers.support.RasterSensorInfo")],le);const ue=le;var ce,he=J(35341);let de=ce=class extends X.oY{constructor(j){super(j),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get bandInfos(){const j=this.keyProperties.BandProperties,{bandCount:Z}=this;if(null===j||void 0===j||!j.length||j.length<Z){const j=[];for(let J=1;J<=Z;J++)j.push(new ne({name:"band_"+J}));return j}const J=j.map((j=>ne.fromJSON(j)));for(let K=0;K<J.length;K++)J[K].name=J[K].name||"band_"+(K+1);return J}get dataType(){var j,Z;const J=null!==(j=null===(Z=this.keyProperties)||void 0===Z||null===(Z=Z.DataType)||void 0===Z?void 0:Z.toLowerCase())&&void 0!==j?j:"generic";return"stdtime"===J?"standard-time":J}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(j){j&&this._set("nativeExtent",j)}get nativePixelSize(){if(null==this.transform||!this.transform.affectsPixelSize)return this.pixelSize;const j=this.nativeExtent;return{x:j.width/this.width,y:j.height/this.height}}get hasMultidimensionalTranspose(){var j;return!(null===(j=this.storageInfo)||void 0===j||!j.transposeInfo)}get sensorInfo(){var j;if(null!==(j=this.keyProperties)&&void 0!==j&&j.SensorName)return ue.fromJSON(this.keyProperties)}clone(){return new ce({attributeTable:(0,$.o8)(this.attributeTable),bandCount:this.bandCount,colormap:(0,$.o8)(this.colormap),extent:(0,$.o8)(this.extent),nativePixelSize:(0,$.o8)(this.nativePixelSize),format:this.format,height:this.height,width:this.width,histograms:(0,$.o8)(this.histograms),keyProperties:(0,$.o8)(this.keyProperties),multidimensionalInfo:(0,$.o8)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,$.o8)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,$.o8)(this.spatialReference),statistics:(0,$.o8)(this.statistics),storageInfo:(0,$.o8)(this.storageInfo),transform:(0,$.o8)(this.transform)})}};(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"attributeTable",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"bandCount",void 0),(0,q._)([(0,Q.MZ)({readOnly:!0})],de.prototype,"bandInfos",null),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"colormap",void 0),(0,q._)([(0,Q.MZ)({type:String,readOnly:!0})],de.prototype,"dataType",null),(0,q._)([(0,Q.MZ)({type:te.A,json:{write:!0}})],de.prototype,"extent",void 0),(0,q._)([(0,Q.MZ)({type:te.A,json:{write:!0}})],de.prototype,"nativeExtent",null),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"nativePixelSize",null),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"format",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"height",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"width",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"hasMultidimensionalTranspose",null),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"histograms",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"keyProperties",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"multidimensionalInfo",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"noDataValue",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"pixelSize",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"pixelType",void 0),(0,q._)([(0,Q.MZ)()],de.prototype,"isPseudoSpatialReference",void 0),(0,q._)([(0,Q.MZ)({readOnly:!0})],de.prototype,"sensorInfo",null),(0,q._)([(0,Q.MZ)({type:oe.A,json:{write:!0}})],de.prototype,"spatialReference",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"statistics",void 0),(0,q._)([(0,Q.MZ)({type:he.A,json:{write:!0}})],de.prototype,"storageInfo",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],de.prototype,"transform",void 0),de=ce=(0,q._)([(0,ee.$)("esri.layers.support.RasterInfo")],de);const fe=de},35341:(j,Z,J)=>{J.d(Z,{A:()=>re});var K,q=J(80671),X=J(83375),$=J(66004),Q=J(57453),ee=(J(50886),J(89412),J(68682)),te=J(57264);let oe=K=class extends X.oY{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new K({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,$.o8)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,$.o8)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,$.o8)(this.tileInfo),transposeInfo:(0,$.o8)(this.transposeInfo),blockBoundary:(0,$.o8)(this.blockBoundary)})}};(0,q._)([(0,Q.MZ)({type:Number,json:{write:!0}})],oe.prototype,"blockWidth",void 0),(0,q._)([(0,Q.MZ)({type:Number,json:{write:!0}})],oe.prototype,"blockHeight",void 0),(0,q._)([(0,Q.MZ)({type:String,json:{write:!0}})],oe.prototype,"compression",void 0),(0,q._)([(0,Q.MZ)({type:te.A,json:{write:!0}})],oe.prototype,"origin",void 0),(0,q._)([(0,Q.MZ)({type:Number,json:{write:!0}})],oe.prototype,"firstPyramidLevel",void 0),(0,q._)([(0,Q.MZ)({type:Number,json:{write:!0}})],oe.prototype,"maximumPyramidLevel",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],oe.prototype,"pyramidResolutions",void 0),(0,q._)([(0,Q.MZ)({type:Number,json:{write:!0}})],oe.prototype,"pyramidScalingFactor",void 0),(0,q._)([(0,Q.MZ)({type:Number,json:{write:!0}})],oe.prototype,"pyramidBlockWidth",void 0),(0,q._)([(0,Q.MZ)({type:Number,json:{write:!0}})],oe.prototype,"pyramidBlockHeight",void 0),(0,q._)([(0,Q.MZ)({type:Boolean,json:{write:!0}})],oe.prototype,"isVirtualTileInfo",void 0),(0,q._)([(0,Q.MZ)({json:{write:!0}})],oe.prototype,"tileInfo",void 0),(0,q._)([(0,Q.MZ)()],oe.prototype,"transposeInfo",void 0),(0,q._)([(0,Q.MZ)()],oe.prototype,"blockBoundary",void 0),oe=K=(0,q._)([(0,ee.$)("esri.layers.support.RasterStorageInfo")],oe);const re=oe},54507:(j,Z,J)=>{function r(j,Z){let J=0,K="",q=0,X=0;const $=j.length;for(;J<$;)X=j[J++],q=X>>4,q<8?q=1:15===q?(q=4,X=(7&X)<<18|(63&j[J++])<<12|(63&j[J++])<<6|63&j[J++]):14===q?(q=3,X=(15&X)<<12|(63&j[J++])<<6|63&j[J++]):(q=2,X=(31&X)<<6|63&j[J++]),(0!==X||Z)&&(K+=String.fromCharCode(X));return K}J.d(Z,{w:()=>r})},57639:(j,Z,J)=>{J.d(Z,{D4:()=>u,Hh:()=>r});var K=J(14795);const q=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let X=null;function r(){return X||(X=J.e(2964).then(J.bind(J,12964)).then((j=>j.l)).then((j=>{let{default:Z}=j;return Z({locateFile:j=>(0,K.s)("esri/layers/support/rasterFormats/".concat(j))})})).then((j=>{!function s(j){const{_malloc:Z,_free:J,_lerc_getBlobInfo:K,_lerc_getDataRanges:X,_lerc_decode_4D:Q,asm:ee}=j;let te;const oe=Object.values(ee).find((Z=>Z&&"buffer"in Z&&Z.buffer===j.HEAPU8.buffer)),y=j=>{const J=j.map((j=>function o(j){return 16+(j>>3<<3)}(j))),K=J.reduce(((j,Z)=>j+Z)),q=Z(K);te=new Uint8Array(oe.buffer);let X=J[0];J[0]=q;for(let Z=1;Z<J.length;Z++){const j=J[Z];J[Z]=J[Z-1]+X,X=j}return J};$.getBlobInfo=j=>{const Z=12,q=3,$=new Uint8Array(4*Z),Q=new Uint8Array(8*q),[ee,re,ne]=y([j.length,$.length,Q.length]);te.set(j,ee),te.set($,re),te.set(Q,ne);let ie=K(ee,j.length,re,ne,Z,q);if(ie)throw J(ee),new Error("lerc-getBlobInfo: error code is ".concat(ie));te=new Uint8Array(oe.buffer),l(te,re,$),l(te,ne,Q);const ae=new Uint32Array($.buffer),se=new Float64Array(Q.buffer),[le,ue,,ce,he,de,fe,pe,me,ge,ve]=ae,ye={version:le,depthCount:ge,width:ce,height:he,validPixelCount:fe,bandCount:de,blobSize:pe,maskCount:me,dataType:ue,minValue:se[0],maxValue:se[1],maxZerror:se[2],statistics:[],bandCountWithNoData:ve};if(ve&&ge>1)return J(ee),ye;if(1===ge&&1===de)return J(ee),ye.statistics.push({minValue:se[0],maxValue:se[1]}),ye;const Ce=ge*de*8,we=new Uint8Array(Ce),be=new Uint8Array(Ce);let Se=ee,Ae=0,Ie=0,Te=!1;if(te.byteLength<ee+2*Ce?(J(ee),Te=!0,[Se,Ae,Ie]=y([j.length,Ce,Ce]),te.set(j,Se)):[Ae,Ie]=y([Ce,Ce]),te.set(we,Ae),te.set(be,Ie),ie=X(Se,j.length,ge,de,Ae,Ie),ie)throw J(Se),Te||J(Ae),new Error("lerc-getDataRanges: error code is ".concat(ie));te=new Uint8Array(oe.buffer),l(te,Ae,we),l(te,Ie,be);const ke=new Float64Array(we.buffer),xe=new Float64Array(be.buffer),Ee=ye.statistics;for(let J=0;J<de;J++)if(ge>1){const j=ke.slice(J*ge,(J+1)*ge),Z=xe.slice(J*ge,(J+1)*ge),K=Math.min.apply(null,j),q=Math.max.apply(null,Z);Ee.push({minValue:K,maxValue:q,depthStats:{minValues:j,maxValues:Z}})}else Ee.push({minValue:ke[J],maxValue:xe[J]});return J(Se),Te||J(Ae),ye},$.decode=(j,Z)=>{const{maskCount:K,depthCount:X,bandCount:$,width:ee,height:re,dataType:ne,bandCountWithNoData:ie}=Z,ae=q[ne],se=ee*re,le=new Uint8Array(se*$),ue=se*X*$*ae.size,ce=new Uint8Array(ue),he=new Uint8Array($),de=new Uint8Array(8*$),[fe,pe,me,ge,ve]=y([j.length,le.length,ce.length,he.length,de.length]);te.set(j,fe),te.set(le,pe),te.set(ce,me),te.set(he,ge),te.set(de,ve);const ye=Q(fe,j.length,K,pe,X,ee,re,$,ne,me,ge,ve);if(ye)throw J(fe),new Error("lerc-decode: error code is ".concat(ye));te=new Uint8Array(oe.buffer),l(te,me,ce),l(te,pe,le);let Ce=null;if(ie){l(te,ge,he),l(te,ve,de),Ce=[];const j=new Float64Array(de.buffer);for(let Z=0;Z<he.length;Z++)Ce.push(he[Z]?j[Z]:null)}return J(fe),{data:ce,maskData:le,noDataValues:Ce}}}(j)})),X)}const $={getBlobInfo:null,decode:null};function l(j,Z,J){J.set(j.slice(Z,Z+J.length))}function i(j,Z,J,K,q){if(J<2)return j;const X=new K(Z*J);if(q)for(let $=0,Q=0;$<Z;$++)for(let K=0,q=$;K<J;K++,q+=Z)X[q]=j[Q++];else for(let $=0,Q=0;$<Z;$++)for(let K=0,q=$;K<J;K++,q+=Z)X[Q++]=j[q];return X}function u(j){var Z;let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const K=null!==(Z=J.inputOffset)&&void 0!==Z?Z:0,X=j instanceof Uint8Array?j.subarray(K):new Uint8Array(j,K),Q=$.getBlobInfo(X),{data:ee,maskData:te,noDataValues:oe}=$.decode(X,Q),{width:re,height:ne,bandCount:ie,depthCount:ae,dataType:se,maskCount:le,statistics:ue}=Q,ce=q[se],he=new ce.ctor(ee.buffer),de=[],fe=[],pe=re*ne,me=pe*ae;for(let q=0;q<ie;q++){const j=he.subarray(q*me,(q+1)*me);if(J.returnInterleaved)de.push(j);else{const Z=i(j,pe,ae,ce.ctor,!0);de.push(Z)}fe.push(te.subarray(q*me,(q+1)*me))}const ge=0===le?null:1===le?fe[0]:new Uint8Array(pe);if(le>1){ge.set(fe[0]);for(let j=1;j<fe.length;j++){const Z=fe[j];for(let j=0;j<pe;j++)ge[j]=ge[j]&Z[j]}}const{noDataValue:ve}=J,ye=null!=ve&&ce.range[0]<=ve&&ce.range[1]>=ve;if(le>0&&ye)for(let q=0;q<ie;q++){const j=de[q],Z=fe[q]||ge;for(let J=0;J<pe;J++)0===Z[J]&&(j[J]=ve)}const Ce=le===ie&&ie>1?fe:null,{pixelType:we}=ce;return{width:re,height:ne,bandCount:ie,pixelType:we,depthCount:ae,statistics:ue,pixels:de,mask:ge,bandMasks:Ce,noDataValues:oe}}},23284:(j,Z,J)=>{function n(){const j=[];for(let Z=0;Z<=257;Z++)j[Z]=[Z];return j}function t(j,Z){for(let J=0;J<Z.length;J++)j.push(Z[J])}J.d(Z,{D:()=>i});const K=new Set;function i(j,Z,J){const q=function e(j,Z,J){let K=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Z%4!=0||J%4!=0){const q=new ArrayBuffer(4*Math.ceil(J/4)),X=new Uint8Array(q),$=new Uint8Array(j,Z,J);if(K)for(let j=0;j<X.length;j+=4)X[j]=$[j+3],X[j+1]=$[j+2],X[j+2]=$[j+1],X[j+3]=$[j];else X.set($);return new Uint32Array(X.buffer)}if(K){const K=new Uint8Array(j,Z,J),q=new Uint8Array(K.length);for(let j=0;j<q.length;j+=4)q[j]=K[j+3],q[j+1]=K[j+2],q[j+2]=K[j+1],q[j+3]=K[j];return new Uint32Array(q.buffer)}return new Uint32Array(j,Z,J/4)}(j,Z,J,!(arguments.length>3&&void 0!==arguments[3])||arguments[3]);let X=9,$=n(),Q=32,ee=$.length,te=[],oe=1,re=q[0],ne=0;const ie=q.length,ae=8*(4*ie-J),se=[];for(;null!=re;){if(Q>=X)Q-=X,ne=re>>>32-X,re<<=X;else{ne=re>>>32-Q,re=q[oe++];const j=X-Q;Q=32-j,ne=(ne<<j)+(re>>>Q),re<<=j}if(257===ne)break;if(256===ne){X=9,$=n(),ee=$.length,te=[];continue}const j=$[ne];if(null==j){if(ne>$.length)throw new Error("data integrity issue: code does not exist on code page");te.push(te[0]),$[ee++]=te.slice(),t(se,te)}else t(se,j),te.push(j[0]),te.length>1&&($[ee++]=te.slice()),te=j.slice();if(K.has(ee)&&X++,0===Q&&(re=q[oe++],Q=32),oe>ie||oe===ie&&Q<=ae)break}return new Uint8Array(se)}K.add(511),K.add(1023),K.add(2047),K.add(4095),K.add(8191)},41761:(j,Z,J)=>{J.d(Z,{D:()=>S,g:()=>P});var K=J(4180),q=J(35598),X=J(68854),$=J(81618),Q=J(89030);class i{constructor(j){this._canvas=null,this._ctx=null,j&&(this._canvas=j.canvas,this._ctx=j.ctx||j.canvas&&j.canvas.getContext("2d"))}decode(j,Z,J){if(!j||j.byteLength<10)throw new K.A("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:q=0,height:X=0,format:Q}=Z;const{applyJpegMask:ee}=Z;if(ee&&(!q||!X))throw new K.A("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise(((K,te)=>{let oe=null;"jpg"===Q&&ee&&(oe=i._getMask(j,{width:q,height:X}));const re=new Blob([new Uint8Array(j)],{type:"image/"+Q=="jpg"?"jpeg":Q}),ne=URL.createObjectURL(re),ie=new Image;let ae;ie.src=ne,ie.onload=()=>{if(URL.revokeObjectURL(ne),(0,$.G4)(J))return void te((0,$.NK)());q=ie.width,X=ie.height,this._canvas&&this._ctx?(this._canvas.width===q&&this._canvas.height===X||(this._canvas.width=q,this._canvas.height=X),this._ctx.clearRect(0,0,q,X)):(this._canvas=document.createElement("canvas"),this._canvas.width=q,this._canvas.height=X,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(ie,0,0);const j=this._ctx.getImageData(0,0,q,X);let Q;if(ae=j.data,Z.renderOnCanvas){if(oe)for(Q=0;Q<oe.length;Q++)oe[Q]?ae[4*Q+3]=255:ae[4*Q+3]=0;return this._ctx.putImageData(j,0,0),void K(null)}const ee=q*X,re=new Uint8Array(ee),se=new Uint8Array(ee),le=new Uint8Array(ee);if(oe)for(Q=0;Q<ee;Q++)re[Q]=ae[4*Q],se[Q]=ae[4*Q+1],le[Q]=ae[4*Q+2];else for(oe=new Uint8Array(ee),Q=0;Q<ee;Q++)re[Q]=ae[4*Q],se[Q]=ae[4*Q+1],le[Q]=ae[4*Q+2],oe[Q]=ae[4*Q+3];K({width:q,height:X,pixels:[re,se,le],mask:oe,pixelType:"u8"})},ie.onerror=()=>{URL.revokeObjectURL(ne),te("cannot load image")}}))}static _getMask(j,Z){let J=null;try{const K=new Uint8Array(j),q=Math.ceil(K.length/2);let X=0;const $=K.length-2;for(X=q;X<$&&(255!==K[X]||217!==K[X+1]);X++);if(X+=2,X<K.length-1){const j=new Q.Z(K.subarray(X)).getBytes();J=new Uint8Array(Z.width*Z.height);let q=0;for(let Z=0;Z<j.length;Z++)for(let K=7;K>=0;K--)J[q++]=j[Z]>>K&1}}catch(i){}return J}}var ee=J(90388);class JpgPlus_r{static decode(j){let Z=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const J=new Uint8Array(j),K=new ee.J;K.parse(J);const{width:q,height:X,numComponents:$,eof:te}=K,oe=K.getData(q,X,!0),re=q*X;let ne,ie=null,ae=0,se=0,le=0;if(!Z&&te<J.length-1)try{const j=new Q.Z(J.subarray(te)).getBytes();ie=new Uint8Array(re);let Z=0;for(ae=0;ae<j.length;ae++)for(le=7;le>=0;le--)ie[Z++]=j[ae]>>le&1}catch{}if(1===$&&oe.length===q*X){const j=new Uint8Array(oe.buffer);ne=[j,j,j]}else{for(ne=[],ae=0;ae<3;ae++)ne.push(new Uint8Array(re));for(le=0,se=0;se<re;se++)for(ae=0;ae<3;ae++)ne[ae][se]=oe[le++]}return{width:q,height:X,pixels:ne,mask:ie}}}var te=J(57639),oe=J(23284),re=J(73489);const e=(j,Z)=>{const J=Z.width*Z.height,K=Z.pixelType;return Math.floor(j.byteLength/(J*t(K)))},t=j=>{let Z=1;switch(j){case Uint8Array:case Int8Array:Z=1;break;case Uint16Array:case Int16Array:Z=2;break;case Uint32Array:case Int32Array:case Float32Array:Z=4;break;case Float64Array:Z=8}return Z};class a{static decode(j,Z){const J=Z.pixelType,K=[],q=Z.width*Z.height,X=e(j,Z),{bandIds:$,format:Q}=Z,ee=(null===$||void 0===$?void 0:$.length)||e(j,Z),te=j.byteLength-j.byteLength%(q*t(J)),oe=new J(j,0,q*X);let re,ne,ie,ae,se=null;if("bip"===Q)for(re=0;re<ee;re++){for(ie=new J(q),ae=$?$[re]:re,ne=0;ne<q;ne++)ie[ne]=oe[ne*X+ae];K.push(ie)}else if("bsq"===Q)for(re=0;re<ee;re++)ae=$?$[re]:re,K.push(oe.subarray(ae*q,(ae+1)*q));return te<j.byteLength-1&&(se=((j,Z)=>{if(8*j.byteLength<Z)return null;const J=new Uint8Array(j,0,Math.ceil(Z/8)),K=new Uint8Array(Z);let q=0,X=0,$=0,Q=0;for($=0;$<J.length-1;$++)for(X=J[$],Q=7;Q>=0;Q--)K[q++]=X>>Q&1;for(Q=7;q<Z-1;)X=J[J.length-1],K[q++]=X>>Q&1,Q--;return K})(j.slice(te),q)),{pixels:K,mask:se}}}var ne=J(35890),ie=J(94934),ae=function(j){var Z,J,K;function o(j){var Z,J,K,q,X,$,Q,ee,te,oe,re,ne,ie;for(this.data=j,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},X=null;;){switch(Z=this.readUInt32(),ee=function(){var j,Z;for(Z=[],j=0;j<4;++j)Z.push(String.fromCharCode(this.data[this.pos++]));return Z}.call(this).join(""),ee){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Z);break;case"fcTL":X&&this.animation.frames.push(X),this.pos+=4,X={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},q=this.readUInt16(),K=this.readUInt16()||100,X.delay=1e3*q/K,X.disposeOp=this.data[this.pos++],X.blendOp=this.data[this.pos++],X.data=[];break;case"IDAT":case"fdAT":for("fdAT"===ee&&(this.pos+=4,Z-=4),j=(null!=X?X.data:void 0)||this.imgData,re=0;0<=Z?re<Z:re>Z;0<=Z?++re:--re)j.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(Z),(te=255-this.transparency.indexed.length)>0)for(ne=0;0<=te?ne<te:ne>te;0<=te?++ne:--ne)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Z)[0];break;case 2:this.transparency.rgb=this.read(Z)}break;case"tEXt":$=(oe=this.read(Z)).indexOf(0),Q=String.fromCharCode.apply(String,oe.slice(0,$)),this.text[Q]=String.fromCharCode.apply(String,oe.slice($+1));break;case"IEND":return X&&this.animation.frames.push(X),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ie=this.colorType)||6===ie,J=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*J,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Z}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return o.load=function(j,Z,J){var K;return"function"==typeof Z&&(J=Z),(K=new XMLHttpRequest).open("GET",j,!0),K.responseType="arraybuffer",K.onload=function(){var j;return j=new o(new Uint8Array(K.response||K.mozResponseArrayBuffer)),"function"==typeof(null!=Z?Z.getContext:void 0)&&j.render(Z),"function"==typeof J?J(j):void 0},K.send(null)},1,2,0,o.prototype.read=function(j){var Z,J;for(J=[],Z=0;0<=j?Z<j:Z>j;0<=j?++Z:--Z)J.push(this.data[this.pos++]);return J},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(j){var Z,J,K,q,X,$,ee,te,oe,re,ne,ie,ae,se,le,ue,ce,he,de,fe,pe,me,ge;if(null==j&&(j=this.imgData),0===j.length)return new Uint8Array(0);for(j=(j=new Q.Z(j)).getBytes(),ue=(ie=this.pixelBitlength/8)*this.width,ae=new Uint8Array(ue*this.height),$=j.length,le=0,se=0,J=0;se<$;){switch(j[se++]){case 0:for(q=de=0;de<ue;q=de+=1)ae[J++]=j[se++];break;case 1:for(q=fe=0;fe<ue;q=fe+=1)Z=j[se++],X=q<ie?0:ae[J-ie],ae[J++]=(Z+X)%256;break;case 2:for(q=pe=0;pe<ue;q=pe+=1)Z=j[se++],K=(q-q%ie)/ie,ce=le&&ae[(le-1)*ue+K*ie+q%ie],ae[J++]=(ce+Z)%256;break;case 3:for(q=me=0;me<ue;q=me+=1)Z=j[se++],K=(q-q%ie)/ie,X=q<ie?0:ae[J-ie],ce=le&&ae[(le-1)*ue+K*ie+q%ie],ae[J++]=(Z+Math.floor((X+ce)/2))%256;break;case 4:for(q=ge=0;ge<ue;q=ge+=1)Z=j[se++],K=(q-q%ie)/ie,X=q<ie?0:ae[J-ie],0===le?ce=he=0:(ce=ae[(le-1)*ue+K*ie+q%ie],he=K&&ae[(le-1)*ue+(K-1)*ie+q%ie]),ee=X+ce-he,te=Math.abs(ee-X),re=Math.abs(ee-ce),ne=Math.abs(ee-he),oe=te<=re&&te<=ne?X:re<=ne?ce:he,ae[J++]=(Z+oe)%256;break;default:throw new Error("Invalid filter algorithm: "+j[se-1])}le++}return ae},o.prototype.decodePalette=function(){var j,Z,J,K,q,X,$,Q,ee;for(J=this.palette,X=this.transparency.indexed||[],q=new Uint8Array((X.length||0)+J.length),K=0,J.length,j=0,Z=$=0,Q=J.length;$<Q;Z=$+=3)q[K++]=J[Z],q[K++]=J[Z+1],q[K++]=J[Z+2],q[K++]=null!=(ee=X[j++])?ee:255;return q},o.prototype.copyToImageData=function(j,Z){var J,K,q,X,$,Q,ee,te,oe,re,ne;if(K=this.colors,oe=null,J=this.hasAlphaChannel,this.palette.length&&(oe=null!=(ne=this._decodedPalette)?ne:this._decodedPalette=this.decodePalette(),K=4,J=!0),te=(q=j.data||j).length,$=oe||Z,X=Q=0,1===K)for(;X<te;)ee=oe?4*Z[X/4]:Q,re=$[ee++],q[X++]=re,q[X++]=re,q[X++]=re,q[X++]=J?$[ee++]:this.transparency.grayscale&&this.transparency.grayscale===re?0:255,Q=ee;else for(;X<te;)ee=oe?4*Z[X/4]:Q,q[X++]=$[ee++],q[X++]=$[ee++],q[X++]=$[ee++],q[X++]=J?$[ee++]:this.transparency.rgb&&this.transparency.rgb[1]===$[ee-3]&&this.transparency.rgb[3]===$[ee-2]&&this.transparency.rgb[5]===$[ee-1]?0:255,Q=ee},o.prototype.decode=function(){var j;return j=new Uint8Array(this.width*this.height*4),this.copyToImageData(j,this.decodePixels()),j},J=j.document&&j.document.createElement("canvas"),K=J&&J.getContext("2d"),Z=function(j){var Z;return K.width=j.width,K.height=j.height,K.clearRect(0,0,j.width,j.height),K.putImageData(j,0,0),(Z=new Image).src=J.toDataURL(),Z},o.prototype.decodeFrames=function(j){var J,K,q,X,$,Q,ee,te;if(this.animation){for(te=[],K=$=0,Q=(ee=this.animation.frames).length;$<Q;K=++$)J=ee[K],q=j.createImageData(J.width,J.height),X=this.decodePixels(new Uint8Array(J.data)),this.copyToImageData(q,X),J.imageData=q,te.push(J.image=Z(q));return te}},o.prototype.renderFrame=function(j,Z){var J,K,q;return J=(K=this.animation.frames)[Z],q=K[Z-1],0===Z&&j.clearRect(0,0,this.width,this.height),1===(null!=q?q.disposeOp:void 0)?j.clearRect(q.xOffset,q.yOffset,q.width,q.height):2===(null!=q?q.disposeOp:void 0)&&j.putImageData(q.imageData,q.xOffset,q.yOffset),0===J.blendOp&&j.clearRect(J.xOffset,J.yOffset,J.width,J.height),j.drawImage(J.image,J.xOffset,J.yOffset)},o.prototype.animate=function(j){var Z,J,K,q,X,$,Q=this;return J=0,$=this.animation,q=$.numFrames,K=$.frames,X=$.numPlays,(Z=function(){var $,ee;if($=J++%q,ee=K[$],Q.renderFrame(j,$),q>1&&J/q<X)return Q.animation._timeout=setTimeout(Z,ee.delay)})()},o.prototype.stopAnimation=function(){var j;return clearTimeout(null!=(j=this.animation)?j._timeout:void 0)},o.prototype.render=function(j){var Z,J;return j._png&&j._png.stopAnimation(),j._png=this,j.width=this.width,j.height=this.height,Z=j.getContext("2d"),this.animation?(this.decodeFrames(Z),this.animate(Z)):(J=Z.createImageData(this.width,this.height),this.copyToImageData(J,this.decodePixels()),Z.putImageData(J,0,0))},o}(self);const se=new Set(["jpg","png","bmp","gif"]);async function g(j,Z){if(!ie.Z)throw new K.A("rasterCoded:decode","lerc decoder is not supported on big endian platform");await(0,te.Hh)();const{offset:J}=Z,{width:q,height:$,pixelType:Q,statistics:ee,depthCount:oe,noDataValues:re,bandMasks:ne,pixels:ae,mask:se}=(0,te.D4)(j,{inputOffset:J,returnInterleaved:Z.returnInterleaved}),le=new X.A({width:q,height:$,pixelType:Q.toLowerCase(),pixels:ae,mask:se,statistics:ee,bandMasks:ne,depthCount:oe,noDataValues:re});return null!==ee&&void 0!==ee&&ee.length||le.updateStatistics(),le}async function w(j,Z){const J=await(0,ne.D4)(j,{...Z,noDataValue:null});(0,q.Lw)(J);const K=new X.A({width:J.width,height:J.height,pixels:J.pixels,pixelType:J.pixelType.toLowerCase(),mask:J.mask,bandMasks:J.bandMasks,statistics:null});return K.updateStatistics(),K}function b(j,Z){const J=Z.pixelType||"u8",K=X.A.getPixelArrayConstructor(J),q="u8"===J?j:new K(j.buffer),$=[],Q=Z.planes||1;if(1===Q)$.push(q);else for(let X=0;X<Q;X++){const J=(Z.width||1)*(Z.height||j.length),ee=new K(J);for(let j=0;j<J;j++)ee[j]=q[j*Q+X];$.push(ee)}const ee=new X.A({width:Z.width||1,height:Z.height||j.length,pixels:$,pixelType:J,statistics:null});return ee.updateStatistics(),ee}function x(j,Z){return b(new Q.Z(new Uint8Array(j)).getBytes(),Z)}function k(j,Z){return b((0,oe.D)(j,Z.offset,Z.eof,!Z.isInputBigEndian),Z)}function T(j,Z,J){const{pixelTypeCtor:K}=function D(j){let Z=null,J=null;switch(j?j.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":J=255,Z=Uint8Array;break;case"u16":J=J||65535,Z=Uint16Array;break;case"u32":J=J||2**32-1,Z=Uint32Array;break;case"s8":J=J||-128,Z=Int8Array;break;case"s16":J=J||-32768,Z=Int16Array;break;case"s32":J=J||0-2**31,Z=Int32Array;break;default:Z=Float32Array}return{pixelTypeCtor:Z,noDataValue:J}}(Z.pixelType),q=(0,a.decode)(j,{width:Z.width,height:Z.height,pixelType:K,format:J}),$=new X.A({width:Z.width,height:Z.height,pixels:q.pixels,pixelType:Z.pixelType,mask:q.mask,statistics:null});return $.updateStatistics(),$}function I(j,Z){var J;const K=JpgPlus_r.decode(j,null!==(J=Z.hasNoZlibMask)&&void 0!==J?J:void 0),q=new X.A({width:K.width,height:K.height,pixels:K.pixels,pixelType:"U8",mask:K.mask,statistics:null});return q.updateStatistics(),q}function C(j,Z){const J=new Uint8Array(j),K=new ae(J),{width:q,height:$}=Z,Q=q*$,ee=K.decode();let te,oe=0,re=0;const ne=new Uint8Array(Q);for(oe=0;oe<Q;oe++)ne[oe]=ee[4*oe+3];const ie=new X.A({width:q,height:$,pixels:[],pixelType:"U8",mask:ne,statistics:[]});for(oe=0;oe<3;oe++){for(te=new Uint8Array(Q),re=0;re<Q;re++)te[re]=ee[4*re+oe];ie.addData({pixels:te})}return ie.updateStatistics(),ie}async function U(j,Z,J,K){const q=new i,$={applyJpegMask:!1,format:Z,...J},Q=await q.decode(j,$,K),ee=new X.A(Q);return ee.updateStatistics(),ee}function v(j){if(null==j)throw new K.A("rasterCodec:decode","parameter encodeddata is required.");const Z=new Uint8Array(j,0,10);let J="";return 255===Z[0]&&216===Z[1]?J="jpg":137===Z[0]&&80===Z[1]&&78===Z[2]&&71===Z[3]?J="png":67===Z[0]&&110===Z[1]&&116===Z[2]&&90===Z[3]&&73===Z[4]&&109===Z[5]&&97===Z[6]&&103===Z[7]&&101===Z[8]&&32===Z[9]?J="lerc":76===Z[0]&&101===Z[1]&&114===Z[2]&&99===Z[3]&&50===Z[4]&&32===Z[5]?J="lerc2":73===Z[0]&&73===Z[1]&&42===Z[2]&&0===Z[3]||77===Z[0]&&77===Z[1]&&0===Z[2]&&42===Z[3]||73===Z[0]&&73===Z[1]&&43===Z[2]&&0===Z[3]||77===Z[0]&&77===Z[1]&&0===Z[2]&&43===Z[3]?J="tiff":71===Z[0]&&73===Z[1]&&70===Z[2]?J="gif":66===Z[0]&&77===Z[1]?J="bmp":String.fromCharCode.apply(null,Z).toLowerCase().includes("error")&&(J="error"),J}function P(j){let Z=v(j);return"lerc2"===Z?Z="lerc":"error"===Z&&(Z=""),Z}async function S(j){var Z,J;let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=arguments.length>2?arguments[2]:void 0;if(null==j)throw new K.A("rasterCodec:decode","missing encodeddata parameter.");let Q=null===(Z=q.format)||void 0===Z?void 0:Z.toLowerCase();if(!("bsq"!==Q&&"bip"!==Q||null!=q.width&&null!=q.height))throw new K.A("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===Q&&q.customOptions)return async function y(j,Z){const J=await(0,ne.s$)(j,Z.customOptions),K=new X.A({width:J.width,height:J.height,pixels:J.pixels,pixelType:J.pixelType.toLowerCase(),mask:J.mask,statistics:null});return K.updateStatistics(),K}(j,q);if((!Q||"bsq"!==Q&&"bip"!==Q&&"deflate"!==Q&&"lzw"!==Q)&&(Q=v(j)),q.useCanvas&&se.has(Q))return U(j,Q,q,$);const ee=function A(j){let Z=null;switch(j){case"lerc":case"lerc2":Z=g;break;case"jpg":Z=I;break;case"png":Z=C;break;case"bsq":case"bip":Z=(Z,J)=>T(Z,J,j);break;case"tiff":Z=w;break;case"deflate":Z=x;break;case"lzw":Z=k;break;case"error":Z=()=>{throw new K.A("rasterCodec:decode","input data contains error")};break;default:Z=()=>{throw new K.A("rasterCodec:decode","unsupported raster format")}}return Z}(Q);let te;q.isPoint&&(null!=(q={...q}).width&&q.width++,null!=q.height&&q.height++);const{offsets:oe}=q;if(oe&&oe.length>1){const Z=oe.map(((Z,J)=>ee(j.slice(Z,oe[J+1]),q))),J=await Promise.all(Z);te=J[0],te.pixels=J.map((j=>j.pixels[0]));const K=J.map((j=>j.mask));J.some((j=>null!=j))&&(K.forEach(((j,Z)=>{null==j&&(K[Z]=new Uint8Array(te.width*te.height).fill(255))})),te.bandMasks=K,te.mask=X.A.combineBandMasks(K)),te.updateStatistics()}else te=await ee(j,{...q,offset:null!==(J=null===oe||void 0===oe?void 0:oe[0])&&void 0!==J?J:q.offset});return"jpg"!==Q&&null!=q.noDataValue&&1===te.depthCount&&(0,re.Sp)(te,q.noDataValue,{customFloatTolerance:q.tolerance}),q.isPoint&&function O(j){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!j)return;const{pixels:J,width:K,height:q,mask:$}=j;if(!J||0===J.length)return;const Q=J.length,ee=K-1,te=q-1,oe=[];let re,ne,ie,ae,se,le,ue=null;const ce=X.A.getPixelArrayConstructor(j.pixelType);if(0===Z){for(re=0;re<Q;re++){for(se=J[re],le=new ce(ee*te),ne=0;ne<te;ne++)for(ae=ne*K,ie=0;ie<ee;ie++)le[ne*ee+ie]=se[ae+ie];oe.push(le)}if(null!=$)for(ue=new Uint8Array(ee*te),ne=0;ne<te;ne++)for(ae=ne*K,ie=0;ie<ee;ie++)ue[ne*ee+ie]=$[ae+ie]}else{for(re=0;re<Q;re++){for(se=J[re],le=new ce(ee*te),ne=0;ne<te;ne++)for(ae=ne*K,ie=0;ie<ee;ie++)le[ne*ee+ie]=(se[ae+ie]+se[ae+ie+1]+se[ae+K+ie]+se[ae+K+ie+1])/4;oe.push(le)}if($)for(ue=new Uint8Array(ee*te),ne=0;ne<te;ne++)for(ae=ne*K,ie=0;ie<ee;ie++)ue[ne*ee+ie]=Math.min.apply(null,[$[ae+ie],$[ae+ie+1],$[ae+K+ie],$[ae+K+ie+1]])}j.width=ee,j.height=te,j.mask=ue,j.pixels=oe}(te),te}},35890:(j,Z,J)=>{J.d(Z,{Cr:()=>L,D4:()=>Y,JM:()=>B,XO:()=>D,r9:()=>N,s$:()=>H,uT:()=>F,uc:()=>R,zS:()=>U});var K=J(54507),q=J(90388),X=J(57639),$=J(23284),Q=J(73489),ee=J(73741),te=J(94934),oe=J(89030);const re=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],ne=4294967296,ie=new Set([1,5,6,7,8,34712,34887]);function h(j,Z){let J="unknown";return 3===j?J=64===Z?"f64":"f32":1===j?1===Z?J="u1":2===Z?J="u2":4===Z?J="u4":Z<=8?J="u8":Z<=16?J="u16":Z<=32&&(J="u32"):2===j&&(Z<=8?J="s8":Z<=16?J="s16":Z<=32&&(J="s32")),J}function g(j){let Z=null;switch(j?j.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":Z=Uint8Array;break;case"u16":Z=Uint16Array;break;case"u32":Z=Uint32Array;break;case"s8":Z=Int8Array;break;case"s16":Z=Int16Array;break;case"s32":Z=Int32Array;break;case"f64":Z=Float64Array;break;default:Z=Float32Array}return Z}function E(j,Z){return{x:Z[0]*j.x+Z[1]*j.y+Z[2],y:Z[3]*j.x+Z[4]*j.y+Z[5]}}function T(j,Z){var J;return null===(J=j.get(Z))||void 0===J?void 0:J.values}function I(j,Z){var J;return null===(J=j.get(Z))||void 0===J?void 0:J.values}function w(j,Z){var J;return null===(J=j.get(Z))||void 0===J||null===(J=J.values)||void 0===J?void 0:J[0]}function d(j,Z){var J;return null===(J=j.get(Z))||void 0===J||null===(J=J.values)||void 0===J?void 0:J[0]}function p(j,Z,J){let K=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ee.A.tiffTags,X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4;const $=8===X,Q=$?C(new DataView(j,J,8),0,Z):new DataView(j,J,2).getUint16(0,Z),te=4+2*X,oe=$?8:2,re=oe+Q*te;if(J+re>j.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:re};const ne=J+re+4<=j.byteLength?v(new DataView(j,J+re,8===X?8:4),0,Z,8===X):null,ie=J+oe,ae=new Map;let se,le,ue,ce,he,de=0,fe=0;for(let pe=0;pe<Q;pe++){le=new DataView(j,ie+te*pe,te),ue=le.getUint16(0,Z),he=le.getUint16(2,Z),ce=ee.A.getTagName(ue,q);const J=[];2===X?(de=le.getUint16(4,Z),fe=le.getUint16(6,Z)):4===X?(de=le.getUint32(4,Z),fe=le.getUint32(8,Z)):8===X&&(de=v(le,4,Z,!0),fe=v(le,12,Z,!0),J.push(le.getUint32(12,Z)),J.push(le.getUint32(16,Z))),se={id:ue,type:he,valueCount:de,valueOffset:fe,valueOffsets:J,values:null},L(j,Z,se,K,!1,X),ae.set(ce,se)}return{success:!0,ifd:ae,nextIFD:ne,requiredBufferSize:re}}const y=(j,Z)=>(0,X.D4)(j,{inputOffset:Z}).pixels[0];function m(j,Z){if(1!==Z&&2!==Z&&4!==Z)return j;const J=new Uint8Array(j),K=8/Z,q=new Uint8Array(j.byteLength*K);let X=0;const $=2**Z-1;for(let Q=0;Q<J.length;Q++){const j=J[Q];for(let J=0;J<K;J++)q[X++]=j<<Z*J>>>8-Z&$}return q.buffer}function S(j,Z,J){const K=new q.J;K.parse(j),K.colorTransform=6===J?-1:0;const X=K.getData(K.width,K.height,1!==Z&&4!==Z);return new Uint8Array(X.buffer)}function A(j){const Z=new oe.Z(j).getBytes(),J=new ArrayBuffer(Z.length),K=new Uint8Array(J);return K.set(Z),K}async function M(j,Z,J,K,q){var Q,ee,oe,re;const ne=te.Z===Z,ie=d(J,"BITSPERSAMPLE"),ae=null!==(Q=d(J,"SAMPLESPERPIXEL"))&&void 0!==Q?Q:1,se=d(J,"PHOTOMETRICINTERPRETATION"),le=null!==(ee=d(J,"SAMPLEFORMAT"))&&void 0!==ee?ee:1,ue=h(le,ie),ce=null!==(oe=d(J,"COMPRESSION"))&&void 0!==oe?oe:1,he=g(ue);let de,fe,pe;if(34887===ce)return await(0,X.Hh)(),y(j,K);if(1===ce)de=j.slice(K,K+q),fe=new Uint8Array(de);else if(8===ce||32946===ce)fe=new Uint8Array(j,K,q),fe=A(fe),de=fe.buffer;else if(6===ce)fe=new Uint8Array(j,K,q),fe=S(fe,ae,se),de=fe.buffer;else if(7===ce){const Z=J.get("JPEGTABLES").values,X=Z.length-2;fe=new Uint8Array(X+q-2);for(let j=0;j<X;j++)fe[j]=Z[j];const $=new Uint8Array(j,K+2,q-2);for(let j=0;j<$.length;j++)fe[X+j]=$[j];fe=S(fe,ae,se),de=fe.buffer}else{if(5!==ce)throw new Error("tiff-decode: unsupport compression "+ce);fe=(0,$.D)(j,K,q,Z),de=fe.buffer}if(de=m(de,ie),"u8"===ue||"s8"===ue||ne)pe=new he(de);else{de=new ArrayBuffer(fe.length);const j=new Uint8Array(de);switch(ue){case"u16":case"s16":for(let Z=0;Z<fe.length;Z+=2)j[Z]=fe[Z+1],j[Z+1]=fe[Z];break;case"u32":case"s32":case"f32":for(let Z=0;Z<fe.length;Z+=4)j[Z]=fe[Z+3],j[Z+1]=fe[Z+2],j[Z+2]=fe[Z+1],j[Z+3]=fe[Z]}pe=new he(de)}const me=null!==(re=d(J,"PREDICTOR"))&&void 0!==re?re:1,ge=d(J,"TILEWIDTH"),ve=d(J,"TILELENGTH");if(me>1&&(5===ce||8===ce||32946===ce)&&ge&&ve){const j=D(J),Z=new he(pe.length);Z.set(pe),pe=function W(j,Z,J,K,q){const X=K?4:1,$=J*X*q;K&&(j=new Uint8Array(j.buffer));for(let te=0;te<Z;te++){const Z=te*$;for(let J=q;J<$;J++)j[Z+J]+=j[Z+J-q]}if(!K)return j;const Q=new Uint8Array(j.length),ee=J*q;for(let te=0;te<Z;te++){const Z=te*$;for(let J=0;J<ee;J++)for(let K=0;K<X;K++)Q[Z+J*X+K]=j[Z+J+(X-K-1)*ee]}return new Float32Array(Q.buffer)}(Z,ve,ge,3===le&&3===me,j?1:ae)}return pe}const b=(j,Z,J)=>{var K;const q=te.Z===Z.littleEndian,X=I(J,"STRIPOFFSETS");if(void 0===X)return null;const{width:Q,height:ee,pixelType:oe}=R([J]),re=d(J,"SAMPLESPERPIXEL")||Z.planes,ne=d(J,"PHOTOMETRICINTERPRETATION"),ie=Q*ee,ae=d(J,"BITSPERSAMPLE"),se=g(oe),le=new se(ie*re),ue=I(J,"STRIPBYTECOUNTS"),ce=d(J,"ROWSPERSTRIP"),he=null!==(K=d(J,"COMPRESSION"))&&void 0!==K?K:1;let de,fe,pe,me,ge,ve,ye,Ce,we,be=ce;if(ae%8==0)for(de=0;de<X.length;de++){if(ge=de*(ce*Q)*re,be=(de+1)*ce>ee?ee-de*ce:ce,"u8"===oe||"s8"===oe||q)8===he||32946===he?(ye=new Uint8Array(j,X[de],ue[de]),ye=A(ye),ve=ye.buffer):6===he?(ye=new Uint8Array(j,X[de],ue[de]),ye=S(ye,re,ne),ve=ye.buffer):5===he?(ye=(0,$.D)(j,X[de],ue[de],Z.littleEndian),ve=ye.buffer):(ue[de]!==be*Q*re*ae/8&&console.log("strip byte counts is different than expected"),ve=j.slice(X[de],X[de]+ue[de])),ve=m(ve,ae),me=new se(ve);else{switch(6===he||8===he||32946===he?(ye=new Uint8Array(j,X[de],ue[de]),Ce=A(ye),ve=Ce.buffer):(ue[de]!==be*Q*re*ae/8&&console.log("strip byte counts is different than expected"),ve=new ArrayBuffer(ue[de]),ye=new Uint8Array(j,X[de],ue[de]),Ce=new Uint8Array(ve)),oe){case"u16":case"s16":for(pe=0;pe<ye.length;pe+=2)Ce[pe]=ye[pe+1],Ce[pe+1]=ye[pe];break;case"u32":case"s32":case"f32":for(pe=0;pe<ye.length;pe+=4)Ce[pe]=ye[pe+3],Ce[pe+1]=ye[pe+2],Ce[pe+2]=ye[pe+1],Ce[pe+3]=ye[pe]}ve=m(ve,ae),me=new se(ve)}le.set(me,ge)}const Se=[];if(1===re)Se.push(le);else for(de=0;de<re;de++){for(we=new se(ie),fe=0;fe<ie;fe++)we[fe]=le[fe*re+de];Se.push(we)}return{width:Q,height:ee,pixelType:oe,pixels:Se}},O=(j,Z,J)=>{if(!(j&&j.length>0&&Z&&J))return null;let K,q,X;const $=j[0].length,Q=j.length,ee=new Uint8Array($);for(let te=0;te<Q;te++)if(K=j[te],q=Z[te],X=J[te],0===te)for(let j=0;j<$;j++)ee[j]=K[j]<q||K[j]>X?0:1;else for(let j=0;j<$;j++)ee[j]&&(ee[j]=K[j]<q||K[j]>X?0:1);return ee},x=j=>{if(!j)return null;const Z=j.match(/<Item(.*?)Item>/gi);if(!Z||0===Z.length)return null;const J=new Map;let K,q,X,$,Q;for(let ue=0;ue<Z.length;ue++)K=Z[ue],q=K.slice(6,K.indexOf(">")),$=K.indexOf("sample="),$>-1&&(Q=K.slice($+8,K.indexOf('"',$+8))),$=K.indexOf("name="),$>-1&&(q=K.slice($+6,K.indexOf('"',$+6))),q&&(X=K.slice(K.indexOf(">")+1,K.indexOf("</Item>")).trim(),null!=Q?J.has(q)?J.get(q)[Q]=X:J.set(q,[X]):J.set(q,X)),Q=null;const ee=J.get("STATISTICS_MINIMUM"),te=J.get("STATISTICS_MAXIMUM"),oe=J.get("STATISTICS_MEAN"),re=J.get("STATISTICS_STDDEV");let ne=null;if(ee&&te){ne=[];for(let j=0;j<ee.length;j++)ne.push({min:parseFloat(ee[j]),max:parseFloat(te[j]),avg:oe&&parseFloat(oe[j]),stddev:re&&parseFloat(re[j])})}const ie=J.get("BandName"),ae=J.get("WavelengthMin"),se=J.get("WavelengthMax");let le=null;if(ie){le=[];for(let j=0;j<ie.length;j++)le.push({BandName:ie[j],WavelengthMin:ae&&parseFloat(ae[j]),WavelengthMax:se&&parseFloat(se[j])})}return{statistics:ne,bandProperties:le,dataType:J.get("DataType"),rawMetadata:J}};function L(j,Z,J){let K=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,q=arguments.length>4&&void 0!==arguments[4]&&arguments[4],X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4;if(J.values)return!0;const $=J.type,Q=J.valueCount;let ee=J.valueOffset,te=[];const oe=re[$],ie=8*oe,ae=Q*oe,se=Q*re[$]*8;let le,ue;const ce=8===X?64:32,he=J.valueOffsets;if(se>ce&&ae>(q?j.byteLength:j?j.byteLength-ee+K:0))return J.offlineOffsetSize=[ee,ae],J.values=null,!1;if(se<=ce){if(!Z)if(ce<=32)ee>>>=32-se;else{const j=null!==he&&void 0!==he&&he.length?he[0]:ee>>>0,Z=null!==he&&void 0!==he&&he.length?he[1]:Math.round((ee-j)/ne);se<=32?(ee=j>>>32-se,he[0]=ee):(ee=j*2**(32-se)+(Z>>>32-se),he[0]=j,he[1]=Z>>>32-se)}if(1===Q&&ie===ce)te=[ee];else if(64===ce){const j=null!==he&&void 0!==he&&he.length?he[0]:ee>>>0,Z=null!==he&&void 0!==he&&he.length?he[1]:Math.round((ee-j)/ne);let J=j,K=32;for(ue=1;ue<=Q;ue++){const j=32-ie*ue%32;if(K<ie){const q=J<<j>>>32-K,X=Z<<32-K>>>32-K;J=Z,te.push(q+X*2**(ie-K)),K-=32-(ie-K)}else te.push(J<<j>>>32-ie),K-=ie;0===K&&(K=32,J=Z)}}else for(ue=1;ue<=Q;ue++){const j=32-ie*ue;te.push(ee<<j>>>32-ie)}}else{ee-=K,q&&(ee=0);for(let J=ee;J<ee+ae;J+=oe){switch($){case 1:case 2:case 7:le=new DataView(j,J,1).getUint8(0);break;case 3:le=new DataView(j,J,2).getUint16(0,Z);break;case 4:case 13:le=new DataView(j,J,4).getUint32(0,Z);break;case 5:le=new DataView(j,J,4).getUint32(0,Z)/new DataView(j,J+4,4).getUint32(0,Z);break;case 6:le=new DataView(j,J,1).getInt8(0);break;case 8:le=new DataView(j,J,2).getInt16(0,Z);break;case 9:le=new DataView(j,J,4).getInt32(0,Z);break;case 10:le=new DataView(j,J,4).getInt32(0,Z)/new DataView(j,J+4,4).getInt32(0,Z);break;case 11:le=new DataView(j,J,4).getFloat32(0,Z);break;case 12:le=new DataView(j,J,8).getFloat64(0,Z);break;case 16:case 18:le=C(new DataView(j,J,8),0,Z);break;case 17:le=G(new DataView(j,J,8),0,Z);break;default:le=null}te.push(le)}}if(2===$){let j="";const Z=te;for(te=[],ue=0;ue<Z.length;ue++)0===Z[ue]&&""!==j?(te.push(j),j=""):j+=String.fromCharCode(Z[ue]);""===j&&0!==te.length||te.push(j)}return J.values=te,!0}function R(j){var Z,J;const K=j[0],q=d(K,"TILEWIDTH"),X=d(K,"TILELENGTH"),$=d(K,"IMAGEWIDTH"),Q=d(K,"IMAGELENGTH"),ee=d(K,"BITSPERSAMPLE"),te=d(K,"SAMPLESPERPIXEL"),oe=null!==(Z=d(K,"SAMPLEFORMAT"))&&void 0!==Z?Z:1,re=h(oe,ee),ne=D(K),ae=T(K,"GDAL_NODATA");let se=null;(null===ae||void 0===ae?void 0:ae.length)&&(se=ae.map((j=>parseFloat(j))),se.some((j=>isNaN(j)))&&(se=null));const le=null!==(J=d(K,"COMPRESSION"))&&void 0!==J?J:1;let ue;switch(le){case 1:ue="NONE";break;case 2:case 3:case 4:case 32771:ue="CCITT";break;case 5:ue="LZW";break;case 6:case 7:ue="JPEG";break;case 32773:ue="PACKBITS";break;case 8:case 32946:ue="DEFLATE";break;case 34712:ue="JPEG2000";break;case 34887:ue="LERC";break;default:ue=String(le)}let ce=!0,he="";ie.has(le)||(ce=!1,he+="unsupported tag compression "+le),oe>3&&(ce=!1,he+="unsupported tag sampleFormat "+oe),1!==ee&&2!==ee&&4!==ee&&ee%8!=0&&(ce=!1,he+="unsupported tag bitsPerSample "+ee);const de=w(K,"GEOASCIIPARAMS");let fe;if(de){const j=de.split("|").find((j=>j.includes("ESRI PE String = "))),Z=j?j.replace("ESRI PE String = ",""):"";fe=Z.startsWith("COMPD_CS")||Z.startsWith("PROJCS")||Z.startsWith("GEOGCS")?{wkid:null,wkt:Z}:null}const pe=I(K,"GEOTIEPOINTS"),me=I(K,"GEOPIXELSCALE"),ge=I(K,"GEOTRANSMATRIX"),ve=K.has("GEOKEYDIRECTORY")?K.get("GEOKEYDIRECTORY").data:null;let ye,Ce,we=!1,be=!1;if(ve){we=2===d(ve,"GTRasterTypeGeoKey");const j=d(ve,"GTModelTypeGeoKey");if(2===j){const j=d(ve,"GeographicTypeGeoKey");j>=1024&&j<=32766&&(fe={wkid:j}),fe||32767!==j||(be=!0,fe={wkid:4326})}else if(1===j){const j=d(ve,"ProjectedCSTypeGeoKey");j>=1024&&j<=32766&&(fe={wkid:j})}}if(me&&pe&&pe.length>=6?(ye=[me[0],0,pe[3]-pe[0]*me[0],0,-Math.abs(me[1]),pe[4]-pe[1]*me[1]],we&&(ye[2]-=.5*ye[0]+.5*ye[1],ye[5]-=.5*ye[3]+.5*ye[4])):ge&&16===ge.length&&(ye=we?[ge[0],ge[1],ge[3]-.5*ge[0],ge[4],ge[5],ge[7]-.5*ge[5]]:[ge[0],ge[1],ge[3],ge[4],ge[5],ge[7]]),ye){const j=[{x:0,y:Q},{x:0,y:0},{x:$,y:Q},{x:$,y:0}];let Z,J=Number.POSITIVE_INFINITY,K=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY,X=Number.NEGATIVE_INFINITY;for(let $=0;$<j.length;$++)Z=E(j[$],ye),J=Z.x>J?J:Z.x,q=Z.x<q?q:Z.x,K=Z.y>K?K:Z.y,X=Z.y<X?X:Z.y;Ce={xmin:J,xmax:q,ymin:K,ymax:X,spatialReference:fe}}else Ce={xmin:-.5,ymin:.5-Q,xmax:$-.5,ymax:.5,spatialReference:fe};be&&(Ce.xmax-Ce.xmin>400||Math.max(Math.abs(Ce.xmin),Math.abs(Ce.xmax))>361)&&(fe=null,Ce.spatialReference=null);const Se=U(j);let Ae,Ie,Te,ke,xe;if(Se.length>0){Te=Math.round(Math.log($/d(Se[0],"IMAGEWIDTH"))/Math.LN2);const j=Se[Se.length-1];ke=Math.round(Math.log($/d(j,"IMAGEWIDTH"))/Math.LN2),Ae=d(j,"TILEWIDTH"),Ie=d(j,"TILELENGTH")}Ae=null!=ke&&ke>0?Ae||q:null,Ie=null!=ke&&ke>0?Ie||X:null,q&&(xe=[{maxCol:Math.ceil($/q)-1,maxRow:Math.ceil(Q/X)-1,minRow:0,minCol:0}],Se.forEach((j=>{xe.push({maxCol:Math.ceil(d(j,"IMAGEWIDTH")/d(j,"TILEWIDTH"))-1,maxRow:Math.ceil(d(j,"IMAGELENGTH")/d(j,"TILELENGTH"))-1,minRow:0,minCol:0})})));const Ee=w(j[0],"GDAL_METADATA"),Pe=x(Ee);return he+=" "+V({width:$,height:Q,tileWidth:q,tileHeight:X,planes:te,ifds:j}),{width:$,height:Q,tileWidth:q,tileHeight:X,planes:te,isBSQ:ne,pixelType:re,compression:ue,noData:se,hasMaskBand:N(j).length===Se.length+1,isSupported:ce,message:he,extent:Ce,isPseudoGeographic:be,affine:me?null:ye,firstPyramidLevel:Te,maximumPyramidLevel:ke,pyramidBlockWidth:Ae,pyramidBlockHeight:Ie,tileBoundary:xe,metadata:Pe}}function D(j,Z){const J=T(j,"PLANARCONFIGURATION");return J?2===J[0]:!!Z&&Z.isBSQ}function U(j){return j.filter((j=>1===d(j,"NEWSUBFILETYPE")))}function N(j){return j.filter((j=>{var Z;const J=4==(4&(null!==(Z=d(j,"NEWSUBFILETYPE"))&&void 0!==Z?Z:0)),K=4===d(j,"PHOTOMETRICINTERPRETATION");return J&&K}))}function C(j,Z,J){const K=j.getUint32(Z,J),q=j.getUint32(Z+4,J);return J?q*ne+K:K*ne+q}function G(j,Z,J){let K=J?j.getInt32(Z,J):j.getUint32(Z,J),q=J?j.getUint32(Z+4,J):j.getInt32(Z+4,J);const X=(J?K:q)>=0?1:-1;return J?K*=X:q*=X,X*(J?q*ne+K:K*ne+q)}function v(j,Z,J,K){return K?C(j,Z,J):j.getUint32(Z,J)}function F(j){const Z=new DataView(j,0,16),J=Z.getUint16(0,!1);let K=null;if(18761===J)K=!0;else{if(19789!==J)throw new Error("unexpected endianess byte");K=!1}const q=Z.getUint16(2,K);if(42!==q&&43!==q)throw new Error("unexpected tiff identifier");let X=4;const $=43===q;if($){const j=Z.getUint16(X,K);if(X+=2,8!==j)throw new Error("unsupported bigtiff version");if(0!==Z.getUint16(X,K))throw new Error("unsupported bigtiff version");X+=2}return{littleEndian:K,isBigTiff:$,firstIFDPos:v(Z,X,K,$)}}function B(j,Z,J){let q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,X=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ee.A.tiffTags;const $=p(j,Z,J,q,X,arguments.length>5&&void 0!==arguments[5]?arguments[5]:4);let Q;const te=$.ifd;if(te){if(ee.A.ifdTags.forEach(((J,K)=>{te.has(K)&&(Q=te.get(K),Q.data=p(j,Z,Q.valueOffset-q,q,J).ifd)})),te.has("GEOKEYDIRECTORY")){Q=te.get("GEOKEYDIRECTORY");const J=Q.values;if(J&&J.length>4){const K=J[0]+"."+J[1]+"."+J[2];Q.data=p(j,Z,Q.valueOffset+6-q,q,ee.A.geoKeys,2).ifd,Q.data&&Q.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[K]})}}if(te.has("XMP")){Q=te.get("XMP");const j=Q.values;"number"==typeof j[0]&&7===Q.type&&(Q.values=[(0,K.w)(new Uint8Array(j))])}}return $}function V(j){const{width:Z,height:J,tileHeight:K,tileWidth:q}=j,X=j.planes,$=q?q*K:Z*J,Q=d(j.ifds[0],"BITSPERSAMPLE");let ee="";return $*X>2**30/(Q>8?Q/8:1)&&(ee=q?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),ee}async function H(j,Z){var J,K;const{headerInfo:q,ifd:X,offsets:$,sizes:ee}=Z,te=[];for(let Q=0;Q<$.length;Q++){ee[Q];const Z=await M(j,q.littleEndian,X,$[Q],ee[Q]||j.byteLength);te.push(Z)}const oe=D(X,q),re=d(X,"BITSPERSAMPLE"),ne=h(null!==(J=d(X,"SAMPLEFORMAT"))&&void 0!==J?J:1,re),ie=d(X,"SAMPLESPERPIXEL")||q.planes,ae=g(ne),se=d(X,"TILEWIDTH"),le=d(X,"TILELENGTH"),ue=null!==(K=d(X,"COMPRESSION"))&&void 0!==K?K:1,ce=se*le;let he;const de=[];let fe=te[0];const pe=34887===ue;for(let Q=0;Q<ie;Q++){if(he=new ae(ce),te.length===ie)fe=te[Q],fe.length===ce&&(he=fe);else if(fe.length)if(oe||pe)he=fe.length===ce?fe:fe.slice(ce*Q,ce*(Q+1));else for(let j=0;j<ce;j++)he[j]=fe[j*ie+Q];de.push(he)}const me=q.noData?q.noData[0]:Z.noDataValue,ge=q.metadata?q.metadata.statistics:null,ve=ge?ge.map((j=>j.min)):null,ye=ge?ge.map((j=>j.max)):null,Ce={pixelType:ne,width:se,height:le,pixels:de,noDataValue:me};return null!=me?(0,Q.Sp)(Ce,me):ve&&ye&&Z.applyMinMaxConstraint&&(Ce.mask=O(de,ve,ye)),Ce}async function Y(j){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const J=Z.pyramidLevel||0,K=Z.headerInfo||function k(j){const{littleEndian:Z,isBigTiff:J,firstIFDPos:K}=F(j);let q=K;const X=[];do{const K=B(j,Z,q,0,ee.A.tiffTags,J?8:4);if(!K.success)break;X.push(K.ifd),q=K.nextIFD}while(q>0);return{...R(X),littleEndian:Z,isBigTiff:J,ifds:X,pyramidIFDs:U(X),maskIFDs:N(X)}}(j),{ifds:q,noData:X}=K;if(0===q.length)throw new Error("no valid image file directory");const $=V(K);if($)throw $;let te=null;const oe=-1===J?q[q.length-1]:q[J],re=null!==X&&void 0!==X?X:Z.noDataValue;return te=K.tileWidth?await async function P(j,Z,J){var K;const q=I(J,"TILEOFFSETS");if(void 0===q)return null;const X=I(J,"TILEBYTECOUNTS"),{width:$,height:Q,pixelType:ee,tileWidth:te,tileHeight:oe}=R([J]),re=D(J,Z),ne=d(J,"SAMPLESPERPIXEL")||Z.planes,ie=$*Q,ae=d(J,"BITSPERSAMPLE"),se=34887===(null!==(K=d(J,"COMPRESSION"))&&void 0!==K?K:1),le=g(ee),ue=[];for(let ke=0;ke<ne;ke++)ue.push(new le(ie));let ce,he,de,fe,pe,me,ge,ve,ye,Ce,we,be,Se;const Ae=Math.ceil($/te),Ie=new Uint8Array(ie).fill(255);let Te=!1;if(ae%8==0)if(se&&re&&ne>1){const K=Math.round(q.length/ne);for(ce=0;ce<K;ce++){me=Math.floor(ce/Ae)*oe,ge=ce%Ae*te,ve=me*$+ge;for(let K=0;K<ne;K++){const ee=ce*ne+K;for(0===X[ee]?(de=null,Te=!0):de=await M(j,Z.littleEndian,J,q[ee],X[ee]),Ce=0,ye=ve,be=Math.min(te,$-ge),we=Math.min(oe,Q-me),Se=ue[K],fe=0;fe<we;fe++)for(ye=ve+fe*$,Ce=fe*te,pe=0;pe<be;pe++,ye++,Ce++)de?Se[ye]=de[Ce]:Ie[ye]=0}}}else for(ce=0;ce<q.length;ce++)for(me=Math.floor(ce/Ae)*oe,ge=ce%Ae*te,ve=me*$+ge,0===X[ce]?(de=null,Te=!0):de=await M(j,Z.littleEndian,J,q[ce],X[ce]),Ce=0,ye=ve,be=Math.min(te,$-ge),we=Math.min(oe,Q-me),he=0;he<ne;he++)if(Se=ue[he],re||se)for(fe=0;fe<we;fe++)for(ye=ve+fe*$,Ce=te*oe*he+fe*te,pe=0;pe<be;pe++,ye++,Ce++)de?Se[ye]=de[Ce]:Ie[ye]=0;else for(fe=0;fe<we;fe++)for(ye=ve+fe*$,Ce=fe*te*ne+he,pe=0;pe<be;pe++,ye++,Ce+=ne)de?Se[ye]=de[Ce]:Ie[ye]=0;return{width:$,height:Q,pixelType:ee,pixels:ue,mask:Te?Ie:void 0}}(j,K,oe):b(j,K,oe),te?(null!=re&&(0,Q.Sp)(te,re),te):te}},73741:(j,Z,J)=>{J.d(Z,{A:()=>Q});const K=(()=>{const j=[];return j[254]="NEWSUBFILETYPE",j[255]="SUBFILETYPE",j[256]="IMAGEWIDTH",j[257]="IMAGELENGTH",j[258]="BITSPERSAMPLE",j[259]="COMPRESSION",j[262]="PHOTOMETRICINTERPRETATION",j[263]="THRESHHOLDING",j[264]="CELLWIDTH",j[265]="CELLLENGTH",j[266]="FILLORDER",j[269]="DOCUMENTNAME",j[270]="IMAGEDESCRIPTION",j[271]="MAKE",j[272]="MODEL",j[273]="STRIPOFFSETS",j[274]="ORIENTATION",j[277]="SAMPLESPERPIXEL",j[278]="ROWSPERSTRIP",j[279]="STRIPBYTECOUNTS",j[280]="MINSAMPLEVALUE",j[281]="MAXSAMPLEVALUE",j[282]="XRESOLUTION",j[283]="YRESOLUTION",j[284]="PLANARCONFIGURATION",j[285]="PAGENAME",j[286]="XPOSITION",j[287]="YPOSITION",j[288]="FREEOFFSETS",j[289]="FREEBYTECOUNTS",j[290]="GRAYRESPONSEUNIT",j[291]="GRAYRESPONSECURVE",j[292]="T4OPTIONS",j[293]="T6OPTIONS",j[296]="RESOLUTIONUNIT",j[297]="PAGENUMBER",j[300]="COLORRESPONSEUNIT",j[301]="TRANSFERFUNCTION",j[305]="SOFTWARE",j[306]="DATETIME",j[315]="ARTIST",j[316]="HOSTCOMPUTER",j[317]="PREDICTOR",j[318]="WHITEPOINT",j[319]="PRIMARYCHROMATICITIES",j[320]="COLORMAP",j[321]="HALFTONEHINTS",j[322]="TILEWIDTH",j[323]="TILELENGTH",j[324]="TILEOFFSETS",j[325]="TILEBYTECOUNTS",j[326]="BADFAXLINES",j[327]="CLEANFAXDATA",j[328]="CONSECUTIVEBADFAXLINES",j[330]="SUBIFD",j[332]="INKSET",j[333]="INKNAMES",j[334]="NUMBEROFINKS",j[336]="DOTRANGE",j[337]="TARGETPRINTER",j[338]="EXTRASAMPLES",j[339]="SAMPLEFORMAT",j[340]="SMINSAMPLEVALUE",j[341]="SMAXSAMPLEVALUE",j[342]="TRANSFERRANGE",j[347]="JPEGTABLES",j[512]="JPEGPROC",j[513]="JPEGIFOFFSET",j[514]="JPEGIFBYTECOUNT",j[515]="JPEGRESTARTINTERVAL",j[517]="JPEGLOSSLESSPREDICTORS",j[518]="JPEGPOINTTRANSFORM",j[519]="JPEGQTABLES",j[520]="JPEGDCTABLES",j[521]="JPEGACTABLES",j[529]="YCBCRCOEFFICIENTS",j[530]="YCBCRSUBSAMPLING",j[531]="YCBCRPOSITIONING",j[532]="REFERENCEBLACKWHITE",j[700]="XMP",j[33550]="GEOPIXELSCALE",j[33922]="GEOTIEPOINTS",j[33432]="COPYRIGHT",j[42112]="GDAL_METADATA",j[42113]="GDAL_NODATA",j[50844]="RPCCOEFFICIENT",j[34264]="GEOTRANSMATRIX",j[34735]="GEOKEYDIRECTORY",j[34736]="GEODOUBLEPARAMS",j[34737]="GEOASCIIPARAMS",j[34665]="EXIFIFD",j[34853]="GPSIFD",j[40965]="INTEROPERABILITYIFD",j})(),q=(()=>{const j=K.slice();return j[36864]="ExifVersion",j[40960]="FlashpixVersion",j[40961]="ColorSpace",j[42240]="Gamma",j[37121]="ComponentsConfiguration",j[37122]="CompressedBitsPerPixel",j[40962]="PixelXDimension",j[40963]="PixelYDimension",j[37500]="MakerNote",j[37510]="UserComment",j[40964]="RelatedSoundFile",j[36867]="DateTimeOriginal",j[36868]="DateTimeDigitized",j[36880]="OffsetTime",j[36881]="OffsetTimeOriginal",j[36882]="OffsetTimeDigitized",j[37520]="SubSecTime",j[37521]="SubSecTimeOriginal",j[37522]="SubSecTimeDigitized",j[37888]="Temperature",j[37889]="Humidity",j[37890]="Pressure",j[37891]="WaterDepth",j[37892]="Acceleration",j[37893]="CameraElevationAngle",j[42016]="ImageUniqueID",j[42032]="CameraOwnerName",j[42033]="BodySerialNumber",j[42034]="LensSpecification",j[42035]="LensMake",j[42036]="LensModel",j[42037]="LensSerialNumber",j[33434]="ExposureTime",j[33437]="FNumber",j[34850]="ExposureProgram",j[34852]="SpectralSensitivity",j[34855]="PhotographicSensitivity",j[34856]="OECF",j[34864]="SensitivityType",j[34865]="StandardOutputSensitivity",j[34866]="RecommendedExposureIndex",j[34867]="ISOSpeed",j[34868]="ISOSpeedLatitudeyyy",j[34869]="ISOSpeedLatitudezzz",j[37377]="ShutterSpeedValue",j[37378]="ApertureValue",j[37379]="BrightnessValue",j[37380]="ExposureBiasValue",j[37381]="MaxApertureValue",j[37382]="SubjectDistance",j[37383]="MeteringMode",j[37384]="LightSource",j[37385]="Flash",j[37386]="FocalLength",j[37396]="SubjectArea",j[41483]="FlashEnergy",j[41484]="SpatialFrequencyResponse",j[41486]="FocalPlaneXResolution",j[41487]="FocalPlaneYResolution",j[41488]="FocalPlaneResolutionUnit",j[41492]="SubjectLocation",j[41493]="ExposureIndex",j[41495]="SensingMethod",j[41728]="FileSource",j[41729]="SceneType",j[41730]="CFAPattern",j[41985]="CustomRendered",j[41986]="ExposureMode",j[41987]="WhiteBalance",j[41988]="DigitalZoomRatio",j[41989]="FocalLengthIn35mmFilm",j[41990]="SceneCaptureType",j[41991]="GainControl",j[41992]="Contrast",j[41993]="Saturation",j[41994]="Sharpness",j[41995]="DeviceSettingDescription",j[41996]="SubjectDistanceRange",j})(),X=(()=>{const j=[];return j[1024]="GTModelTypeGeoKey",j[1025]="GTRasterTypeGeoKey",j[1026]="GTCitationGeoKey",j[2048]="GeographicTypeGeoKey",j[2049]="GeogCitationGeoKey",j[2050]="GeogGeodeticDatumGeoKey",j[2051]="GeogPrimeMeridianGeoKey",j[2052]="GeogLinearUnitsGeoKey",j[2053]="GeogLinearUnitSizeGeoKey",j[2054]="GeogAngularUnitsGeoKey",j[2055]="GeogAngularUnitSizeGeoKey",j[2056]="GeogEllipsoidGeoKey",j[2057]="GeogSemiMajorAxisGeoKey",j[2058]="GeogSemiMinorAxisGeoKey",j[2059]="GeogInvFlatteningGeoKey",j[2061]="GeogPrimeMeridianLongGeoKey",j[2060]="GeogAzimuthUnitsGeoKey",j[3072]="ProjectedCSTypeGeoKey",j[3073]="PCSCitationGeoKey",j[3074]="ProjectionGeoKey",j[3075]="ProjCoordTransGeoKey",j[3076]="ProjLinearUnitsGeoKey",j[3077]="ProjLinearUnitSizeGeoKey",j[3078]="ProjStdParallel1GeoKey",j[3079]="ProjStdParallel2GeoKey",j[3080]="ProjNatOriginLongGeoKey",j[3081]="ProjNatOriginLatGeoKey",j[3082]="ProjFalseEastingGeoKey",j[3083]="ProjFalseNorthingGeoKey",j[3084]="ProjFalseOriginLongGeoKey",j[3085]="ProjFalseOriginLatGeoKey",j[3086]="ProjFalseOriginEastingGeoKey",j[3087]="ProjFalseOriginNorthingGeoKey",j[3088]="ProjCenterLongGeoKey",j[3090]="ProjCenterEastingGeoKey",j[3091]="ProjCenterNorthingGeoKey",j[3092]="ProjScaleAtNatOriginGeoKey",j[3093]="ProjScaleAtCenterGeoKey",j[3094]="ProjAzimuthAngleGeoKey",j[3095]="ProjStraightVertPoleLongGeoKey",j[4096]="VerticalCSTypeGeoKey",j[4097]="VerticalCitationGeoKey",j[4098]="VerticalDatumGeoKey",j[4099]="VerticalUnitsGeoKey",j})(),$=new Map;$.set("EXIFIFD",q),$.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const Q={tiffTags:K,ifdTags:$,geoKeys:X,getTagName:(j,Z)=>{let J=(Z||K)[j];return void 0===J&&(J="unknown"+String(j)),J}}},94934:(j,Z,J)=>{J.d(Z,{Z:()=>K});const K=(()=>{const j=new ArrayBuffer(4),Z=new Uint8Array(j);return new Uint32Array(j)[0]=1,1===Z[0]})()},37050:(j,Z,J)=>{J.d(Z,{DP:()=>p,Nh:()=>x,Pg:()=>g,RP:()=>a,WF:()=>r,_N:()=>M,eH:()=>m,f4:()=>h,fP:()=>f,zj:()=>l});var K=J(35598),q=J(68854),X=J(73489),$=J(2188);const Q=1,ee=[.299,.587,.114];function r(j){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;Z=Math.min(Z,256);const{size:J,counts:K}=j,q=new Uint8Array(J),X=K.reduce(((j,J)=>j+J/Z),0);let $=0,Q=0,ee=0,te=X;for(let oe=0;oe<J;oe++)if(ee+=K[oe],!(oe<J-1&&ee+K[oe+1]<te)){for(;$<Z-1&&te<ee;)$++,te+=X;for(let j=Q;j<=oe;j++)q[j]=$;Q=oe+1}for(let oe=Q;oe<J;oe++)q[oe]=Z-1;return q}function a(j){const{minCutOff:Z,maxCutOff:J,gamma:K,pixelType:q,rounding:X}=j,$=j.outMin||0,Q=j.outMax||255;if(!["u8","u16","s8","s16"].includes(q))return null;const ee=Z.length;let te,oe,re=0;"s8"===q?re=-127:"s16"===q&&(re=-32767);let ne=256;["u16","s16"].includes(q)&&(ne=65536);const ie=[],ae=[],se=Q-$;for(te=0;te<ee;te++)ae[te]=J[te]-Z[te],ie[te]=0===ae[te]?0:se/ae[te];let le;const ue=[];let ce,he,de;if(K&&K.length>=ee){const j=x(ee,K);for(te=0;te<ee;te++){for(de=[],oe=0;oe<ne;oe++)if(0!==ae[te])if(ce=oe+re,le=(ce-Z[te])/ae[te],he=1,K[te]>1&&(he-=(1/se)**(le*j[te])),ce<J[te]&&ce>Z[te]){const j=he*se*le**(1/K[te])+$;de[oe]="floor"===X?Math.floor(j):"round"===X?Math.round(j):j}else ce>=J[te]?de[oe]=Q:de[oe]=$;else de[oe]=$;ue[te]=de}}else for(te=0;te<ee;te++){for(de=[],oe=0;oe<ne;oe++)if(ce=oe+re,ce<=Z[te])de[oe]=$;else if(ce>=J[te])de[oe]=Q;else{const j=(ce-Z[te])*ie[te]+$;de[oe]="floor"===X?Math.floor(j):"round"===X?Math.round(j):j}ue[te]=de}if(null!=j.contrastOffset){const Z=l(j.contrastOffset,j.brightnessOffset);for(te=0;te<ee;te++)for(de=ue[te],oe=0;oe<ne;oe++)de[oe]=Z[de[oe]]}return{lut:ue,offset:re}}function l(j,Z){const J=Math.min(Math.max(j,-100),100),K=Math.min(Math.max(null!==Z&&void 0!==Z?Z:0,-100),100),q=255;let X=0,$=0;const Q=new Uint8Array(256);for(X=0;X<256;X++)J>0&&J<100?$=(200*X-25500+510*K)/(2*(100-J))+128:J<=0&&J>-100?$=(200*X-25500+510*K)*(100+J)/2e4+128:100===J?($=200*X-25500+256*(100-J)+510*K,$=$>0?q:0):-100===J&&($=128),Q[X]=$>q?q:$<0?0:$;return Q}function f(j,Z,J){const K=[];for(let X=0;X<Z.length;X++){var q;let $=0,Q=0,te=0;"min"in Z[X]?({min:$,max:Q,avg:te}=Z[X]):[$,Q,te]=Z[X];let oe=null!==(q=te)&&void 0!==q?q:0;"u8"!==j&&(oe=255*(oe-$)/(Q-$)),J&&(oe*=ee[X]),K.push(u(oe))}return K}function u(j){if(j<=0||j>=255)return Q;let Z=0;150!==j&&(Z=j<=150?45*Math.cos(.01047*j):17*Math.sin(.021*j));const J=j+Z,K=Math.log(j/255),q=Math.log(J/255);if(0===q)return Q;const X=K/q;return isNaN(X)?Q:Math.min(9.9,Math.max(.01,X))}function m(j){const{pixels:Z,mask:J,pixelType:K,bandMasks:q}=j,X=Z.map(((j,Z)=>{var X;return function c(j,Z,J,K){let q=1/0,X=-1/0,$=0,Q=0,ee=0,te=0;const oe=j.length,re=new Map,ne=[];for(let ge=0;ge<oe;ge++){const J=j[ge];if(!Z||Z[ge]){var ie;ne.push(J);const j=(null!==(ie=re.get(J))&&void 0!==ie?ie:0)+1;re.set(J,j),j>te&&(te=j,ee=J),q=J<q?J:q,X=J>X?J:X,$+=J,Q++}}if(0===Q)return{statistics:{min:0,max:0,avg:0,stddev:0,mode:0,median:0},histogram:null};const ae=$/Q;let se=0;for(let ge=0;ge<oe;ge++)Z&&!Z[ge]||(se+=(j[ge]-ae)**2);const le=Z?Z.filter((j=>j)).length:oe,ue=le<=1?0:Math.sqrt(se/(le-1));ne.sort(((j,Z)=>j-Z));const ce=Q>>>1,he={min:q,max:X,avg:ae,stddev:ue,mode:ee,median:Q%2?ne[Math.floor(ce)]:(ne[ce-1]+ne[ce])/2};if(!K)return{statistics:he,histogram:null};if(["u8","s8","u4","u2","u1"].includes(J)){const J=X-q+1,K=new Uint32Array(J);for(let X=0;X<oe;X++)Z&&!Z[X]||K[j[X]-q]++;return{statistics:he,histogram:{min:q-.5,max:X+.5,size:J,counts:K}}}const de=256,fe=new Uint32Array(de),pe=(X-q)/de;if(0===pe)return{statistics:he,histogram:{min:q,max:X,size:1,counts:new Uint32Array(1).fill(Q)}};const me=new Uint32Array(257);for(let ge=0;ge<oe;ge++)Z&&!Z[ge]||me[Math.floor((j[ge]-q)/pe)]++;for(let ge=0;ge<255;ge++)fe[ge]=me[ge];return fe[255]=me[255]+me[de],{statistics:he,histogram:{min:q,max:X,size:de,counts:fe}}}(j,null!==(X=null===q||void 0===q?void 0:q[Z])&&void 0!==X?X:J,K,!0)}));return{statistics:X.map((j=>{let{statistics:Z}=j;return Z})),histograms:X.map((j=>{let{histogram:Z}=j;return Z}))}}function h(j){var Z;if(null===j||void 0===j||null===(Z=j.pixels)||void 0===Z||!Z.length)return null;const{pixels:J,mask:K,bandMasks:q,pixelType:X}=j,$=j.width*j.height,Q=J.length,ee=[],te=[],oe=256;let re,ne,ie,ae;for(let le=0;le<Q;le++){var se;ie=new Uint32Array(oe);const Z=J[le],Q=null!==(se=null===q||void 0===q?void 0:q[le])&&void 0!==se?se:K;if("u8"===X){if(re=255,ne=0,Q){for(let j=0;j<$;j++)if(Q[j]){const J=Z[j];re=J<re?J:re,ne=J>ne?J:ne,ie[J]++}}else for(let j=0;j<$;j++){const J=Z[j];re=J<re?J:re,ne=J>ne?J:ne,ie[J]++}ie=ie.slice(re,ne+1)}else{let J=!1;j.statistics||(j.updateStatistics(),J=!0);const K=j.statistics;re=K[le].minValue,ne=K[le].maxValue;const q=(ne-re)/oe;if(0===q){!K||j.validPixelCount||J||j.updateStatistics();const Z=(j.validPixelCount||j.width*j.height)/oe;for(let j=0;j<oe;j++)ie[j]=Math.round(Z*(j+1))-Math.round(Z*j)}else{ae=new Uint32Array(257);for(let j=0;j<$;j++)Q&&!Q[j]||ae[Math.floor((Z[j]-re)/q)]++;for(let j=0;j<255;j++)ie[j]=ae[j];ie[255]=ae[255]+ae[oe]}}const ue="u8"===X?re-.5:re,ce="u8"===X?ne+.5:ne;ee.push({min:ue,max:ce,size:ie.length,counts:ie});let he=0,de=0,fe=0;for(let j=0;j<ie.length;j++)he+=ie[j],de+=j*ie[j];const pe=de/he;for(let j=0;j<ie.length;j++)fe+=ie[j]*(j-pe)**2;const me=Math.sqrt(fe/(he-1)),ge=(ce-ue)/ie.length,ve=(pe+("u8"===X?0:.5))*ge+re,ye=me*ge;te.push({min:re,max:ne,avg:ve,stddev:ye})}return{statistics:te,histograms:ee}}function g(j){const Z=[];for(let J=0;J<j.length;J++){const{min:K,max:q,size:X,counts:$}=j[J];let Q=0,ee=0;for(let j=0;j<X;j++)Q+=$[j],ee+=j*$[j];const te=ee/Q;let oe=0;for(let j=0;j<X;j++)oe+=$[j]*(j-te)**2;const re=(q-K)/X,ne=(te+.5)*re+K,ie=Math.sqrt(oe/(Q-1))*re;Z.push({min:K,max:q,avg:ne,stddev:ie})}return Z}function p(j,Z){var J,q,Q,ee,te;const{pixelBlock:oe,bandIds:re,returnHistogramLut:ne,rasterInfo:ie}=Z;let ae=null,se=null,le=j.stretchType;if("number"==typeof le&&(le=$.x[le]),j.dra)if("minMax"===le&&null!==oe&&void 0!==oe&&oe.statistics)ae=oe.statistics.map((j=>[j.minValue,j.maxValue,0,0]));else{const j=h(oe);ae=null!=j?j.statistics:null,se=null!=j?j.histograms:null}else ae=null!==(J=j.statistics)&&void 0!==J&&J.length?j.statistics:ie.statistics,se="histograms"in j?j.histograms:void 0,se||(se=ie.histograms);"percentClip"!==le&&"histogramEqualization"!==le||(null===(q=se)||void 0===q?void 0:q.length)||(le="minMax");const ue=(null===(Q=ae)||void 0===Q?void 0:Q.length)||(null===(ee=se)||void 0===ee?void 0:ee.length)||ie.bandCount,ce=[],he=[];let de,fe,pe,me,ge,ve,ye,Ce,we;ae&&!Array.isArray(ae[0])&&(ae=ae.map((j=>[j.min,j.max,j.avg,j.stddev])));const[be,Se]=(0,X.hP)(ie.pixelType);if(null===(te=ae)||void 0===te||!te.length){for(ae=[],Ce=0;Ce<ue;Ce++)ae.push([be,Se,1,1]);"standardDeviation"===le&&(le="minMax")}switch(le){case"none":for(Ce=0;Ce<ue;Ce++)ce[Ce]=be,he[Ce]=Se;break;case"minMax":for(Ce=0;Ce<ue;Ce++){const j=ae[Ce];ce[Ce]=j[0],he[Ce]=j[1]}break;case"standardDeviation":{const{numberOfStandardDeviations:Z=2}=j;for(Ce=0;Ce<ue;Ce++){const j=ae[Ce];ce[Ce]=j[2]-Z*j[3],he[Ce]=j[2]+Z*j[3],ce[Ce]<j[0]&&(ce[Ce]=j[0]),he[Ce]>j[1]&&(he[Ce]=j[1])}}break;case"histogramEqualization":for((0,K.Lw)(se),Ce=0;Ce<ue;Ce++)ce[Ce]=se[Ce].min,he[Ce]=se[Ce].max;break;case"percentClip":for((0,K.Lw)(se),Ce=0;Ce<se.length;Ce++){for(de=se[Ce],ge=new Uint32Array(de.size),me=[...de.counts],me.length>=20&&(me[0]=me[1]=me[2]=me[me.length-1]=me[me.length-2]=0),pe=0,fe=(de.max-de.min)/de.size,ye=-.5===de.min&&1===fe?.5:0,we=0;we<de.size;we++)pe+=me[we],ge[we]=pe;for(ve=(j.minPercent||0)*pe/100,ce[Ce]=de.min+ye,we=0;we<de.size;we++)if(ge[we]>ve){ce[Ce]=de.min+fe*(we+ye);break}for(ve=(1-(j.maxPercent||0)/100)*pe,he[Ce]=de.max+ye,we=de.size-2;we>=0;we--)if(ge[we]<ve){he[Ce]=de.min+fe*(we+2-ye);break}if(he[Ce]<ce[Ce]){const j=ce[Ce];ce[Ce]=he[Ce],he[Ce]=j}}break;default:for(Ce=0;Ce<ue;Ce++){const j=ae[Ce];ce[Ce]=j[0],he[Ce]=j[1]}}let Ae,Ie,Te;return"histogramEqualization"===le?((0,K.Lw)(se),Ie=se[0].size||256,Ae=0,ne&&(Te=se.map((j=>r(j))))):(Ie=j.max||255,Ae=j.min||0),function d(j,Z){if(null==Z||0===Z.length)return j;const J=Math.max.apply(null,Z),{minCutOff:K,maxCutOff:q,outMin:X,outMax:$,histogramLut:Q}=j;return K.length===Z.length||K.length<=J?j:{minCutOff:Z.map((j=>K[j])),maxCutOff:Z.map((j=>q[j])),histogramLut:Q?Z.map((j=>Q[j])):null,outMin:X,outMax:$}}({minCutOff:ce,maxCutOff:he,outMax:Ie,outMin:Ae,histogramLut:Te},re)}function x(j,Z){const J=new Float32Array(j);for(let K=0;K<j;K++)Z[K]>1?Z[K]>2?J[K]=6.5+(Z[K]-2)**2.5:J[K]=6.5+100*(2-Z[K])**4:J[K]=1;return J}function M(j,Z){var J;if(null===j||void 0===j||null===(J=j.pixels)||void 0===J||!J.length)return j;const{mask:K,bandMasks:X,width:$,height:Q,pixels:ee}=j,{minCutOff:te,maxCutOff:oe,gamma:re}=Z,ne=Z.outMin||0,ie=Z.outMax||255,ae=$*Q,se=Z.outputPixelType||"u8",le=j.pixels.map((()=>q.A.createEmptyBand(se,ae))),ue=le.length,ce=ie-ne,he=[],de=[];for(let q=0;q<ue;q++)de[q]=oe[q]-te[q],he[q]=0===de[q]?0:ce/de[q];const fe=se.startsWith("u")||se.startsWith("s"),pe=re&&re.length>=ue,me=!!Z.isRenderer;if(pe){const j=x(ue,re);for(let Z=0;Z<ue;Z++){var ge;const J=null!==(ge=null===X||void 0===X?void 0:X[Z])&&void 0!==ge?ge:K;for(let K=0;K<ae;K++)if(null==J||J[K]){if(0===de[Z]){le[Z][K]=ne;continue}const J=ee[Z][K],q=(J-te[Z])/de[Z];let X=1;if(re[Z]>1&&(X-=(1/ce)**(q*j[Z])),J<oe[Z]&&J>te[Z]){const j=X*ce*q**(1/re[Z])+ne;le[Z][K]=me?Math.floor(j):fe?Math.round(j):j}else J>=oe[Z]?le[Z][K]=ie:le[Z][K]=ne}}}else for(let q=0;q<ue;q++){var ve;const j=null!==(ve=null===X||void 0===X?void 0:X[q])&&void 0!==ve?ve:K;for(let Z=0;Z<ae;Z++)if(null==j||j[Z]){const j=ee[q][Z];if(j<oe[q]&&j>te[q]){const J=(j-te[q])*he[q]+ne;le[q][Z]=me?Math.floor(J):fe?Math.round(J):J}else j>=oe[q]?le[q][Z]=ie:le[q][Z]=ne}}const ye=new q.A({width:$,height:Q,mask:K,bandMasks:X,pixels:le,pixelType:se});return ye.updateStatistics(),ye}},5276:(j,Z,J)=>{J.d(Z,{E0:()=>u,SC:()=>r,di:()=>h,fw:()=>o,ng:()=>n,rk:()=>$,yy:()=>c});var K=J(68854),q=J(82793);const X=1,$=1/111e3;function n(j){let{altitude:Z,azimuth:J}=j;const{hillshadeType:K,pixelSizePower:q=1,pixelSizeFactor:X=1,scalingType:Q,isGCS:ee,resolution:te}=j,oe="multi-directional"===K?2*j.zFactor:j.zFactor,{x:re,y:ne}=te;let ie=oe/(8*re),ae=oe/(8*ne);if(ee&&oe>.001&&(ie/=$,ae/=$),"adjusted"===Q)if(ee){const j=re*$,Z=ne*$;ie=(oe+j**q*X)/(8*j),ae=(oe+Z**q*X)/(8*Z)}else ie=(oe+re**q*X)/(8*re),ae=(oe+ne**q*X)/(8*ne);let se=(90-Z)*Math.PI/180,le=Math.cos(se),ue=(360-J+90)*Math.PI/180,ce=Math.sin(se)*Math.cos(ue),he=Math.sin(se)*Math.sin(ue);const de=[315,270,225,360,180,0],fe=[60,60,60,60,60,90],pe=new Float32Array([3,5,3,2,1,4]),me=pe.reduce(((j,Z)=>j+Z)),ge=pe.map((j=>j/me)),ve="multi-directional"===K?de.length:1,ye=new Float32Array(6),Ce=new Float32Array(6),we=new Float32Array(6);if("multi-directional"===K)for(let $=0;$<ve;$++)Z=fe[$],J=de[$],se=(90-Z)*Math.PI/180,le=Math.cos(se),ue=(360-J+90)*Math.PI/180,ce=Math.sin(se)*Math.cos(ue),he=Math.sin(se)*Math.sin(ue),ye[$]=le,Ce[$]=ce,we[$]=he;else ye.fill(le),Ce.fill(ce),we.fill(he);return{resolution:te,factor:[ie,ae],sinZcosA:ce,sinZsinA:he,cosZ:le,sinZcosAs:Ce,sinZsinAs:we,cosZs:ye,weights:ge,hillshadeType:["traditional","multi-directional"].indexOf(K)}}function a(j,Z){const{width:J,height:K}=j,q=J*K,$=new Uint8Array(q),Q=null!=j.mask;let ee;if(Q){ee=new Uint8Array(j.mask);for(let j=0;j<ee.length;j++)ee[j]&&($[j]=1,ee[j]=1)}const te=j.pixels[0],oe=new Float32Array(q),re=new Float32Array(q);let ne,ie=0;if(Z){const{resolution:j}=Z,J=j?(j.x+j.y)/2:1;ie=200*Z.zFactor/(J*J),ne=new Float32Array(q)}const ae=null===Z||void 0===Z?void 0:Z.curvatureType;let se,le,ue,ce,he,de,fe,pe;for(let me=X;me<K-X;me++){const j=me*J;for(let Z=X;Z<J-X;Z++){const K=j+Z;if(!ee||0!==ee[K]){if(ee){if(ee[K-J-1]+ee[K-J]+ee[K-J+1]+ee[K-1]+ee[K+1]+ee[K+J-1]+ee[K+J]+ee[K+J+1]<7){$[K]=0;continue}se=ee[K-J-1]?te[K-J-1]:te[K],le=ee[K-J]?te[K-J]:te[K],ue=ee[K-J+1]?te[K-J+1]:te[K],ce=ee[K-1]?te[K-1]:te[K],he=ee[K+1]?te[K+1]:te[K],de=ee[K+J-1]?te[K+J-1]:te[K],fe=ee[K+J]?te[K+J]:te[K],pe=ee[K+J+1]?te[K+J+1]:te[K]}else se=te[K-J-1],le=te[K-J],ue=te[K-J+1],ce=te[K-1],he=te[K+1],de=te[K+J-1],fe=te[K+J],pe=te[K+J+1];if(oe[K]=ue+he+he+pe-(se+ce+ce+de),re[K]=de+fe+fe+pe-(se+le+le+ue),null!=ne){const j=te[K],Z=.5*(ce+he)-j,J=.5*(le+fe)-j;if("standard"===ae)ne[K]=-ie*(Z+J);else{const j=(-se+ue+de-pe)/4,q=(-ce+he)/2,X=(le-fe)/2,$=q*q,Q=X*X,ee=$+Q;ee&&(ne[K]="profile"===ae?ie*(Z*$+J*Q+j*q*X)/ee:-ie*(Z*Q+J*$-j*q*X)/ee)}}}}}return{outMask:Q?$:null,dzxs:oe,dzys:re,curvatures:ne}}function l(j,Z,J){for(let K=0;K<J;K++)j[K*Z]=j[K*Z+1],j[(K+1)*Z-1]=j[(K+1)*Z-2];for(let K=1;K<Z-1;K++)j[K]=j[K+Z],j[K+(J-1)*Z]=j[K+(J-2)*Z]}function o(j,Z){if(!(0,q.AB)(j))return j;const{factor:J,sinZcosA:$,sinZsinA:Q,cosZ:ee,sinZcosAs:te,sinZsinAs:oe,cosZs:re,weights:ne}=n(Z),[ie,ae]=J,se="traditional"===Z.hillshadeType,{width:le,height:ue}=j,ce=new Uint8Array(le*ue),{dzxs:he,dzys:de,outMask:fe}=a(j);for(let K=X;K<ue-X;K++){const j=K*le;for(let Z=X;Z<le-X;Z++){const J=j+Z;if(!fe||fe[J]){const j=he[J]*ie,Z=de[J]*ae,K=Math.sqrt(1+j*j+Z*Z);let q=0;if(se){let J=255*(ee+Q*Z-$*j)/K;J<0&&(J=0),q=J}else{const J=oe.length;for(let X=0;X<J;X++){let J=255*(re[X]+oe[X]*Z-te[X]*j)/K;J<0&&(J=0),q+=J*ne[X]}}ce[J]=255&q}}}return l(ce,le,ue),new K.A({width:le,height:ue,pixels:[ce],mask:fe,pixelType:"u8",validPixelCount:j.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}function r(j,Z,J,K){if(!(0,q.AB)(j)||!(0,q.AB)(Z))return;const{min:X,max:$}=K,Q=j.pixels[0],{pixels:ee,mask:te}=Z,oe=ee[0],re=255.00001/($-X),ne=new Uint8ClampedArray(oe.length),ie=new Uint8ClampedArray(oe.length),ae=new Uint8ClampedArray(oe.length),se=J.length-1;for(let q=0;q<oe.length;q++){if(te&&0===te[q])continue;const j=Math.floor((oe[q]-X)*re),[Z,K]=J[j<0?0:j>se?se:j],$=Q[q],ee=$*K,le=ee*(1-Math.abs(Z%2-1)),ue=$-ee;switch(Math.floor(Z)){case 0:ne[q]=ee+ue,ie[q]=le+ue,ae[q]=ue;break;case 1:ne[q]=le+ue,ie[q]=ee+ue,ae[q]=ue;break;case 2:ne[q]=ue,ie[q]=ee+ue,ae[q]=le+ue;break;case 3:ne[q]=ue,ie[q]=le+ue,ae[q]=ee+ue;break;case 4:ne[q]=le+ue,ie[q]=ue,ae[q]=ee+ue;break;case 5:case 6:ne[q]=ee+ue,ie[q]=ue,ae[q]=le+ue}}j.pixels=[ne,ie,ae],j.updateStatistics()}function c(j,Z){var J,Q;if(!(0,q.AB)(j))return j;const ee=Z.zFactor,te=null!==(J=Z.pixelSizePower)&&void 0!==J?J:1,oe=null!==(Q=Z.pixelSizeFactor)&&void 0!==Q?Q:1,re=Z.slopeType,ne=Z.isGCS,{x:ie,y:ae}=Z.resolution;let se=ee/(8*ie),le=ee/(8*ae);ne&&Math.abs(ee-1)<1e-4&&(se/=$,le/=$),"adjusted"===re&&(se=(ee+ie**te*oe)/(8*ie),le=(ee+ae**te*oe)/(8*ae));const{dzxs:ue,dzys:ce,outMask:he}=a(j),{width:de,height:fe}=j,pe=new Float32Array(de*fe);for(let K=X;K<fe-X;K++){const j=K*de;for(let Z=X;Z<de-X;Z++){const J=j+Z;if(!he||he[J]){const K=ue[J]*se,q=ce[J]*le,X=Math.sqrt(K*K+q*q);pe[j+Z]="percent-rise"===re?100*X:57.2957795*Math.atan(X)}}}l(pe,de,fe);const me=new K.A({width:de,height:fe,pixels:[pe],mask:he,pixelType:"f32",validPixelCount:j.validPixelCount});return me.updateStatistics(),me}function h(j){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,q.AB)(j))return j;const{resolution:J}=Z,$=J?1/J.x:1,Q=J?1/J.y:1,{dzxs:ee,dzys:te,outMask:oe}=a(j),{width:re,height:ne}=j,ie=new Float32Array(re*ne);for(let K=X;K<ne-X;K++){const j=K*re;for(let Z=X;Z<re-X;Z++){const J=j+Z;if(!oe||oe[J]){const K=ee[J]*$,q=te[J]*Q;let X=-1;0===K&&0===q||(X=90-57.29578*Math.atan2(q,-K),X<0&&(X+=360),360===X?X=0:X>360&&(X%=360)),ie[j+Z]=X}}}return l(ie,re,ne),new K.A({width:re,height:ne,pixels:[ie],mask:oe,pixelType:"f32",validPixelCount:j.validPixelCount,statistics:[{minValue:-1,maxValue:360}]})}function u(j,Z){if(!(0,q.AB)(j))return j;const{curvatures:J,outMask:X}=a(j,Z),{width:$,height:Q}=j;l(J,$,Q);const ee=new K.A({width:$,height:Q,pixels:[J],mask:X,pixelType:"f32",validPixelCount:j.validPixelCount});return ee.updateStatistics(),ee}},24766:(j,Z,J)=>{J.d(Z,{A:()=>le});var K=J(80671),q=J(50352),X=J(83375),$=J(89412),Q=J(57453),ee=(J(50886),J(76761),J(68682)),te=J(71767),oe=J(82793),re=J(37050),ne=J(5276),ie=J(36971),ae=J(49624);let se=class extends X.oY{constructor(j){super(j)}bind(){const{rendererJSON:j}=this;if(!j)return{success:!1};let Z;switch(this.lookup={rendererJSON:{}},j.type){case"uniqueValue":Z=this._updateUVRenderer(j);break;case"rasterColormap":Z=this._updateColormapRenderer(j);break;case"rasterStretch":Z=this._updateStretchRenderer(j);break;case"classBreaks":Z=this._updateClassBreaksRenderer(j);break;case"rasterShadedRelief":Z=this._updateShadedReliefRenderer(j);break;case"vectorField":Z=this._updateVectorFieldRenderer();break;case"flowRenderer":Z=this._updateFlowRenderer()}return Z}symbolize(j){let Z=null===j||void 0===j?void 0:j.pixelBlock;if(!_(Z))return Z;if(j.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(Z,j.simpleStretchParams);try{var J;let K;switch(Z.pixels.length>3&&(Z=Z.extractBands(null!==(J=j.bandIds)&&void 0!==J?J:[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":K=this._symbolizeColormap(Z);break;case"classBreaks":K=this._symbolizeClassBreaks(Z);break;case"rasterStretch":K=this._symbolizeStretch(Z,j.bandIds);break;case"rasterShadedRelief":{const J=j.extent,q=J.spatialReference.isGeographic,X={x:(J.xmax-J.xmin)/Z.width,y:(J.ymax-J.ymin)/Z.height};K=this._symbolizeShadedRelief(Z,{isGCS:q,resolution:X});break}}return K}catch(K){return $.A.getLogger(this).error("symbolize",K.message),Z}}simpleStretch(j,Z){if(!_(j))return j;try{return j.pixels.length>3&&(j=j.extractBands([0,1,2])),(0,re._N)(j,{...Z,isRenderer:!0})}catch(J){return $.A.getLogger(this).error("symbolize",J.message),j}}generateWebGLParameters(j){if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:j,offset:Z}=this.lookup.colormapLut||{};return{colormap:j,colormapOffset:Z,type:"lut"}}const{pixelBlock:Z,isGCS:J,resolution:K,bandIds:q}=j,{rendererJSON:X}=this;return"rasterStretch"===X.type?this._generateStretchWebGLParams(Z,X,q):"rasterShadedRelief"===X.type?this._generateShadedReliefWebGLParams(X,J,null!==K&&void 0!==K?K:void 0):"vectorField"===X.type?this._generateVectorFieldWebGLParams(X):null}_isLUTChanged(j){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const Z=this.rendererJSON.colorRamp;return j?JSON.stringify(Z)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):(this.rendererJSON,this.lookup.rendererJSON,JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolizeColormap(j){return this._isLUTChanged()&&!this.bind().success?j:(0,oe.qL)(j,this.lookup.colormapLut)}_symbolizeClassBreaks(j){var Z;const{canUseIndexedLUT:J}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?j:J?(0,oe.qL)(j,this.lookup.colormapLut):(0,oe.Hx)(j,null!==(Z=this.lookup.remapLut)&&void 0!==Z?Z:[])}_symbolizeStretch(j,Z){const{rasterInfo:J}=this,{pixelType:K,bandCount:q}=J,X=this.rendererJSON,$=["u8","u16","s8","s16"].includes(K);let Q,ee;const{dra:te}=X,{gamma:ne}=this.lookup;if("histogramEqualization"===X.stretchType){var ie;const K=te?null:null===(ie=this.lookup)||void 0===ie?void 0:ie.histogramLut,q=(0,re.DP)(X,{rasterInfo:J,pixelBlock:j,bandIds:Z,returnHistogramLut:!K}),$=(0,re._N)(j,{...q,gamma:ne,isRenderer:!0});ee=(0,oe.eH)($,{lut:te?q.histogramLut:K,offset:0})}else if($){var ae;if(te){const q=(0,re.DP)(X,{rasterInfo:J,pixelBlock:j,bandIds:Z});Q=(0,re.RP)({pixelType:K,...q,gamma:ne,rounding:"floor"})}else if(this._isLUTChanged()){if(!this.bind().success)return j;Q=this.lookup?this.lookup.stretchLut:null}else Q=this.lookup?this.lookup.stretchLut:null;if(!Q)return j;q>1&&null!=Z&&Z.length===(null===j||void 0===j?void 0:j.pixels.length)&&(null===(ae=Q)||void 0===ae?void 0:ae.lut.length)===q&&(Q={lut:Z.map((j=>Q.lut[j])),offset:Q.offset}),ee=(0,oe.eH)(j,Q)}else{const K=(0,re.DP)(X,{rasterInfo:J,pixelBlock:j,bandIds:Z});ee=(0,re._N)(j,{...K,gamma:ne,isRenderer:!0})}if(X.colorRamp){var se;if(this._isLUTChanged(!0)&&!this.bind().success)return j;ee=(0,oe.qL)(ee,null===(se=this.lookup)||void 0===se?void 0:se.colormapLut)}return ee}_symbolizeShadedRelief(j,Z){var J,K;const q=this.rendererJSON,X={...q,...Z},$=(0,ne.fw)(j,X);if(!q.colorRamp)return $;let Q;if(this._isLUTChanged(!0)){if(!this.bind().success)return $;Q=this.lookup?this.lookup.hsvMap:null}else Q=this.lookup?this.lookup.hsvMap:null;if(!Q)return $;const ee=null!==(J=null===(K=this.rasterInfo.statistics)||void 0===K?void 0:K[0])&&void 0!==J?J:{min:0,max:8e3};return(0,ne.SC)($,j,Q,ee),$}_isVectorFieldData(){const{bandCount:j,dataType:Z}=this.rasterInfo;return 2===j&&("vector-magdir"===Z||"vector-uv"===Z)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:'Unsupported data type "'.concat(this.rasterInfo.dataType,'"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".')}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:'Unsupported data type "'.concat(this.rasterInfo.dataType,'"; FlowRenderer only supports "vector-magdir" and "vector-uv".')}}_updateUVRenderer(j){const{bandCount:Z,attributeTable:J,pixelType:K}=this.rasterInfo,q=j.field1;if(!q)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const X=j.defaultSymbol,$=1===Z&&["u8","s8"].includes(K);if(!(0,ae.hu)(this.rasterInfo,q)&&!$)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const Q=[];if(null!=J){const Z=J.fields.find((j=>"value"===j.name.toLowerCase()));if(!Z)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};J.features.forEach((J=>{var K,$;const ee=null===(K=j.uniqueValueInfos)||void 0===K?void 0:K.find((j=>String(j.value)===String(J.attributes[q]))),te=null===ee||void 0===ee||null===($=ee.symbol)||void 0===$?void 0:$.color;te?Q.push([J.attributes[Z.name]].concat(te)):X&&Q.push([J.attributes[Z.name]].concat(X.color))}))}else{var ee;if("value"!==q.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};null===(ee=j.uniqueValueInfos)||void 0===ee||ee.forEach((j=>{var Z;const J=null===j||void 0===j||null===(Z=j.symbol)||void 0===Z?void 0:Z.color;J?Q.push([parseInt(""+j.value,10)].concat(J)):X&&Q.push([parseInt(""+j.value,10)].concat(null===X||void 0===X?void 0:X.color))}))}if(0===Q.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const te=(0,oe.zg)({colormap:Q});return this.lookup={rendererJSON:j,colormapLut:te},this.canRenderInWebGL=this._isColormapSupportedByWebGL(null===te||void 0===te?void 0:te.indexedColormap),{success:!0}}_updateColormapRenderer(j){if(!(0,ae.FA)(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const Z=j.colormapInfos.map((j=>[j.value].concat(j.color))).sort(((j,Z)=>j[0]-Z[0]));if(!Z||0===Z.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const J=(0,oe.zg)({colormap:Z});return this.lookup={rendererJSON:j,colormapLut:J},this.canRenderInWebGL=this._isColormapSupportedByWebGL(null===J||void 0===J?void 0:J.indexedColormap),{success:!0}}_updateShadedReliefRenderer(j){if(!(0,ae.iL)(this.rasterInfo))return{success:!1,error:'Unsupported data type "'.concat(this.rasterInfo.dataType,'"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.')};if(j.colorRamp){const Z=(0,ie.R8)(j.colorRamp,{interpolateAlpha:!0}),J=(0,oe.zg)({colormap:Z}),K=[],X=J.indexedColormap;for(let j=0;j<X.length;j+=4){const Z=(0,q.N2)({r:X[j],g:X[j+1],b:X[j+2]});K.push([Z.h/60,Z.s/100,255*Z.v/100])}this.lookup={rendererJSON:j,colormapLut:J,hsvMap:K}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(j){const{attributeTable:Z,pixelType:J}=this.rasterInfo,K=null!=Z?Z.fields.find((j=>"value"===j.name.toLowerCase())):null,q=null!=Z?Z.fields.find((Z=>Z.name.toLowerCase()===j.field.toLowerCase())):null,X=null!=K&&null!==q;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(J)||X,tableValueField:K,tableBreakField:q}}_updateClassBreaksRenderer(j){const{attributeTable:Z}=this.rasterInfo,{canUseIndexedLUT:J,tableValueField:K,tableBreakField:q}=this._analyzeClassBreaks(j),X=j.classBreakInfos;if(null===X||void 0===X||!X.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const $=X.sort(((j,Z)=>j.classMaxValue-Z.classMaxValue)),Q=$[$.length-1];let ee=j.minValue;if(!J){const Z=[];for(let j=0;j<$.length;j++){var te;Z.push({value:null!==(te=$[j].classMinValue)&&void 0!==te?te:ee,mappedColor:$[j].symbol.color}),ee=$[j].classMaxValue}return Z.push({value:Q.classMaxValue,mappedColor:Q.symbol.color}),this.lookup={rendererJSON:j,remapLut:Z},this.canRenderInWebGL=!1,{success:!0}}const re=[];if(null!=Z&&null!=K&&null!==q&&K!==q){const J=K.name,X=q.name,Q=$[$.length-1],{classMaxValue:te}=Q;ee=j.minValue;for(const j of Z.features){const Z=j.attributes[J],K=j.attributes[X],q=K===te?Q:K<ee?null:$.find((j=>{let{classMaxValue:Z}=j;return Z>K}));q&&re.push([Z].concat(q.symbol.color))}}else{ee=Math.floor(j.minValue);for(let j=0;j<$.length;j++){const Z=$[j];for(let j=ee;j<Z.classMaxValue;j++)re.push([j].concat(Z.symbol.color));ee=Math.ceil(Z.classMaxValue)}Q.classMaxValue===ee&&re.push([Q.classMaxValue].concat(Q.symbol.color))}const ne=(0,oe.zg)({colormap:re,fillUnspecified:!1});return this.lookup={rendererJSON:j,colormapLut:ne},this.canRenderInWebGL=this._isColormapSupportedByWebGL(null===ne||void 0===ne?void 0:ne.indexedColormap),{success:!0}}_isColormapSupportedByWebGL(j){return!(null===j||void 0===j||!j.length)&&j.length<=16384}_isHistogramRequired(j){return"percentClip"===j||"histogramEqualization"===j}_isValidRasterStatistics(j){return null!=j&&j.length>0&&null!=j[0].min&&null!=j[0].max}_updateStretchRenderer(j){var Z,J,K;let{stretchType:q,dra:X}=j;if(!("none"===q||null!==(Z=j.statistics)&&void 0!==Z&&Z.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||X))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const $=j.histograms||this.rasterInfo.histograms;!this._isHistogramRequired(j.stretchType)||(null===$||void 0===$?void 0:$.length)||X||(q="minMax");const{computeGamma:Q,useGamma:ee,colorRamp:te}=j;let{gamma:ne}=j;if(ee&&Q&&(null===(J=ne)||void 0===J||!J.length)){var ae;const Z=null!==(ae=j.statistics)&&void 0!==ae&&ae.length?j.statistics:this.rasterInfo.statistics;ne=(0,re.fP)(this.rasterInfo.pixelType,Z)}const se=this.rasterInfo.pixelType,le=!X&&["u8","u16","s8","s16"].includes(se);if("histogramEqualization"===q){const Z=$.map((j=>(0,re.WF)(j)));this.lookup={rendererJSON:j,histogramLut:Z}}else if(le){const Z=(0,re.DP)(j,{rasterInfo:this.rasterInfo}),J=(0,re.RP)({pixelType:se,...Z,gamma:ee?ne:null,rounding:"floor"});this.lookup={rendererJSON:j,stretchLut:J}}if(te&&!this._isStretchColorRampNoop(te)){const Z=(0,ie.R8)(te,{interpolateAlpha:!0});this.lookup||(this.lookup={rendererJSON:j}),this.lookup.colormapLut=(0,oe.zg)({colormap:Z}),this.lookup.rendererJSON=j}return this.lookup.gamma=ee&&null!==(K=ne)&&void 0!==K&&K.length?ne:null,this.canRenderInWebGL=!0,{success:!0}}_isStretchColorRampNoop(j){return"algorithmic"===j.type&&["0,0,0,255","0,0,0"].includes(j.fromColor.join(","))&&["255,255,255,255","255,255,255"].includes(j.toColor.join(","))}_generateStretchWebGLParams(j,Z,J){var K;let q=null,X=null;const $=null===(K=this.lookup)||void 0===K?void 0:K.colormapLut;Z.colorRamp&&$&&(q=$.indexedColormap,X=$.offset),"histogramEqualization"===Z.stretchType&&(Z={...Z,stretchType:"minMax"});const{gamma:Q}=this.lookup,ee=!!(Z.useGamma&&Q&&Q.some((j=>1!==j))),{minCutOff:te,maxCutOff:oe,outMin:ne,outMax:ie}=(0,re.DP)(Z,{rasterInfo:this.rasterInfo,pixelBlock:j,bandIds:J});let ae=0;null!=j&&(ae=j.getPlaneCount(),2===ae&&((j=j.clone()).statistics=[j.statistics[0]],j.pixels=[j.pixels[0]]));const{bandCount:se}=this.rasterInfo,le=Math.min(3,(null===J||void 0===J?void 0:J.length)||ae||se,se),ue=new Float32Array(le),ce=q||ee?1:255;let he;for(he=0;he<te.length;he++)ue[he]=oe[he]===te[he]?0:(ie-ne)/(oe[he]-te[he])/ce;const de=new Float32Array(le);if(ee&&Q)for(he=0;he<le;he++)Q[he]>1?Q[he]>2?de[he]=6.5+(Q[he]-2)**2.5:de[he]=6.5+100*(2-Q[he])**4:de[he]=1;return{bandCount:le,outMin:ne/ce,outMax:ie/ce,minCutOff:te,maxCutOff:oe,factor:ue,useGamma:ee,gamma:ee?Q:[1,1,1],gammaCorrection:ee?de:[1,1,1],colormap:q,colormapOffset:X,stretchType:Z.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(j){var Z,J,K,q;let X=arguments.length>1&&void 0!==arguments[1]&&arguments[1],$=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},Q=null,ee=null;const te=null===(Z=this.lookup)||void 0===Z?void 0:Z.colormapLut;j.colorRamp&&te&&(Q=te.indexedColormap,ee=te.offset);const oe={...j,isGCS:X,resolution:$},re=(0,ne.ng)(oe),ie=null===(J=this.rasterInfo.statistics)||void 0===J?void 0:J[0];return{...re,minValue:null!==(K=null===ie||void 0===ie?void 0:ie.min)&&void 0!==K?K:0,maxValue:null!==(q=null===ie||void 0===ie?void 0:ie.max)&&void 0!==q?q:8e3,hillshadeType:"traditional"===j.hillshadeType?0:1,type:"hillshade",colormap:Q,colormapOffset:ee}}_generateVectorFieldWebGLParams(j){var Z,J,K,q,X,$,Q,ee;const{style:te,inputUnit:oe,outputUnit:re,visualVariables:ne,symbolTileSize:ie,flowRepresentation:ae}=j;let se;const le=null!==(Z=null===(J=this.rasterInfo.statistics)||void 0===J?void 0:J[0].min)&&void 0!==Z?Z:0,ue=null!==(K=null===(q=this.rasterInfo.statistics)||void 0===q?void 0:q[0].max)&&void 0!==K?K:50,ce=null!==(X=null===ne||void 0===ne?void 0:ne.find((j=>"sizeInfo"===j.type)))&&void 0!==X?X:{type:"sizeInfo",field:"Magnitude",maxDataValue:ue,maxSize:.8*ie,minDataValue:le,minSize:.2*ie},he=null!==($=ce.minDataValue)&&void 0!==$?$:le,de=null!==(Q=ce.maxDataValue)&&void 0!==Q?Q:ue,fe=null!=ce.maxSize&&null!=ce.minSize?[ce.minSize/ie,ce.maxSize/ie]:[.2,.8];if("wind_speed"===te){const j=(fe[0]+fe[1])/2;fe[0]=fe[1]=j}const pe=null!=he&&null!=de?[he,de]:null;if("classified_arrow"===te)if(null!=he&&null!=de&&null!=ce){se=[];const j=(ce.maxDataValue-ce.minDataValue)/5;for(let Z=0;Z<6;Z++)se.push(ce.minDataValue+j*Z)}else se=[0,1e-6,3.5,7,10.5,14];const me="flow_to"===ae===("ocean_current_kn"===te||"ocean_current_m"===te)?0:Math.PI,ge=null===ne||void 0===ne?void 0:ne.find((j=>"rotationInfo"===j.type));return{breakValues:se,dataRange:pe,inputUnit:oe,outputUnit:re,symbolTileSize:ie,symbolPercentRange:fe,style:te||"single_arrow",rotation:me,rotationType:null!==(ee=this.rasterInfo.storageInfo)&&void 0!==ee&&ee.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":(null===ge||void 0===ge?void 0:ge.rotationType)||j.rotationType,type:"vectorField"}}};function _(j){return(0,oe.AB)(j)&&0!==j.validPixelCount}(0,K._)([(0,Q.MZ)({json:{write:!0}})],se.prototype,"rendererJSON",void 0),(0,K._)([(0,Q.MZ)({type:te.A,json:{write:!0}})],se.prototype,"rasterInfo",void 0),(0,K._)([(0,Q.MZ)({json:{write:!0}})],se.prototype,"lookup",void 0),(0,K._)([(0,Q.MZ)()],se.prototype,"canRenderInWebGL",void 0),se=(0,K._)([(0,ee.$)("esri.renderers.support.RasterSymbolizer")],se);const le=se},36971:(j,Z,J)=>{J.d(Z,{L7:()=>Q,M5:()=>c,R8:()=>B,hf:()=>G,hs:()=>d,iv:()=>w,kH:()=>te,vL:()=>A,vj:()=>ee});var K=J(22123),q=J(50352),X=J(40530),$=J(83375);const Q=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],ee=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],te=new X.J({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function g(j,Z){if(!j||!Z||j.length!==Z.length)return!1;for(let J=0;J<j.length;J++)if(j[J]>Z[J]+2||j[J]<Z[J]-2)return!1;return!0}function p(j){const Z=j.clone();return Z.fromColor=j.toColor,Z.toColor=j.fromColor,Z.algorithm=j.algorithm,Z}function f(j,Z){if(!j)return;const J=null!==Z&&void 0!==Z?Z:ee;let q=null;return"algorithmic"===j.type?J.some((Z=>{if(g(j.fromColor.toRgb(),Z.fromColor)&&g(j.toColor.toRgb(),Z.toColor))return q=Z.id,!0})):"multipart"===j.type&&J.some((Z=>{const J=j.colorRamps,X=Z.colorRamps;if(J&&X&&J.length===X.length&&!X.some(((j,Z)=>{if(!g(J[Z].fromColor.toRgb(),new K.A(j.fromColor).toRgb())||!g(J[Z].toColor.toRgb(),new K.A(j.toColor).toRgb()))return!0}))){if(q)return!0;q=Z.id}})),q}function s(j,Z){let J=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!j)return;let K=!1,q=f(j,Z);return null!=q||J||(K=!0,q=f(j=function u(j){if("multipart"===j.type){var Z;const J=j.clone();return null!==(Z=J.colorRamps)&&void 0!==Z&&Z.length?(J.colorRamps=J.colorRamps.reverse().map((j=>p(j))),J):J}return p(j)}(j),Z)),q?{id:q,inverted:K}:void 0}function d(j){var Z;const J="string"==typeof j?j:null===(Z=s(j,void 0,arguments.length>1&&void 0!==arguments[1]&&arguments[1]))||void 0===Z?void 0:Z.id;return J?te.toJSON(J):null}function c(j){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"esriCIELabAlgorithm";const J=ee.find((Z=>{let{id:J}=Z;return J===j}));return J?J.colorRamps?{type:"multipart",colorRamps:J.colorRamps.map((j=>({type:"algorithmic",algorithm:Z,fromColor:[...j.fromColor],toColor:[...j.toColor]})))}:{type:"algorithmic",algorithm:Z,fromColor:[...J.fromColor],toColor:[...J.toColor]}:null}function h(j){const Z=(j=j||{}).numColors||256,J=j.distanceOffset||0,K=null!=j.isCustomInterval?j.isCustomInterval:null!==j.distanceInterval&&j.distanceInterval!==1/(Z-1),q=j.distanceInterval||1/(Z-1);return{...j,numColors:Z,distanceOffset:J,interpolateAlpha:!!j.interpolateAlpha,distanceInterval:q,isCustomInterval:K,weights:j.weights}}function y(j,Z){var J,K;let{fromColor:X,toColor:$}=j;X=[...X],$=[...$],3===X.length&&(X=X.concat([255])),3===$.length&&($=$.concat([255]));const Q=j.algorithm||"esriCIELabAlgorithm",ee=h(Z),{numColors:te,distanceOffset:oe,isCustomInterval:re,interpolateAlpha:ne}=ee;if(1===te&&0===oe)return[X];if(2===te&&0===oe&&!re)return[X,$];const ie={r:X[0],g:X[1],b:X[2]},ae={r:$[0],g:$[1],b:$[2]},se="esriCIELabAlgorithm"===Q?function v(j,Z,J){const{numColors:K,distanceOffset:q,distanceInterval:X,isCustomInterval:$}=J;let{l:Q,a:ee,b:te}=j;const oe=(Z.l-Q)*X,re=(Z.a-ee)*X,ne=(Z.b-te)*X,ie=[];if(q){const j=q/X;Q+=j*oe,ee+=j*re,te+=j*ne}for(let ae=0;ae<K-1;ae++)ie.push({l:Q,a:ee,b:te}),Q+=oe,ee+=re,te+=ne;return ie.push($?{l:Q,a:ee,b:te}:Z),ie}((0,q.ZD)(ie),(0,q.ZD)(ae),ee):"esriHSVAlgorithm"===Q?function b(j,Z,J){const{numColors:K,distanceOffset:q,distanceInterval:X,isCustomInterval:$}=J,Q=0===j.s,ee=0===Z.s;let te=j.h,oe=Z.h;Q&&!ee?te=oe:ee&&!Q&&(Z={...Z,h:te},oe=te);let re,ne=Math.abs(oe-te);const ie=360;ne<180?re=(oe-te)*X:(ne=ie-ne,re=te>oe?ne*X:-ne*X);const ae=(Z.s-j.s)*X,se=(Z.v-j.v)*X;let{s:le,v:ue}=j,ce=te;if(q){const j=q/X;ce=(ce+j*re+ie)%ie,le+=j*ae,ue+=j*se}const he=[];for(let de=0;de<K-1;de++)he.push({h:ce,s:le,v:ue}),ce=(ce+re+ie)%ie,le+=ae,ue+=se;return he.push($?{h:ce,s:le,v:ue}:Z),he}((0,q.N2)(ie),(0,q.N2)(ae),ee):function k(j,Z,J){const{numColors:K,distanceOffset:q,distanceInterval:X,isCustomInterval:$}=J,Q=j.h,ee=Z.h,te=2*Math.PI;let oe;if(Q<=ee){const j=ee-Q,Z=ee-Q-te;oe=Math.abs(Z)<Math.abs(j)?Z:j}else{const j=ee+te-Q,Z=ee-Q;oe=Math.abs(Z)<Math.abs(j)?Z:j}const re=oe*X,ne=(Z.l-j.l)*X,ie=(Z.c-j.c)*X;let{l:ae,c:se,h:le}=j;if(q){const j=q/X;ae+=j*ne,se+=j*ie,le=(le+j*re+te)%te}const ue=[];for(let ce=0;ce<K-1;ce++)ue.push({l:ae,c:se,h:le}),ae+=ne,se+=ie,le=(le+re+te)%te;return ue.push($?{l:ae,c:se,h:le}:Z),ue}((0,q.RH)(ie),(0,q.RH)(ae),ee),le=[],ue=null!==(J=X[3])&&void 0!==J?J:255,ce=((null!==(K=$[3])&&void 0!==K?K:255)-ue)/(te-1);for(let he=0;he<te;he++){const{r:j,g:Z,b:J}=(0,q.$)(se[he]),K=ne?Math.round(ue+ce*he):255;le.push([j,Z,J,K])}return le}function w(j,Z){const J=(0,$.Wj)(j)?j.toJSON():j;return"multipart"===J.type?function R(j,Z){const{numColors:J,interpolateAlpha:K}=h(Z);let q=null===Z||void 0===Z?void 0:Z.weights;const{colorRamps:X}=j;if(q){const j=q.reduce(((j,Z)=>j+Z));q=q.map((Z=>Z/j))}else{q=[];for(let j=0;j<X.length;j++)q[j]=1/X.length}const $=[],Q=1/(J-1);let ee=0,te=!1;for(let re=0;re<X.length;re++){const j=$.length,Z=te?0:j*Q-ee;ee+=q[re];let oe=re===X.length-1?J-1-j:(q[re]-Z)/Q;if(te=Math.ceil(oe)===oe,oe=Math.ceil(oe),0===oe)continue;const ne=y(X[re],{numColors:oe,interpolateAlpha:K,distanceOffset:Z/q[re],distanceInterval:Q/q[re]});$.push(...ne)}const oe=[...X[X.length-1].toColor];return 3===oe.length&&oe.push(255),$.push(oe),$}(J,Z):y(J,Z)}function B(j,Z){const J=w(j,Z),K=null===Z||void 0===Z?void 0:Z.interpolateAlpha;return J.forEach(((j,Z)=>{j.unshift(Z),K||j.pop()})),J}function D(j){const Z=(0,q.N2)(j);return{type:"HsvColor",Hue:Z.h,Saturation:Z.s,Value:Z.v,AlphaValue:255}}function I(j){const Z=j.toJSON();return{Algorithm:(null===Z||void 0===Z?void 0:Z.Algorithm)||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:D(j.fromColor),ToColor:D(j.toColor)}}function G(j){const Z=d(j);if(!Z)return null;if("algorithmic"===j.type)return{...I(j),Name:Z};if(j.colorRamps){const J=j.colorRamps.map(I);return{type:"MultiPartColorRamp",NumColorRamps:J.length,ArrayOfColorRamp:J,Name:Z}}return null}function A(j){const Z=j.reverse().map((j=>{const Z=j.toString(16);return Z.length<2?"0"+Z:Z}));return 4294967295&Number.parseInt(Z.join(""),16)}},49624:(j,Z,J)=>{function t(j,Z){const{attributeTable:J,bandCount:K}=j;return!(null!=J||!function n(j){var Z,J;return["u8","s8"].includes(j.pixelType)&&null!=(null===(Z=j.statistics)||void 0===Z||null===(Z=Z[0])||void 0===Z?void 0:Z.min)&&null!=(null===(J=j.statistics[0])||void 0===J?void 0:J.max)&&1===j.bandCount}(j))||!(null==J||K>1)&&(!Z||null!=J.fields.find((j=>j.name.toLowerCase()===Z.toLowerCase())))}function e(j){const{bandCount:Z,dataType:J,pixelType:K}=j;return"elevation"===J||"generic"===J&&1===Z&&("s16"===K||"s32"===K||"f32"===K||"f64"===K)}function u(j){let Z=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{bandCount:J,colormap:K,pixelType:q}=j;return 1===J&&(!(null===K||void 0===K||!K.length)||!Z&&"u8"===q)}function r(j){let Z=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{attributeTable:J,bandCount:K}=j;return 1===K&&(!Z||null!=J||null!=j.histograms)}function o(j){const{dataType:Z}=j;return"vector-uv"===Z||"vector-magdir"===Z}function i(j){const{dataType:Z}=j;return"vector-uv"===Z||"vector-magdir"===Z}J.d(Z,{FA:()=>u,QJ:()=>i,hu:()=>t,iL:()=>e,rd:()=>o,xX:()=>r})},2188:(j,Z,J)=>{J.d(Z,{u:()=>K,x:()=>q});const K=new(J(40530).J)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),q={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}}}]);
//# sourceMappingURL=7758.5315f943.chunk.js.map