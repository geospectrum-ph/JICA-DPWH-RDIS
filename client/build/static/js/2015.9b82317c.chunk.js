"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[2015],{65174:(o,A,C)=>{C.d(A,{N:()=>ne,a:()=>V,b:()=>T,c:()=>O,d:()=>w,f:()=>B,g:()=>Z,i:()=>I,n:()=>st,u:()=>it,w:()=>k});C(50886);var M=C(89412),S=C(48237),x=C(39393),R=C(54880),_=C(83800),L=C(14223),P=C(40727),F=C(43438),q=C(6744),j=C(52941),ee=C(40006),te=C(86276);const ne=w();function w(){return(0,P.vt)()}const re=L.e,oe=L.e;function O(o,A){return(0,L.c)(A,o)}function T(o,A){return(0,P.fA)(o[0],o[1],o[2],A)}function k(o){return o}function V(o){return o[3]}function Z(o){return o}function B(o,A,C,M){return(0,P.fA)(o,A,C,M)}function Y(o,A,C){if(null==A)return!1;if(!G(o,A,ie))return!1;let{t0:M,t1:S}=ie;if((M<0||S<M&&S>0)&&(M=S),M<0)return!1;if(C){const{origin:o,direction:S}=A;C[0]=o[0]+S[0]*M,C[1]=o[1]+S[1]*M,C[2]=o[2]+S[2]*M}return!0}const ie={t0:0,t1:0};function G(o,A,C){const{origin:M,direction:S}=A,x=ce;x[0]=M[0]-o[0],x[1]=M[1]-o[1],x[2]=M[2]-o[2];const R=S[0]*S[0]+S[1]*S[1]+S[2]*S[2];if(0===R)return!1;const _=2*(S[0]*x[0]+S[1]*x[1]+S[2]*x[2]),L=_*_-4*R*(x[0]*x[0]+x[1]*x[1]+x[2]*x[2]-o[3]*o[3]);if(L<0)return!1;const P=Math.sqrt(L);return C.t0=(-_-P)/(2*R),C.t1=(-_+P)/(2*R),!0}const ce=(0,_.vt)();function I(o,A){return Y(o,A,null)}function K(o,A,C){const M=te.rq.get(),S=te.Rc.get();(0,R.b)(M,A.origin,A.direction);const _=V(o);(0,R.b)(C,M,A.origin),(0,R.h)(C,C,1/(0,R.l)(C)*_);const L=tt(o,A.origin),P=(0,ee.g7)(A.origin,C);return(0,x.$0)(S,P+L,M),(0,R.e)(C,C,S),C}function W(o,A,C){const M=(0,R.f)(te.rq.get(),A,o),S=(0,R.h)(te.rq.get(),M,o[3]/(0,R.l)(M));return(0,R.g)(C,S,o)}function tt(o,A){const C=(0,R.f)(te.rq.get(),A,o),M=(0,R.l)(C),x=V(o),_=x+Math.abs(x-M);return(0,S.XM)(x/_)}const se=(0,_.vt)();function nt(o,A,C,M){const x=(0,R.f)(se,A,o);switch(C){case q._.X:{const o=(0,S.jU)(x,se)[2];return(0,R.s)(M,-Math.sin(o),Math.cos(o),0)}case q._.Y:{const o=(0,S.jU)(x,se),A=o[1],C=o[2],_=Math.sin(A);return(0,R.s)(M,-_*Math.cos(C),-_*Math.sin(C),Math.cos(A))}case q._.Z:return(0,R.n)(M,x);default:return}}function et(o,A){const C=(0,R.f)(ue,A,o);return(0,R.l)(C)-o[3]}function st(o,A){const C=(0,R.a)(o,A),M=V(o);return C<=M*M}function it(o,A){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,P.vt)();const M=(0,R.q)(o,A),S=o[3],x=A[3];return M+x<S?((0,L.c)(C,o),C):M+S<x?((0,L.c)(C,A),C):((0,R.m)(C,o,A,(M+x-S)/(2*M)),C[3]=(M+S+x)/2,C)}const ue=(0,_.vt)(),ae=w();Object.freeze(Object.defineProperty({__proto__:null,NullSphere:ne,altitudeAt:et,angleToSilhouette:tt,axisAt:nt,clear:function z(o){o[0]=o[1]=o[2]=o[3]=0},closestPoint:function Q(o,A,C){return Y(o,A,C)?C:((0,j.oC)(A,o,C),W(o,C,C))},closestPointOnSilhouette:K,containsPoint:st,copy:O,create:w,distanceToSilhouette:function $(o,A){const C=(0,R.f)(te.rq.get(),A,o),M=(0,R.p)(C),S=o[3]*o[3];return Math.sqrt(Math.abs(M-S))},elevate:function U(o,A,C){return o!==C&&(C[0]=o[0],C[1]=o[1],C[2]=o[2]),C[3]=o[3]+A,C},equals:oe,exactEquals:re,fromCenterAndRadius:T,fromRadius:function N(o,A){return o[0]=o[1]=o[2]=0,o[3]=A,o},fromValues:B,getCenter:Z,getRadius:V,intersectLine:function D(o,A,C){const M=(0,j.Cr)(A,C);if(!G(o,M,ie))return[];const{origin:S,direction:x}=M,{t0:L,t1:P}=ie,c=A=>{const C=(0,_.vt)();return(0,R.r)(C,S,x,A),W(o,C,C)};return Math.abs(L-P)<(0,F.FD)()?[c(L)]:[c(L),c(P)]},intersectRay:Y,intersectRayClosestSilhouette:function J(o,A,C){if(Y(o,A,C))return C;const M=K(o,A,te.rq.get());return(0,R.g)(C,A.origin,(0,R.h)(te.rq.get(),A.direction,(0,R.q)(A.origin,M)/(0,R.l)(A.direction))),C},intersectsRay:I,projectPoint:W,setAltitudeAt:function ot(o,A,C,M){const S=et(o,A),x=nt(o,A,q._.Z,ue),_=(0,R.h)(ue,x,C-S);return(0,R.g)(M,A,_)},setExtent:function X(o,A,C){return M.A.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),o!==C&&O(o,C),C},tmpSphere:ae,union:it,wrap:k},Symbol.toStringTag,{value:"Module"}))},9299:(o,A,C)=>{C.d(A,{I:()=>s});var M=C(33584);class s{constructor(o){this._allocator=o,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,M.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const o=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*S);this._items.length=Math.min(o,this._items.length),this._itemsPtr=0}_grow(){for(let o=0;o<Math.max(8,Math.min(this._items.length,S));o++)this._items.push(this._allocator())}}const S=1024},85792:(o,A,C)=>{C.d(A,{W:()=>i,g:()=>c});var M=C(83800),S=C(54208),x=C(33876);function c(o,A,C,M){var _,L;if((0,S.canProjectWithoutEngine)(o.spatialReference,C)){var P;R[0]=o.x,R[1]=o.y;const S=o.z;return R[2]=null!==(P=null!==S&&void 0!==S?S:M)&&void 0!==P?P:0,(0,x.projectBuffer)(R,o.spatialReference,0,A,C,0,1)}const F=(0,S.tryProjectWithZConversion)(o,C);return!!F&&(A[0]=null===F||void 0===F?void 0:F.x,A[1]=null===F||void 0===F?void 0:F.y,A[2]=null!==(_=null!==(L=null===F||void 0===F?void 0:F.z)&&void 0!==L?L:M)&&void 0!==_?_:0,!0)}async function i(o,A,C,M,x){return await(0,S.initializeProjection)(o.spatialReference,C,null,x),c(o,A,C,M)}const R=(0,M.vt)()},49055:(o,A,C)=>{C.d(A,{F:()=>n});C(54208);var M=C(98664),S=C(85792);function n(o,A,C,M,R){return!(null==A||null==M||o.length<2)&&(x.x=o[0],x.y=o[1],x.z=o[2],x.spatialReference=A,(0,S.g)(x,C,M,R))}const x=(0,C(50317).T)(0,0,0,M.A.WGS84)},52941:(o,A,C)=>{C.d(A,{C:()=>k,Cr:()=>l,LV:()=>p,kb:()=>v,oC:()=>h,vt:()=>d});C(16842);var M=C(9299),S=C(54880),x=C(83800),R=C(86276);function d(o){return o?m((0,x.o8)(o.origin),(0,x.o8)(o.direction)):m((0,x.vt)(),(0,x.vt)())}function m(o,A){return{origin:o,direction:A}}function p(o,A){const C=_.get();return C.origin=o,C.direction=A,C}function k(o){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d();return function b(o,A){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d();return(0,S.c)(C.origin,o),(0,S.c)(C.direction,A),C}(o.origin,o.direction,A)}function l(o,A){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d();return(0,S.c)(C.origin,o),(0,S.f)(C.direction,A,o),C}function v(o,A){const C=(0,S.b)(R.rq.get(),(0,S.n)(R.rq.get(),o.direction),(0,S.f)(R.rq.get(),A,o.origin));return(0,S.k)(C,C)}function h(o,A,C){const M=(0,S.k)(o.direction,(0,S.f)(C,A,o.origin));return(0,S.g)(C,o.origin,(0,S.h)(C,o.direction,M)),C}const _=new M.I((()=>d()))},50317:(o,A,C)=>{function e(o,A,C,M){return{x:o,y:A,z:C,hasZ:null!=C,hasM:!1,spatialReference:M,type:"point"}}C.d(A,{T:()=>e})},48557:(o,A,C)=>{C.d(A,{MA:()=>l,m0:()=>I,qs:()=>p,wH:()=>w});var M=C(4180),S=C(66004),x=C(89412),R=C(2409),_=C(64286);const u=()=>x.A.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function a(o,A,C){let S="",x=0;for(;x<C;){const R=o[A+x];if(R<128)S+=String.fromCharCode(R),x++;else if(R>=192&&R<224){if(x+1>=C)throw new M.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const _=(31&R)<<6|63&o[A+x+1];S+=String.fromCharCode(_),x+=2}else if(R>=224&&R<240){if(x+2>=C)throw new M.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const _=(15&R)<<12|(63&o[A+x+1])<<6|63&o[A+x+2];S+=String.fromCharCode(_),x+=3}else{if(!(R>=240&&R<248))throw new M.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(x+3>=C)throw new M.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const _=(7&R)<<18|(63&o[A+x+1])<<12|(63&o[A+x+2])<<6|63&o[A+x+3];if(_>=65536){const o=55296+(_-65536>>10),A=56320+(1023&_);S+=String.fromCharCode(o,A)}else S+=String.fromCharCode(_);x+=4}}}return S}function s(o,A){const C={byteOffset:0,byteCount:0,fields:Object.create(null)};let M=0;for(let S=0;S<A.length;S++){const x=A[S],R=x.valueType||x.type,_=F[R];C.fields[x.property]=_(o,M),M+=P[R].BYTES_PER_ELEMENT}return C.byteCount=M,C}function f(o,A,C){const S=[];let x,R,_=0;for(R=0;R<o;R+=1){if(x=A[R],x>0){if(S.push(a(C,_,x-1)),0!==C[_+x-1])throw new M.A("string-array-error","Invalid string array: missing null termination.")}else S.push(null);_+=x}return S}function l(o,A){return new(0,P[A.valueType])(o,A.byteOffset,A.count*A.valuesPerElement)}function b(o,A,C){const x=null!=A.header?s(o,A.header):{byteOffset:0,byteCount:0,fields:{count:C}},R={header:x,byteOffset:x.byteCount,byteCount:0,entries:Object.create(null)};let _=x.byteCount;for(let F=0;F<A.ordering.length;F++){var L,P;const o=A.ordering[F],C=(0,S.o8)(A[o]);if(C.count=null!==(L=x.fields.count)&&void 0!==L?L:0,"String"===C.valueType){if(C.byteOffset=_,C.byteCount=x.fields[o+"ByteCount"],"UTF-8"!==C.encoding)throw new M.A("unsupported-encoding","Unsupported String encoding.",{encoding:C.encoding});if(C.timeEncoding&&"ECMA_ISO8601"!==C.timeEncoding)throw new M.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:C.timeEncoding})}else{if(!O(C.valueType))throw new M.A("unsupported-value-type","Unsupported binary valueType",{valueType:C.valueType});{const o=E(C.valueType);_+=_%o!=0?o-_%o:0,C.byteOffset=_,C.byteCount=o*C.valuesPerElement*C.count}}_+=null!==(P=C.byteCount)&&void 0!==P?P:0,R.entries[o]=C}return R.byteCount=_-R.byteOffset,R}function y(o,A,C){if(A!==o&&u().error("Invalid ".concat(C," buffer size\n expected: ").concat(o,", actual: ").concat(A,")")),A<o)throw new M.A("buffer-too-small","Binary buffer is too small",{expectedSize:o,actualSize:A})}function w(o,A){const C=s(o,A&&A.header);let M=C.byteCount;const S={isDraco:!1,header:C,byteOffset:C.byteCount,byteCount:0,vertexAttributes:{}},x=C.fields,R=null!=x.vertexCount?x.vertexCount:x.count;for(const F of A.ordering){if(!A.vertexAttributes[F])continue;const o={...A.vertexAttributes[F],byteOffset:M,count:R},C=L[F]||"_"+F;S.vertexAttributes[C]=o,M+=E(o.valueType)*o.valuesPerElement*R}const _=x.faceCount;if(A.faces&&_){S.faces={};for(const o of A.ordering){if(!A.faces[o])continue;const C={...A.faces[o],byteOffset:M,count:_};S.faces[o]=C,M+=E(C.valueType)*C.valuesPerElement*_}}const P=x.featureCount;if(A.featureAttributes&&A.featureAttributeOrder&&P){S.featureAttributes={};for(const o of A.featureAttributeOrder){if(!A.featureAttributes[o])continue;const C={...A.featureAttributes[o],byteOffset:M,count:P};S.featureAttributes[o]=C,M+=("UInt64"===C.valueType?8:E(C.valueType))*C.valuesPerElement*P}}return y(M,o.byteLength,"geometry"),S.byteCount=M-S.byteOffset,S}function p(o,A){return o&&o.compressedAttributes&&"draco"===o.compressedAttributes.encoding?function v(o){const A={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const C of o)switch(C){case"position":break;case"normal":A.normal=!0;break;case"uv0":A.uv0=!0;break;case"color":A.color=!0;break;case"uv-region":A.uvRegion=!0;break;case"feature-index":A.featureIndex=!0}return A}(o.compressedAttributes.attributes):o?function g(o){return{isDraco:!1,isLegacy:!1,color:null!=o.color,normal:null!=o.normal,uv0:null!=o.uv0,uvRegion:null!=o.uvRegion,featureIndex:null!=o.faceRange&&null!=o.featureId}}(o):function m(o){const A={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const C of o.ordering)if(o.vertexAttributes[C])switch(C){case"position":break;case"normal":A.normal=!0;break;case"color":A.color=!0;break;case"uv0":A.uv0=!0;break;case"region":A.uvRegion=!0}return o.featureAttributes&&o.featureAttributeOrder&&(A.featureIndex=!0),A}(A)}const L={position:_.r.POSITION,normal:_.r.NORMAL,color:_.r.COLOR,uv0:_.r.UV0,region:_.r.UVREGION};function I(o,A,C){if("lepcc-rgb"===o.encoding)return(0,R.mb)(A);if("lepcc-intensity"===o.encoding)return(0,R.Ax)(A);if(null!=o.encoding&&""!==o.encoding)throw new M.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");o["attributeByteCounts "]&&!o.attributeByteCounts&&(u().warn("Warning: Trailing space in 'attributeByteCounts '."),o.attributeByteCounts=o["attributeByteCounts "]),"ObjectIds"===o.ordering[0]&&o.hasOwnProperty("objectIds")&&(u().warn("Warning: Case error in objectIds"),o.ordering[0]="objectIds");const S=b(A,o,C);y(S.byteOffset+S.byteCount,A.byteLength,"attribute");const x=S.entries.attributeValues||S.entries.objectIds;if(x){if("String"===x.valueType){const o=S.entries.attributeByteCounts,C=l(A,o),M=function d(o,A){return new Uint8Array(o,A.byteOffset,A.byteCount)}(A,x);return x.timeEncoding?function c(o,A,C){return f(o,A,C).map((o=>{const A=o?Date.parse(o):null;return A&&!Number.isNaN(A)?A:null}))}(o.count,C,M):f(o.count,C,M)}return l(A,x)}throw new M.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const P={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},F={Float32:(o,A)=>new DataView(o,0).getFloat32(A,!0),Float64:(o,A)=>new DataView(o,0).getFloat64(A,!0),UInt8:(o,A)=>new DataView(o,0).getUint8(A),Int8:(o,A)=>new DataView(o,0).getInt8(A),UInt16:(o,A)=>new DataView(o,0).getUint16(A,!0),Int16:(o,A)=>new DataView(o,0).getInt16(A,!0),UInt32:(o,A)=>new DataView(o,0).getUint32(A,!0),Int32:(o,A)=>new DataView(o,0).getInt32(A,!0)};function O(o){return P.hasOwnProperty(o)}function E(o){return O(o)?P[o].BYTES_PER_ELEMENT:0}},83638:(o,A,C)=>{C(70655),C(83800),C(78535),C(88286)},72015:(o,A,C)=>{C.d(A,{Dd:()=>H,II:()=>k,JA:()=>ee,Q7:()=>ge,Rm:()=>Z,aM:()=>O,b$:()=>de,hB:()=>ye,s1:()=>$});C(30174);var M=C(53705),S=(C(16842),C(4180)),x=(C(50886),C(49905)),R=(C(39393),C(70655)),_=(C(54880),C(83800)),L=(C(54208),C(13478),C(49055),C(88965)),P=(C(65174),C(49096),C(48557)),F=(C(83638),C(25694)),q=(C(73934),C(71138)),j=C(98664);function U(o){return o?parseInt(o.substring(o.lastIndexOf("/")+1,o.length),10):void 0}function k(o,A,C,M){C.traverse(A,(A=>{const C=A.serviceMbsInIndexSR;return(null!=C&&O(o,C))!==ee.OUTSIDE&&(M(A),!0)}))}(0,L.vt)();var ee,te;function O(o,A){const C=A[0],M=A[1],S=A[3],x=o[0]-C,R=C-o[2],_=o[1]-M,L=M-o[3],P=Math.max(x,R,0),F=Math.max(_,L,0),q=P*P+F*F;return q>S*S?ee.OUTSIDE:q>0?ee.INTERSECTS_CENTER_OUTSIDE:-Math.max(x,R,_,L)>S?ee.INSIDE:ee.INTERSECTS_CENTER_INSIDE}async function $(o,A,C,S,x,R,_,L){const F=[];for(const M of A)if(M&&x.includes(M.name)){const A="".concat(o,"/nodes/").concat(C,"/attributes/").concat(M.key,"/0");F.push({url:A,storageInfo:M})}const q=await Promise.allSettled(F.map((o=>(0,M.A)(o.url,{responseType:"array-buffer",query:{..._,token:R},signal:null===L||void 0===L?void 0:L.signal}).then((A=>(0,P.m0)(o.storageInfo,A.data)))))),j=[];for(const M of S){const o={};for(let A=0;A<q.length;A++){const C=q[A];if("fulfilled"===C.status){const S=C.value;o[F[A].storageInfo.name]=Q(S,M)}}j.push(o)}return j}(te=ee||(ee={}))[te.OUTSIDE=0]="OUTSIDE",te[te.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",te[te.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",te[te.INSIDE=3]="INSIDE";const ne=-32768,re=-(2**31);function Q(o,A){if(!o)return null;const C=o[A];return(0,x.IY)(o)?C===ne?null:C:(0,x._G)(o)?C===re?null:C:C!=C?null:C}function Z(o){const A=o.store,C=A.indexCRS||A.geographicCRS,M=void 0===C?A.indexWKT:void 0;if(M){if(!o.spatialReference)throw new S.A("layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference","Found indexWKT in the scene layer store but no layer spatial reference",{});if(M!==o.spatialReference.wkt)throw new S.A("layerview:store-spatial-reference-wkt-index-incompatible","The indexWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}const x=C?new j.A(U(C)):o.spatialReference;return x.equals(o.spatialReference)?o.spatialReference:x}function H(o){const A=o.store,C=A.vertexCRS||A.projectedCRS,M=void 0===C?A.vertexWKT:void 0;if(M){if(!o.spatialReference)throw new S.A("layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference","Found vertexWKT in the scene layer store but no layer spatial reference",{});if(M!==o.spatialReference.wkt)throw new S.A("layerview:store-spatial-reference-wkt-vertex-incompatible","The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}const x=C?new j.A(U(C)):o.spatialReference;return x.equals(o.spatialReference)?o.spatialReference:x}(0,F.CC)({color:[0,0,0,0],opacity:0});function de(o,A){return(0|o)+(0|A)|0}function ye(o){return o[3]>=0}function ge(o){null!=o&&(o[3]=-1)}(0,_.vt)(),(0,_.vt)(),(0,_.vt)(),(0,_.vt)(),(0,_.vt)(),(0,_.vt)(),(0,_.vt)(),(0,_.vt)(),(0,L.vt)(),(0,L.vt)(),new q.ab,(0,_.vt)(),new Array(72),(0,R.vt)()},2409:(o,A,C)=>{C.d(A,{Ax:()=>w,Me:()=>c,mb:()=>u});var M=C(4180);const S=!0,x={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function r(o,A,C){return{identifier:String.fromCharCode.apply(null,new Uint8Array(o,C+x.identifierOffset,x.identifierLength)),version:A.getUint16(C+x.versionOffset,S),checksum:A.getUint32(C+x.checksumOffset,S)}}const R={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function i(o,A){return{sizeLo:o.getUint32(A+R.sizeLo,S),sizeHi:o.getUint32(A+R.sizeHi,S),minX:o.getFloat64(A+R.minX,S),minY:o.getFloat64(A+R.minY,S),minZ:o.getFloat64(A+R.minZ,S),maxX:o.getFloat64(A+R.maxX,S),maxY:o.getFloat64(A+R.maxY,S),maxZ:o.getFloat64(A+R.maxZ,S),errorX:o.getFloat64(A+R.errorX,S),errorY:o.getFloat64(A+R.errorY,S),errorZ:o.getFloat64(A+R.errorZ,S),count:o.getUint32(A+R.count,S),reserved:o.getUint32(A+R.reserved,S)}}function c(o){const A=new DataView(o,0);let C=0;const{identifier:S,version:_}=r(o,A,C);if(C+=x.byteCount,"LEPCC     "!==S)throw new M.A("lepcc-decode-error","Bad identifier");if(_>1)throw new M.A("lepcc-decode-error","Unknown version");const L=i(A,C);if(C+=R.byteCount,L.sizeHi*2**32+L.sizeLo!==o.byteLength)throw new M.A("lepcc-decode-error","Bad size");const P=new Float64Array(3*L.count),F=[],q=[],j=[],ee=[];if(C=s(o,C,F),C=s(o,C,q),C=s(o,C,j),C=s(o,C,ee),C!==o.byteLength)throw new M.A("lepcc-decode-error","Bad length");let te=0,ne=0;for(let M=0;M<F.length;M++){ne+=F[M];let o=0;for(let A=0;A<q[M];A++){o+=j[te];const A=ee[te];P[3*te]=Math.min(L.maxX,L.minX+2*L.errorX*o),P[3*te+1]=Math.min(L.maxY,L.minY+2*L.errorY*ne),P[3*te+2]=Math.min(L.maxZ,L.minZ+2*L.errorZ*A),te++}}return{errorX:L.errorX,errorY:L.errorY,errorZ:L.errorZ,result:P}}function s(o,A,C){const M=[];A=d(o,A,M);const S=[];for(let x=0;x<M.length;x++){S.length=0,A=d(o,A,S);for(let o=0;o<S.length;o++)C.push(S[o]+M[x])}return A}function d(o,A,C){const x=new DataView(o,A),R=x.getUint8(0),_=31&R,L=!!(32&R),P=(192&R)>>6;let F=0;if(0===P)F=x.getUint32(1,S),A+=5;else if(1===P)F=x.getUint16(1,S),A+=3;else{if(2!==P)throw new M.A("lepcc-decode-error","Bad count type");F=x.getUint8(1),A+=2}if(L)throw new M.A("lepcc-decode-error","LUT not implemented");const q=Math.ceil(F*_/8),j=new Uint8Array(o,A,q);let ee=0,te=0,ne=0;const re=-1>>>32-_;for(let M=0;M<F;M++){for(;te<_;)ee|=j[ne]<<te,te+=8,ne+=1;C[M]=ee&re,ee>>>=_,te-=_,te+_>32&&(ee|=j[ne-1]>>8-te)}return A+ne}const _={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function a(o,A){return{sizeLo:o.getUint32(A+_.sizeLo,S),sizeHi:o.getUint32(A+_.sizeHi,S),count:o.getUint32(A+_.count,S),colorMapCount:o.getUint16(A+_.colorMapCount,S),lookupMethod:o.getUint8(A+_.lookupMethod),compressionMethod:o.getUint8(A+_.compressionMethod)}}function u(o){const A=new DataView(o,0);let C=0;const{identifier:S,version:R}=r(o,A,C);if(C+=x.byteCount,"ClusterRGB"!==S)throw new M.A("lepcc-decode-error","Bad identifier");if(R>1)throw new M.A("lepcc-decode-error","Unknown version");const L=a(A,C);if(C+=_.byteCount,L.sizeHi*2**32+L.sizeLo!==o.byteLength)throw new M.A("lepcc-decode-error","Bad size");if((2===L.lookupMethod||1===L.lookupMethod)&&0===L.compressionMethod){if(3*L.colorMapCount+L.count+C!==o.byteLength||L.colorMapCount>256)throw new M.A("lepcc-decode-error","Bad count");const A=new Uint8Array(o,C,3*L.colorMapCount),S=new Uint8Array(o,C+3*L.colorMapCount,L.count),x=new Uint8Array(3*L.count);for(let o=0;o<L.count;o++){const C=S[o];x[3*o]=A[3*C],x[3*o+1]=A[3*C+1],x[3*o+2]=A[3*C+2]}return x}if(0===L.lookupMethod&&0===L.compressionMethod){if(3*L.count+C!==o.byteLength||0!==L.colorMapCount)throw new M.A("lepcc-decode-error","Bad count");return new Uint8Array(o,C).slice()}if(L.lookupMethod<=2&&1===L.compressionMethod){if(C+3!==o.byteLength||1!==L.colorMapCount)throw new M.A("lepcc-decode-error","Bad count");const S=A.getUint8(C),x=A.getUint8(C+1),R=A.getUint8(C+2),_=new Uint8Array(3*L.count);for(let o=0;o<L.count;o++)_[3*o]=S,_[3*o+1]=x,_[3*o+2]=R;return _}throw new M.A("lepcc-decode-error","Bad method "+L.lookupMethod+","+L.compressionMethod)}const L={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function h(o,A){return{sizeLo:o.getUint32(A+L.sizeLo,S),sizeHi:o.getUint32(A+L.sizeHi,S),count:o.getUint32(A+L.count,S),scaleFactor:o.getUint16(A+L.scaleFactor,S),bitsPerPoint:o.getUint8(A+L.bitsPerPoint),reserved:o.getUint8(A+L.reserved)}}function w(o){const A=new DataView(o,0);let C=0;const{identifier:S,version:R}=r(o,A,C);if(C+=x.byteCount,"Intensity "!==S)throw new M.A("lepcc-decode-error","Bad identifier");if(R>1)throw new M.A("lepcc-decode-error","Unknown version");const _=h(A,C);if(C+=L.byteCount,_.sizeHi*2**32+_.sizeLo!==o.byteLength)throw new M.A("lepcc-decode-error","Bad size");const P=new Uint16Array(_.count);if(8===_.bitsPerPoint){if(_.count+C!==o.byteLength)throw new M.A("lepcc-decode-error","Bad size");const A=new Uint8Array(o,C,_.count);for(let o=0;o<_.count;o++)P[o]=A[o]*_.scaleFactor}else if(16===_.bitsPerPoint){if(2*_.count+C!==o.byteLength)throw new M.A("lepcc-decode-error","Bad size");const A=new Uint16Array(o,C,_.count);for(let o=0;o<_.count;o++)P[o]=A[o]*_.scaleFactor}else{const A=[];if(d(o,C,A)!==o.byteLength)throw new M.A("lepcc-decode-error","Bad size");for(let o=0;o<_.count;o++)P[o]=A[o]*_.scaleFactor}return P}},25694:(o,A,C)=>{C.d(A,{Cc:()=>u,CC:()=>f,RF:()=>c});var M=C(22123),S=(C(50886),C(62555)),x=C(40727);var R=C(21910);function c(o){return o&&o.enabled&&(function layerUtils_e(o){return"extrude"===o.type}(o)||function t(o){return"fill"===o.type}(o))&&null!=o.edges}function u(o,A){return function a(o,A){if(null==o)return null;const C=null!=o.color?(0,x.ci)(M.A.toUnitRGBA(o.color)):(0,x.fA)(0,0,0,0),R=(0,S.Lz)(o.size),_=(0,S.Lz)(o.extensionLength);switch(o.type){case"solid":return f({color:C,size:R,extensionLength:_,...A});case"sketch":return function p(o){return{...L,...o,type:"sketch"}}({color:C,size:R,extensionLength:_,...A});default:return}}(function l(o){return o&&o.enabled&&o.edges||null}(o),A)}function f(o){return{..._,...o,type:"solid"}}const _={color:(0,x.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:R.x.OPAQUE,hasSlicePlane:!1},L={color:(0,x.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:R.x.OPAQUE,hasSlicePlane:!1}},73934:(o,A,C)=>{C.d(A,{Eb:()=>e,_j:()=>r,k5:()=>M});var M,S=C(48237);function e(o){switch(o){case"multiply":default:return M.Multiply;case"ignore":return M.Ignore;case"replace":return M.Replace;case"tint":return M.Tint}}function r(o,A,C){if(null==o||A===M.Ignore)return C[0]=255,C[1]=255,C[2]=255,void(C[3]=255);const P=(0,S.qE)(Math.round(o[3]*R),0,R),F=0===P||A===M.Tint?0:A===M.Replace?_:L;C[0]=(0,S.qE)(Math.round(o[0]*x),0,x),C[1]=(0,S.qE)(Math.round(o[1]*x),0,x),C[2]=(0,S.qE)(Math.round(o[2]*x),0,x),C[3]=P+F}!function(o){o[o.Multiply=1]="Multiply",o[o.Ignore=2]="Ignore",o[o.Replace=3]="Replace",o[o.Tint=4]="Tint"}(M||(M={}));const x=255,R=85,_=R,L=2*R},21910:(o,A,C)=>{var M;C.d(A,{x:()=>M}),function(o){o[o.INVISIBLE=0]="INVISIBLE",o[o.TRANSPARENT=1]="TRANSPARENT",o[o.OPAQUE=2]="OPAQUE"}(M||(M={}))}}]);
//# sourceMappingURL=2015.9b82317c.chunk.js.map