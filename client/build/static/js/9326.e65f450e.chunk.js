"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[9326],{59326:(e,a,y)=>{y.d(a,{N:()=>w,populateOperationalLayers:()=>c});var i=y(39652),l=(y(50886),y(22507)),o=y(77247),L=y(35799);function t(e,a){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===a}var u=y(53087),s=y(36125);async function c(e,a,y){if(!a)return;const i=a.map((e=>async function f(e,a){return async function G(e,a,y){const i=new e;return i.read(a,y.context),"group"===i.type&&("GroupLayer"===a.layerType?await w(i,a,y):b(a)?function h(e,a,y){a.itemId&&(e.portalItem=new L.default({id:a.itemId,portal:null===y||void 0===y?void 0:y.portal}),e.when((()=>{var i,l;const t=i=>{var l;const o=i.layerId;F(i,e,a,o,y);const L=null===(l=a.featureCollection)||void 0===l||null===(l=l.layers)||void 0===l?void 0:l[o];L&&i.read(L,y)};null!==(i=e.layers)&&void 0!==i&&i.forEach(t),null===(l=e.tables)||void 0===l||l.forEach(t)})))}(i,a,y.context):A(a)&&await async function C(e,a,y){var i;const l=o.S.FeatureLayer,L=await l(),u=a.featureCollection,s=null===u||void 0===u?void 0:u.showLegend,d=null===u||void 0===u||null===(i=u.layers)||void 0===i?void 0:i.map(((i,l)=>{const o=new L;o.read(i,y);const u={...y,ignoreDefaults:!0};return F(o,e,a,l,u),null!=s&&o.read({showLegend:s},u),o}));e.layers.addMany(null!==d&&void 0!==d?d:[])}(i,a,y.context)),await(0,s.L)(i,y.context),i}(await M(e,a),e,a)}(e,y))),l=await Promise.allSettled(i);for(const o of l)"rejected"===o.status||o.value&&e.add(o.value)}const d={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},S={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},p={ArcGISFeatureLayer:"FeatureLayer"},I={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},g={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"UnsupportedLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},T={ArcGISFeatureLayer:"FeatureLayer",SubtypeGroupTable:"UnsupportedLayer"},m={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},W={...g,LinkChartLayer:"LinkChartLayer"},k={...T},O={...m};async function M(e,a){var y,i;const s=a.context,d=v(s);let S=e.layerType||e.type;!S&&(null===a||void 0===a?void 0:a.defaultLayerType)&&(S=a.defaultLayerType);const p=d[S];let I=p?o.S[p]:o.S.UnknownLayer;if(b(e)){const a=null===s||void 0===s?void 0:s.portal;if(e.itemId){const y=new L.default({id:e.itemId,portal:a});await y.load();const i=(await(0,u.n)(y,new l.v)).className||"UnknownLayer";I=o.S[i]}}else"ArcGISFeatureLayer"===S?function featureCollectionUtils_e(e){return t(e,"notes")}(e)||function r(e){return t(e,"markup")}(e)?I=o.S.MapNotesLayer:function n(e){return t(e,"route")}(e)?I=o.S.RouteLayer:A(e)&&(I=o.S.GroupLayer):null!==(y=e.wmtsInfo)&&void 0!==y&&y.url&&e.wmtsInfo.layerIdentifier?I=o.S.WMTSLayer:"WFS"===S&&"2.0.0"!==(null===(i=e.wfsInfo)||void 0===i?void 0:i.version)&&(I=o.S.UnsupportedLayer);return I()}function A(e){var a,y;return"ArcGISFeatureLayer"===e.layerType&&!b(e)&&(null!==(a=null===(y=e.featureCollection)||void 0===y||null===(y=y.layers)||void 0===y?void 0:y.length)&&void 0!==a?a:0)>1}function b(e){return"Feature Collection"===e.type}function v(e){let a;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":a=I;break;case"ground":a=S;break;case"tables":a=p;break;default:a=d}break;case"link-chart":switch(e.layerContainerType){case"basemap":a=O;break;case"tables":a=k;break;default:a=W}break;default:switch(e.layerContainerType){case"basemap":a=m;break;case"tables":a=T;break;default:a=g}}return a}async function w(e,a,y){const l=new i.A,o=c(l,Array.isArray(a.layers)?a.layers:[],y);try{try{if(await o,"group"===e.type)return e.layers.addMany(l),e}catch(L){e.destroy();for(const e of l)e.destroy();throw L}}catch(L){throw L}}function F(e,a,y,i,l){var o,L;e.read({id:"".concat(a.id,"-sublayer-").concat(i),visibility:null===(o=null===(L=y.visibleLayers)||void 0===L?void 0:L.includes(i))||void 0===o||o},l)}},36125:(e,a,y)=>{y.d(a,{L:()=>t});var i=y(87149),l=y(81618),o=y(4282);async function t(e,a,y){const L=e&&e.getAtOrigin&&e.getAtOrigin("renderer",a.origin);if(L&&"unique-value"===L.type&&L.styleOrigin){const u=await(0,i.Ke)(L.populateFromStyle());if((0,l.Te)(y),!1===u.ok){const y=u.error;null!==a&&void 0!==a&&a.messages&&a.messages.push(new o.A("renderer:style-reference","Failed to create unique value renderer from style reference: ".concat(y.message),{error:y,context:a})),e.clear("renderer",null===a||void 0===a?void 0:a.origin)}}}}}]);
//# sourceMappingURL=9326.e65f450e.chunk.js.map