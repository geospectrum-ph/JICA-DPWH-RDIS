"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[2541],{67531:(l,d,p)=>{p.d(d,{D_:()=>et,L8:()=>n,Z7:()=>h,dr:()=>s});var h,m,w=p(4389);(m=h||(h={})).InvalidFunctionParameters="InvalidFunctionParameters",m.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",m.UnsupportedSqlFunction="UnsupportedSqlFunction",m.UnsupportedOperator="UnsupportedOperator",m.UnsupportedSyntax="UnsupportedSyntax",m.UnsupportedIsRhs="UnsupportedIsRhs",m.UnsupportedIsLhs="UnsupportedIsLhs",m.InvalidDataType="InvalidDataType",m.CannotCastValue="CannotCastValue",m.FunctionNotRecognized="FunctionNotRecognized",m.InvalidTime="InvalidTime",m.InvalidParameterCount="InvalidParameterCount",m.InvalidTimeStamp="InvalidTimeStamp",m.InvalidDate="InvalidDate",m.InvalidOperator="InvalidOperator",m.IllegalInterval="IllegalInterval",m.YearMonthIntervals="YearMonthIntervals",m.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",m.MissingStatisticParameters="MissingStatisticParameters";const I={[h.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[h.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[h.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[h.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[h.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[h.UnsupportedOperator]:"Unsupported operator - {operator}",[h.UnsupportedSyntax]:"Unsupported syntax - {node}",[h.UnsupportedSqlFunction]:"Sql function not found = {function}",[h.InvalidDataType]:"Invalid sql data type",[h.InvalidDate]:"Invalid date encountered",[h.InvalidOperator]:"Invalid operator encountered",[h.InvalidTime]:"Invalid time encountered",[h.IllegalInterval]:"Illegal interval",[h.FunctionNotRecognized]:"Function not recognized",[h.InvalidTimeStamp]:"Invalid timestamp encountered",[h.InvalidParameterCount]:"Invalid parameter count for call to {name}",[h.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[h.YearMonthIntervals]:"Year-Month Intervals not supported",[h.CannotCastValue]:"Cannot cast value to the required data type"};class n extends Error{constructor(l,d){super((0,w.HC)(I[l],d)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,n)}}var et;!function(l){l.NeverReach="NeverReach",l.NotImplemented="NotImplemented",l.Cancelled="Cancelled",l.InvalidStatResponse="InvalidStatResponse",l.InvalidRequest="InvalidRequest",l.RequestFailed="RequestFailed",l.MissingFeatures="MissingFeatures",l.AggregationFieldNotFound="AggregationFieldNotFound",l.DataElementsNotFound="DataElementsNotFound"}(et||(et={}));const tt={[et.Cancelled]:"Cancelled",[et.InvalidStatResponse]:"Invalid statistics response from service",[et.InvalidRequest]:"Invalid request",[et.RequestFailed]:"Request failed - {reason}",[et.MissingFeatures]:"Missing features",[et.AggregationFieldNotFound]:"Aggregation field not found",[et.DataElementsNotFound]:"Data elements not found on service",[et.NeverReach]:"Encountered unreachable logic",[et.NotImplemented]:"Not implemented"};class s extends Error{constructor(l,d){super((0,w.HC)(tt[l],d)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,s)}}},39378:(l,d,p)=>{p.d(d,{g:()=>r});var h=p(73414);function e(l){return Number.isNaN(l)||0===l?l:Math.trunc(l)}class r{constructor(l){this._timeStampOffset=l,this._date=null}toDateTime(){var l;return null!==(l=this._date)&&void 0!==l||(this._date=h.c9.fromISO(this._timeStampOffset,{setZone:!0})),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return e(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return e(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return r.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(l){return new r(h.c9.fromJSDate(l).toISO({includeOffset:!0}))}static fromDateTime(l){return new r(l.toISO({includeOffset:!0}))}static fromParts(l,d){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,I=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,et=arguments.length>7&&void 0!==arguments[7]&&arguments[7],tt=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,rt=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;const nt="".concat(l.toString().padStart(4,"0"),"-").concat(d.toString().padStart(2,"0"),"-").concat(p.toString().padStart(2,"0"));let at="";w<10&&(at="0");let it="".concat(h.toString().padStart(2,"0"),":").concat(m.toString().padStart(2,"0"),":").concat(at+w.toString());0!==I&&(it+="."+I.toString().padStart(3,"0"));const ot="".concat(et?"-":"+").concat(tt.toString().padStart(2,"0"),":").concat(rt.toString().padStart(2,"0"));return new r(nt+"T"+it+ot)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let l=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return l&&(l=l.replace(".000","")),l}toSQLWithKeyword(){return"timestamp '".concat(this.toSQLValue(),"'")}addMilliseconds(l){const d=this.toDateTime().plus(l);return r.fromDateTime(d)}}},92541:(l,d,p)=>{p.d(d,{WhereClause:()=>WhereClause_x});var h=p(46381),m=p(67531),w=p(50886),I=p(99343),et=p(39378),tt=p(23342),rt=p(73414);function o(l,d){const p=nt[l.toLowerCase()];return null!=p&&d>=p.minParams&&d<=p.maxParams}const nt={min:{minParams:1,maxParams:1,evaluate:l=>f(l[0],"min")},max:{minParams:1,maxParams:1,evaluate:l=>f(l[0],"max")},avg:{minParams:1,maxParams:1,evaluate:l=>i(l[0])},sum:{minParams:1,maxParams:1,evaluate:l=>function c(l){if(null===l)return null;let d=0;for(let p=0;p<l.length;p++){const h=l[p];if(null!==h){if(!s(h))throw new m.L8(m.Z7.InvalidValueForAggregateFunction);d+=h}}return d}(l[0])},stddev:{minParams:1,maxParams:1,evaluate:l=>function g(l){if(null===l)return null;const d=P(l);return null===d?null:Math.sqrt(d)}(l[0])},count:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].length},var:{minParams:1,maxParams:1,evaluate:l=>P(l[0])}};function i(l){if(null===l)return null;let d=0,p=0;for(let h=0;h<l.length;h++){const w=l[h];if(null!==w){if(!s(w))throw new m.L8(m.Z7.InvalidValueForAggregateFunction);p++,d+=w}}return 0===p?null:d/l.length}function s(l){return"number"==typeof l}function f(l,d){if(null===l)return null;let p=null,h=null;for(const m of l){let l=m;l=m instanceof I.n||m instanceof tt.k?m.toNumber():m instanceof rt.c9?m.toMillis():m instanceof et.g?m.toMilliseconds():m,(null===p||"max"===d&&null!==h&&null!==l&&h<=l||"min"===d&&null!==h&&null!==l&&h>=l)&&(p=m,h=l)}return p}function P(l){if(null===l)return null;if(0===(l=l.filter((l=>null!==l))).length)return null;const d=i(l);if(null===d)return null;let p=0;for(const h of l){if(!s(h))throw new m.L8(m.Z7.InvalidValueForAggregateFunction);p+=(d-h)**2}return p/(l.length-1)}class SqlInterval_s{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(l){if(null!==l.precision||null!==l.secondary)throw new m.L8(m.Z7.PrimarySecondaryQualifiers)}static _parseSecondsComponent(l,d){if(d.includes(".")){const p=d.split(".");l.second=parseFloat(p[0]),l.millis=parseInt(p[1],10)}else l.second=parseFloat(d)}static createFromMilliseconds(l){const d=new SqlInterval_s;return d.second=l/1e3,d}static createFromValueAndQualifier(l,d,p){let h=null;const w=new SqlInterval_s;if(w.op="-"===p?"-":"+","interval-period"===d.type){SqlInterval_s._fixDefaults(d);const p=new RegExp("^[0-9]{1,}$");if("year"===d.period||"month"===d.period)throw new m.L8(m.Z7.YearMonthIntervals);if("second"===d.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(l))throw new m.L8(m.Z7.IllegalInterval);SqlInterval_s._parseSecondsComponent(w,l)}else{if(!p.test(l))throw new m.L8(m.Z7.IllegalInterval);w[d.period]=parseFloat(l)}}else{if(SqlInterval_s._fixDefaults(d.start),SqlInterval_s._fixDefaults(d.end),"year"===d.start.period||"month"===d.start.period||"year"===d.end.period||"month"===d.end.period)throw new m.L8(m.Z7.YearMonthIntervals);switch(d.start.period){case"day":switch(d.end.period){case"hour":if(h=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!h.test(l))throw new m.L8(m.Z7.IllegalInterval);w[d.start.period]=parseFloat(l.split(" ")[0]),w[d.end.period]=parseFloat(l.split(" ")[1]);break;case"minute":if(h=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!h.test(l))throw new m.L8(m.Z7.IllegalInterval);{w[d.start.period]=parseFloat(l.split(" ")[0]);const p=l.split(" ")[1].split(":");w.hour=parseFloat(p[0]),w.minute=parseFloat(p[1])}break;case"second":if(h=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!h.test(l))throw new m.L8(m.Z7.IllegalInterval);{w[d.start.period]=parseFloat(l.split(" ")[0]);const p=l.split(" ")[1].split(":");w.hour=parseFloat(p[0]),w.minute=parseFloat(p[1]),SqlInterval_s._parseSecondsComponent(w,p[2])}break;default:throw new m.L8(m.Z7.IllegalInterval)}break;case"hour":switch(d.end.period){case"minute":if(h=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!h.test(l))throw new m.L8(m.Z7.IllegalInterval);w.hour=parseFloat(l.split(":")[0]),w.minute=parseFloat(l.split(":")[1]);break;case"second":if(h=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!h.test(l))throw new m.L8(m.Z7.IllegalInterval);{const d=l.split(":");w.hour=parseFloat(d[0]),w.minute=parseFloat(d[1]),SqlInterval_s._parseSecondsComponent(w,d[2])}break;default:throw new m.L8(m.Z7.IllegalInterval)}break;case"minute":if("second"!==d.end.period)throw new m.L8(m.Z7.IllegalInterval);if(h=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!h.test(l))throw new m.L8(m.Z7.IllegalInterval);{const d=l.split(":");w.minute=parseFloat(d[0]),SqlInterval_s._parseSecondsComponent(w,d[1])}break;default:throw new m.L8(m.Z7.IllegalInterval)}}return w}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}var at=p(20512);const it=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,ot=/^(\d{1,2}):(\d{1,2})$/,ut=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,st=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,lt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,ct=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,ft=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,dt=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function T(l,d){if(d instanceof rt.bo)return d===at.GB.instance?rt.c9.fromMillis(l.getTime(),{zone:at.GB.instance}):rt.c9.fromJSDate(l,{zone:d});switch(d){case"system":case"local":case null:return rt.c9.fromJSDate(l);default:return"unknown"===(null===d||void 0===d?void 0:d.toLowerCase())?rt.c9.fromMillis(l.getTime(),{zone:at.GB.instance}):rt.c9.fromJSDate(l,{zone:d})}}function v(l){return"number"==typeof l}function y(l){return"string"==typeof l||l instanceof String}function S(l){return l instanceof SqlInterval_s}function sqlDateParsingUtils_x(l){return l instanceof Date}function j(l){return l instanceof rt.c9}function $(l){return l instanceof I.n}function z(l){return l instanceof tt.k}function D(l){return l instanceof et.g}function O(l){let d=it.exec(l);if(null!==d){const[,l,p,h]=d,w=tt.k.fromParts(parseInt(l,10),parseInt(p,10),parseInt(h,10),0);if(null!==w)return w;throw new m.L8(m.Z7.InvalidTime)}if(d=ot.exec(l),null!==d){const[,l,p]=d,h=tt.k.fromParts(parseInt(l,10),parseInt(p,10),0,0);if(null!==h)return h;throw new m.L8(m.Z7.InvalidTime)}if(d=ut.exec(l),null!==d){const[,l,p,h,w]=d,I=tt.k.fromParts(parseInt(l,10),parseInt(p,10),parseInt(h,10),parseInt(w,10));if(null!==I)return I;throw new m.L8(m.Z7.InvalidTime)}throw new m.L8(m.Z7.InvalidTime)}function sqlDateParsingUtils_P(l,d){let p=lt.exec(l);if(null!==p){const[,l,h,w,I,et,tt,nt]=p,it=rt.c9.fromObject({year:parseInt(l,10),month:parseInt(h,10),day:parseInt(w,10),hour:parseInt(I,10),minute:parseInt(et,10),second:parseInt(tt,10),millisecond:nt?parseInt(nt.replace(".",""),10):0},{zone:(0,at.Qo)(d)});if(!1===it.isValid)throw new m.L8(m.Z7.InvalidTimeStamp);return it}if(p=ct.exec(l),null!==p){const[,l,d,h,w,I,tt,rt,nt,at,it]=p,ot=et.g.fromParts(parseInt(l,10),parseInt(d,10),parseInt(h,10),parseInt(w,10),parseInt(I,10),parseInt(tt,10),rt?parseInt(rt.replace(".",""),10):0,"-"===nt,parseInt(at,10),parseInt(it,10));if(!1===ot.isValid)throw new m.L8(m.Z7.InvalidTimeStamp);return ot}if(p=ft.exec(l),null!==p){const[,l,d,h,w,I,tt,rt,nt]=p,at=et.g.fromParts(parseInt(l,10),parseInt(d,10),parseInt(h,10),parseInt(w,10),parseInt(I,10),0,0,"-"===tt,parseInt(rt,10),parseInt(nt,10));if(!1===at.isValid)throw new m.L8(m.Z7.InvalidTimeStamp);return at}if(p=dt.exec(l),null!==p){const[,l,h,w,I,et]=p,tt=rt.c9.fromObject({year:parseInt(l,10),month:parseInt(h,10),day:parseInt(w,10),hour:parseInt(I,10),minute:parseInt(et,10),second:0},{zone:(0,at.Qo)(d)});if(!1===tt.isValid)throw new m.L8(m.Z7.InvalidTimeStamp);return tt}if(p=st.exec(l),null!==p){const[,l,h,w]=p,I=rt.c9.fromObject({year:parseInt(l,10),month:parseInt(h,10),day:parseInt(w,10),hour:0,minute:0,second:0},{zone:(0,at.Qo)(d)});if(!1===I.isValid)throw new m.L8(m.Z7.InvalidTimeStamp);return I}throw new m.L8(m.Z7.InvalidTimeStamp)}function V(l,d){const p=st.exec(l);if(null===p)try{return sqlDateParsingUtils_P(l,d)}catch{throw new m.L8(m.Z7.InvalidDate)}const[,h,w,et]=p,tt=I.n.fromParts(parseInt(h,10),parseInt(w,10),parseInt(et,10));if(null===tt)throw new m.L8(m.Z7.InvalidDate);return tt}var pt=p(4389);const ht=321408e5,vt=26784e5,mt=864e5,wt=36e5,It=6e4;function sqlCompareUtils_h(l){return!!j(l)||!!D(l)}function sqlCompareUtils_v(l){if(j(l))return l.toMillis();if($(l))return l.toNumber();if(D(l))return l.toMilliseconds();throw new m.L8(m.Z7.InvalidDataType)}function sqlCompareUtils_I(l,d,p,h){if(null==l||null==d)return null;if(v(l)){if(v(d))return sqlCompareUtils_D(l,d,p);if(y(d))return function sqlCompareUtils_T(l,d,p){const h=parseFloat(d);if(!isNaN(h))return sqlCompareUtils_D(l,h,p);const m=l.toString();switch(p){case"<>":return m!==d;case"=":return m===d;case">":return m>d;case"<":return m<d;case">=":return m>=d;case"<=":return m<=d}}(l,d,p);if(function sqlCompareUtils_O(l){return!!j(l)||!!$(l)||!!D(l)||!!z(l)}(d))throw new m.L8(m.Z7.InvalidOperator);if($(d))throw new m.L8(m.Z7.InvalidOperator)}else if(y(l)){if(v(d))return function M(l,d,p){const h=parseFloat(l);if(!isNaN(h))return sqlCompareUtils_D(h,d,p);const m=d.toString();switch(p){case"<>":return l!==m;case"=":return l===m;case">":return l>m;case"<":return l<m;case">=":return l>=m;case"<=":return l<=m}}(l,d,p);if(y(d))return function sqlCompareUtils_z(l,d,p){switch(p){case"<>":return l!==d;case"=":return l===d;case">":return l>d;case"<":return l<d;case">=":return l>=d;case"<=":return l<=d}}(l,d,p);if(j(d))throw new m.L8(m.Z7.InvalidOperator);if($(d))throw new m.L8(m.Z7.InvalidOperator);if(z(d))throw new m.L8(m.Z7.InvalidOperator);if(D(d))throw new m.L8(m.Z7.InvalidOperator)}else if(j(l)){if(sqlCompareUtils_h(d)){if(l instanceof rt.c9&&(0,at.Y4)(l.zone)){if(d instanceof rt.c9&&!1===(0,at.Y4)(d.zone))return sqlCompareUtils_j(l,d,p);if(d instanceof et.g)return sqlCompareUtils_j(l,d,p)}else if(d instanceof rt.c9&&(0,at.Y4)(d.zone)){if(l instanceof rt.c9&&!1===(0,at.Y4)(l.zone))return sqlCompareUtils_j(l,d,p);if(l instanceof et.g)return sqlCompareUtils_j(l,d,p)}return sqlCompareUtils_D(sqlCompareUtils_v(l),sqlCompareUtils_v(d),p)}if(y(d))throw new m.L8(m.Z7.InvalidOperator);if($(d))return function N(l,d,p){const h=d.toDateTimeLuxon(l.zone);return sqlCompareUtils_D((l=l.startOf("day")).toMillis(),h.toMillis(),p)}(l,d,p);if(z(d))throw new m.L8(m.Z7.InvalidOperator);if(v(d))throw new m.L8(m.Z7.InvalidOperator)}else if($(l)){if(D(d))return function b(l,d,p){const h=l.toDateTimeLuxon(d.toDateTime().zone);return d=d.startOfDay(),sqlCompareUtils_D(h.toMillis(),d.toMilliseconds(),p)}(l,d,p);if(j(d))return function x(l,d,p){const h=l.toDateTimeLuxon(d.zone);return d=d.startOf("day"),sqlCompareUtils_D(h.toMillis(),d.toMillis(),p)}(l,d,p);if(y(d))throw new m.L8(m.Z7.InvalidOperator);if($(d))return sqlCompareUtils_D(l.toNumber(),d.toNumber(),p);if(z(d))throw new m.L8(m.Z7.InvalidOperator);if(v(d))throw new m.L8(m.Z7.InvalidOperator)}else if(z(l)){if(z(d))return sqlCompareUtils_D(l.toNumber(),d.toNumber(),p);if(y(d))throw new m.L8(m.Z7.InvalidOperator);if(v(d))throw new m.L8(m.Z7.InvalidOperator);if($(d))throw new m.L8(m.Z7.InvalidOperator);if(sqlCompareUtils_h(d))throw new m.L8(m.Z7.InvalidOperator)}else if(D(l)){if(sqlCompareUtils_h(d))return d instanceof rt.c9&&(0,at.Y4)(d.zone)?sqlCompareUtils_j(l,d,p):sqlCompareUtils_D(sqlCompareUtils_v(l),sqlCompareUtils_v(d),p);if(y(d))throw new m.L8(m.Z7.InvalidOperator);if($(d))return function sqlCompareUtils_y(l,d,p){const h=d.toDateTimeLuxon(l.toDateTime().zone);return sqlCompareUtils_D((l=l.startOfDay()).toMilliseconds(),h.toMillis(),p)}(l,d,p);if(z(d))throw new m.L8(m.Z7.InvalidOperator);if(v(d))throw new m.L8(m.Z7.InvalidOperator)}switch(p){case"<>":return l!==d;case"=":return l===d;case">":return l>d;case"<":return l<d;case">=":return l>=d;case"<=":return l<=d}}function sqlCompareUtils_D(l,d,p){switch(p){case"<>":return l!==d;case"=":return l===d;case">":return l>d;case"<":return l<d;case">=":return l>=d;case"<=":return l<=d}}function sqlCompareUtils_j(l,d,p){l instanceof et.g&&(l=l.toDateTime()),d instanceof et.g&&(d=d.toDateTime());const h=L(l),m=L(d);switch(p){case"<>":return h!==m;case"=":return h===m;case">":return h>m;case"<":return h<m;case">=":return h>=m;case"<=":return h<=m}}function L(l){return l.year*ht+l.month*vt+l.day*mt+l.hour*wt+l.minute*It+1e3*l.second+l.millisecond}function StandardizedFunctions_w(l,d,p){const h=gt[l.toLowerCase()];if(null==h)throw new m.L8(m.Z7.FunctionNotRecognized);if(d.length<h.minParams||d.length>h.maxParams)throw new m.L8(m.Z7.InvalidParameterCount,{name:l.toUpperCase()});return h.evaluate(d,p)}function StandardizedFunctions_p(l){return"string"==typeof l||l instanceof String}function StandardizedFunctions_g(l){return!sqlDateParsingUtils_x(l)&&!$(l)&&!j(l)&&!z(l)&&!D(l)}function StandardizedFunctions_x(l){return $(l)||z(l)?l.toString():D(l)?l.toSQLValue():j(l)?0===l.millisecond?l.toFormat("yyyy-LL-dd HH:mm:ss"):l.toSQL({includeOffset:!1}):sqlDateParsingUtils_x(l)?StandardizedFunctions_x(rt.c9.fromJSDate(l)):l.toString()}const gt={extract:{minParams:2,maxParams:2,evaluate:l=>{let[d,p]=l;if(null==p)return null;if(sqlDateParsingUtils_x(p))switch(d.toUpperCase()){case"SECOND":return p.getSeconds();case"MINUTE":return p.getMinutes();case"HOUR":return p.getHours();case"DAY":return p.getDate();case"MONTH":return p.getMonth()+1;case"YEAR":return p.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(j(p))switch(d.toUpperCase()){case"SECOND":return p.second;case"MINUTE":return p.minute;case"HOUR":return p.hour;case"DAY":return p.day;case"MONTH":return p.month;case"YEAR":return p.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new m.L8(m.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if($(p))switch(d.toUpperCase()){case"DAY":return p.day;case"MONTH":return p.month;case"YEAR":return p.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new m.L8(m.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(z(p))switch(d.toUpperCase()){case"SECOND":return p.second;case"MINUTE":return p.minute;case"HOUR":return p.hour}else if(D(p))switch(d.toUpperCase()){case"SECOND":return p.second;case"MINUTE":return p.minute;case"HOUR":return p.hour;case"DAY":return p.day;case"MONTH":return p.month;case"YEAR":return p.year;case"TIMEZONE_HOUR":return p.timezoneOffsetHour;case"TIMEZONE_MINUTE":return p.timezoneOffsetMinutes}throw new m.L8(m.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:l=>{if(2===l.length){const[d,p]=l;return null==d||null==p?null:d.toString().substring(p-1)}if(3===l.length){const[d,p,h]=l;return null==d||null==p||null==h?null:h<=0?"":d.toString().substring(p-1,p+h-1)}}},position:{minParams:2,maxParams:2,evaluate:l=>{let[d,p]=l;return null==d||null==p?null:p.indexOf(d)+1}},trim:{minParams:2,maxParams:3,evaluate:l=>{const d=3===l.length,p=d?l[1]:" ",h=d?l[2]:l[1];if(null==p||null==h)return null;const w="(".concat((0,pt.Cj)(p),")");switch(l[0]){case"BOTH":return h.replaceAll(new RegExp("^".concat(w,"*|").concat(w,"*$"),"g"),"");case"LEADING":return h.replaceAll(new RegExp("^".concat(w,"*"),"g"),"");case"TRAILING":return h.replaceAll(new RegExp("".concat(w,"*$"),"g"),"")}throw new m.L8(m.Z7.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.abs(l[0])},ceiling:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.ceil(l[0])},floor:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.floor(l[0])},log:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.log(l[0])},log10:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.log(l[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.sin(l[0])},cos:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.cos(l[0])},tan:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.tan(l[0])},asin:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.asin(l[0])},acos:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.acos(l[0])},atan:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.atan(l[0])},sign:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0]>0?1:l[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:l=>null==l[0]||null==l[1]?null:l[0]**l[1]},mod:{minParams:2,maxParams:2,evaluate:l=>null==l[0]||null==l[1]?null:l[0]%l[1]},round:{minParams:1,maxParams:2,evaluate:l=>{const d=l[0],p=2===l.length?10**l[1]:1;return null==d?null:Math.round(d*p)/p}},truncate:{minParams:1,maxParams:2,evaluate:l=>null==l[0]?null:1===l.length?parseInt(l[0].toFixed(0),10):parseFloat(l[0].toFixed(l[1]))},char_length:{minParams:1,maxParams:1,evaluate:l=>StandardizedFunctions_p(l[0])?l[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:l=>{let d="";for(let p=0;p<l.length;p++){if(null==l[p])return null;d+=l[p].toString()}return d}},lower:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:l[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:l=>{for(const d of l)if(null!==d)return d;return null}},cosh:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.cosh(l[0])},sinh:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.sinh(l[0])},tanh:{minParams:1,maxParams:1,evaluate:l=>null==l[0]?null:Math.tanh(l[0])},nullif:{minParams:2,maxParams:2,evaluate:(l,d)=>sqlCompareUtils_I(l[0],l[1],"=")?null:l[0]},cast:{minParams:2,maxParams:2,evaluate:(l,d)=>{const p=l[0],h=l[1];if(null===p)return null;switch(h.type){case"integer":{if(!StandardizedFunctions_g(p))throw new m.L8(m.Z7.CannotCastValue);const l=parseInt(p,10);if(isNaN(l))throw new m.L8(m.Z7.CannotCastValue);return l}case"smallint":{if(!StandardizedFunctions_g(p))throw new m.L8(m.Z7.CannotCastValue);const l=parseInt(p,10);if(isNaN(l))throw new m.L8(m.Z7.CannotCastValue);if(l>32767||l<-32767)throw new m.L8(m.Z7.CannotCastValue);return l}case"float":case"real":{if(!StandardizedFunctions_g(p))throw new m.L8(m.Z7.CannotCastValue);const l=parseFloat(p);if(isNaN(l))throw new m.L8(m.Z7.CannotCastValue);return l}case"time":return function StandardizedFunctions_v(l){if(sqlDateParsingUtils_x(l))return tt.k.fromDateJS(l);if(j(l))return tt.k.fromDateTime(l);if($(l))throw new m.L8(m.Z7.CannotCastValue);if(z(l))return l;if(D(l))return tt.k.fromSqlTimeStampOffset(l);if(StandardizedFunctions_p(l))return O(l);throw new m.L8(m.Z7.CannotCastValue)}(p);case"date":return function E(l){if(sqlDateParsingUtils_x(l))return I.n.fromDateJS(l);if(j(l))return I.n.fromParts(l.year,l.month,l.day);if($(l))return l;if(z(l))throw new m.L8(m.Z7.CannotCastValue);if(D(l)&&null===I.n.fromParts(l.year,l.month,l.day))throw new m.L8(m.Z7.CannotCastValue);if(StandardizedFunctions_p(l)){const d=I.n.fromReader(l);if(null!==d&&d.isValid)return d}throw new m.L8(m.Z7.CannotCastValue)}(p);case"timestamp":return function StandardizedFunctions_M(l,d,p){if(sqlDateParsingUtils_x(l))return T(l,d);if(j(l))return l;if($(l))return l.toDateTimeLuxon("unknown");if(z(l))throw new m.L8(m.Z7.CannotCastValue);if(D(l))return l;if(StandardizedFunctions_p(l))return sqlDateParsingUtils_P(l,"unknown",p);throw new m.L8(m.Z7.CannotCastValue)}(p,d,!0===h.withtimezone);case"varchar":{const l=StandardizedFunctions_x(p);if(l.length>h.size)throw new m.L8(m.Z7.CannotCastValue);return l}default:throw new m.L8(m.Z7.InvalidDataType)}}}};function sqlArithmeticUtils_d(l,d,p,h){if("||"===l)return StandardizedFunctions_w("concat",[d,p],h);if(null===d||null===p)return null;if(v(d)){if(v(p))return sqlArithmeticUtils_f(d,p,l);if(S(p))return function sqlArithmeticUtils_M(l,d,p){switch(p){case"+":return SqlInterval_s.createFromMilliseconds(l+d.valueInMilliseconds());case"-":return SqlInterval_s.createFromMilliseconds(l-d.valueInMilliseconds());case"*":return SqlInterval_s.createFromMilliseconds(l*d.valueInMilliseconds());case"/":return SqlInterval_s.createFromMilliseconds(l/d.valueInMilliseconds())}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(z(p))return function U(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if($(p))return function q(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(D(p))return function sqlArithmeticUtils_N(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(j(p))return function sqlArithmeticUtils_z(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(y(p))return function sqlArithmeticUtils_C(l,d,p){const h=parseFloat(d);if(isNaN(h))throw new m.L8(m.Z7.InvalidOperator);return sqlArithmeticUtils_f(l,h,p)}(d,p,l);throw new m.L8(m.Z7.InvalidOperator)}if($(d)){if(v(p))return function sqlArithmeticUtils_x(l,d,p){const h=1e3*d*24*60*60;switch(p){case"+":return l.plus("milliseconds",h);case"-":return l.plus("milliseconds",-1*h)}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(S(p))return function sqlArithmeticUtils_T(l,d,p){switch(p){case"+":return l.plus("milliseconds",d.valueInMilliseconds());case"-":return l.plus("milliseconds",-1*d.valueInMilliseconds())}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(z(p))return function sqlArithmeticUtils_E(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if($(p))return function B(l,d,p){if("-"===p)return l.toDateTimeLuxon("UTC").diff(d.toDateTimeLuxon("UTC")).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(D(p))return function A(l,d,p){if("-"===p)return l.toDateTimeLuxon(d.toDateTime().zone).diff(d.toDateTime()).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(j(p))return function k(l,d,p){if("-"===p)return l.toDateTimeLuxon(d.zone).diff(d).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(y(p))return function _(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();throw new m.L8(m.Z7.InvalidOperator)}if(z(d)){if(v(p))return function sqlArithmeticUtils_L(l,d,p){const h=1e3*d*24*60*60;switch(p){case"+":return l.plus("milliseconds",h);case"-":return l.plus("milliseconds",-1*h)}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(S(p))return function sqlArithmeticUtils_p(l,d,p){switch(p){case"+":return l.plus("milliseconds",d.valueInMilliseconds());case"-":return l.plus("milliseconds",-1*d.valueInMilliseconds())}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(z(p))return function W(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if($(p))return function R(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(D(p))return function sqlArithmeticUtils_V(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(j(p))return function Q(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(y(p))return function nn(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();throw new m.L8(m.Z7.InvalidOperator)}if(S(d)){if(v(p))return function sqlArithmeticUtils_m(l,d,p){switch(p){case"+":return SqlInterval_s.createFromMilliseconds(l.valueInMilliseconds()+d);case"-":return SqlInterval_s.createFromMilliseconds(l.valueInMilliseconds()-d);case"*":return SqlInterval_s.createFromMilliseconds(l.valueInMilliseconds()*d);case"/":return SqlInterval_s.createFromMilliseconds(l.valueInMilliseconds()/d)}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(S(p))return function sqlArithmeticUtils_O(l,d,p){switch(p){case"+":return SqlInterval_s.createFromMilliseconds(l.valueInMilliseconds()+d.valueInMilliseconds());case"-":return SqlInterval_s.createFromMilliseconds(l.valueInMilliseconds()-d.valueInMilliseconds());case"*":return SqlInterval_s.createFromMilliseconds(l.valueInMilliseconds()*d.valueInMilliseconds());case"/":return SqlInterval_s.createFromMilliseconds(l.valueInMilliseconds()/d.valueInMilliseconds())}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(z(p))return function sqlArithmeticUtils_v(l,d,p){if("+"===p)return d.plus("milliseconds",l.valueInMilliseconds());throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if($(p))return function sqlArithmeticUtils_I(l,d,p){if("+"===p)return d.plus("milliseconds",l.valueInMilliseconds());throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(D(p))return function sqlArithmeticUtils_h(l,d,p){if("+"===p)return d.addMilliseconds(l.valueInMilliseconds());throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(j(p))return function sqlArithmeticUtils_w(l,d,p){switch(p){case"+":return d.plus({milliseconds:l.valueInMilliseconds()});case"-":return l.valueInMilliseconds()-d.toMillis()}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(y(p))return function sqlArithmeticUtils_P(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();throw new m.L8(m.Z7.InvalidOperator)}if(j(d)){if(v(p))return function sqlArithmeticUtils_y(l,d,p){const h=1e3*d*24*60*60;switch(p){case"+":return l.plus({milliseconds:h});case"-":return l.minus({milliseconds:h})}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(S(p))return function sqlArithmeticUtils_D(l,d,p){switch(p){case"+":return l.plus({milliseconds:d.valueInMilliseconds()});case"-":return l.minus({milliseconds:d.valueInMilliseconds()})}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(z(p))return function sqlArithmeticUtils_$(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if($(p))return function Y(l,d,p){if("-"===p)return l.diff(d.toDateTimeLuxon(l.zone)).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(D(p))return function Z(l,d,p){if("-"===p)return l.diff(d.toDateTime()).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(j(p))return function X(l,d,p){if("-"===p)return l.diff(d).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(y(p))return function rn(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();throw new m.L8(m.Z7.InvalidOperator)}if(D(d)){if(v(p))return function sqlArithmeticUtils_j(l,d,p){const h=1e3*d*24*60*60;switch(p){case"+":return l.addMilliseconds(h);case"-":return l.addMilliseconds(-1*h)}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(S(p))return function F(l,d,p){switch(p){case"+":return l.addMilliseconds(d.valueInMilliseconds());case"-":return l.addMilliseconds(-1*d.valueInMilliseconds())}throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(z(p))return function G(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if($(p))return function H(l,d,p){if("-"===p)return l.toDateTime().diff(d.toDateTimeLuxon(l.toDateTime().zone)).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(D(p))return function K(l,d,p){if("-"===p)return l.toDateTime().diff(d.toDateTime()).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(j(p))return function J(l,d,p){if("-"===p)return l.toDateTime().diff(d).as("days");throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);if(y(p))return function en(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();throw new m.L8(m.Z7.InvalidOperator)}if(y(d)){if(v(p))return function sqlArithmeticUtils_S(l,d,p){const h=parseFloat(l);if(isNaN(h))throw new m.L8(m.Z7.InvalidOperator);return sqlArithmeticUtils_f(h,d,p)}(d,p,l);if(S(p))return function sqlArithmeticUtils_b(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(z(p))return function tn(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if($(p))return function on(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(D(p))return function ln(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(j(p))return function an(l,d,p){throw new m.L8(m.Z7.InvalidOperator)}();if(y(p))return function sqlArithmeticUtils_g(l,d,p){if("+"===p)return l+d;throw new m.L8(m.Z7.InvalidOperator)}(d,p,l);throw new m.L8(m.Z7.InvalidOperator)}throw new m.L8(m.Z7.InvalidOperator)}function sqlArithmeticUtils_f(l,d,p){switch(p){case"+":return l+d;case"-":return l-d;case"*":return l*d;case"/":return l/d}throw new m.L8(m.Z7.InvalidOperator)}p(2155);var yt,_t,St={exports:{}};_t=function(){function t(l,d,p,h){var m=Error.call(this,l);return Object.setPrototypeOf&&Object.setPrototypeOf(m,t.prototype),m.expected=d,m.found=p,m.location=h,m.name="SyntaxError",m}function n(l,d,p){return p=p||" ",l.length>d?l:(d-=l.length,l+(p+=p.repeat(d)).slice(0,d))}return function r(l,d){function n(){this.constructor=l}n.prototype=d.prototype,l.prototype=new n}(t,Error),t.prototype.format=function(l){var d="Error: "+this.message;if(this.location){var p,h=null;for(p=0;p<l.length;p++)if(l[p].source===this.location.source){h=l[p].text.split(/\r\n|\n|\r/g);break}var m=this.location.start,w=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(m):m,I=this.location.source+":"+w.line+":"+w.column;if(h){var et=this.location.end,tt=n("",w.line.toString().length," "),rt=h[m.line-1],nt=(m.line===et.line?et.column:rt.length+1)-m.column||1;d+="\n --\x3e "+I+"\n"+tt+" |\n"+w.line+" | "+rt+"\n"+tt+" | "+n("",m.column-1," ")+n("",nt,"^")}else d+="\n at "+I}return d},t.buildMessage=function(l,d){var p={literal:function(l){return'"'+u(l.text)+'"'},class:function(l){var d=l.parts.map((function(l){return Array.isArray(l)?o(l[0])+"-"+o(l[1]):o(l)}));return"["+(l.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(l){return l.description}};function e(l){return l.charCodeAt(0).toString(16).toUpperCase()}function u(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(l){return"\\x0"+e(l)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(l){return"\\x"+e(l)}))}function o(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(l){return"\\x0"+e(l)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(l){return"\\x"+e(l)}))}function i(l){return p[l.type](l)}return"Expected "+function a(l){var d,p,h=l.map(i);if(h.sort(),h.length>0){for(d=1,p=1;d<h.length;d++)h[d-1]!==h[d]&&(h[p]=h[d],p++);h.length=p}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}(l)+" but "+function s(l){return l?'"'+u(l)+'"':"end of input"}(d)+" found."},{SyntaxError:t,parse:function e(l,d){var p,h={},m=(d=void 0!==d?d:{}).grammarSource,w={start:Bu},I=Bu,et="!",tt="=",rt=">=",nt=">",at="<=",it="<>",ot="<",ut="!=",st="+",lt="-",ct="||",ft="*",dt="/",pt="@",ht="'",vt="N'",mt="''",wt=".",It="null",gt="true",yt="false",_t="in",St="is",Zt="like",Ct="escape",Tt="not",Lt="and",Nt="or",Ut="between",Ot="from",At="for",xt="substring",Dt="extract",bt="trim",Et="position",Ft="timestamp",Mt="date",qt="time",Pt="leading",Rt="trailing",zt="both",Vt="cast",$t="as",kt="integer",Jt="smallint",jt="float",Wt="real",Ht="varchar",Yt="to",Bt="interval",Qt="year",Gt="timezone_hour",Kt="timezone_minute",Xt="month",er="day",tr="hour",rr="minute",nr="second",ar="case",ir="end",or="when",ur="then",sr="else",lr=",",cr="(",fr=")",dr="`",pr=/^[A-Za-z_\x80-\uFFFF]/,hr=/^[A-Za-z0-9_]/,vr=/^[A-Za-z0-9_.\x80-\uFFFF]/,mr=/^["]/,wr=/^[^']/,Ir=/^[0-9]/,gr=/^[eE]/,yr=/^[+\-]/,_r=/^[ \t\n\r]/,Sr=/^[^`]/,Zr=Uu("!",!1),Cr=Uu("=",!1),Tr=Uu(">=",!1),Lr=Uu(">",!1),Nr=Uu("<=",!1),Ur=Uu("<>",!1),Or=Uu("<",!1),Ar=Uu("!=",!1),xr=Uu("+",!1),Dr=Uu("-",!1),br=Uu("||",!1),Er=Uu("*",!1),Fr=Uu("/",!1),Mr=$u([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),qr=$u([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Pr=$u([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),Rr=$u(['"'],!1,!1),zr=Uu("@",!1),Vr=Uu("'",!1),$r=Uu("N'",!1),kr=Uu("''",!1),Jr=$u(["'"],!0,!1),jr=Uu(".",!1),Wr=$u([["0","9"]],!1,!1),Hr=$u(["e","E"],!1,!1),Yr=$u(["+","-"],!1,!1),Br=Uu("NULL",!0),Qr=Uu("TRUE",!0),Gr=Uu("FALSE",!0),Kr=Uu("IN",!0),Xr=Uu("IS",!0),da=Uu("LIKE",!0),ha=Uu("ESCAPE",!0),ma=Uu("NOT",!0),wa=Uu("AND",!0),Ia=Uu("OR",!0),ga=Uu("BETWEEN",!0),ya=Uu("FROM",!0),_a=Uu("FOR",!0),Sa=Uu("SUBSTRING",!0),Za=Uu("EXTRACT",!0),Ca=Uu("TRIM",!0),Ta=Uu("POSITION",!0),La=Uu("TIMESTAMP",!0),Na=Uu("DATE",!0),Ua=Uu("TIME",!0),Oa=Uu("LEADING",!0),Aa=Uu("TRAILING",!0),xa=Uu("BOTH",!0),Da=Uu("CAST",!0),ba=Uu("AS",!0),Ea=Uu("INTEGER",!0),Fa=Uu("SMALLINT",!0),Ma=Uu("FLOAT",!0),qa=Uu("REAL",!0),Pa=Uu("VARCHAR",!0),Ra=Uu("TO",!0),za=Uu("INTERVAL",!0),Va=Uu("YEAR",!0),$a=Uu("TIMEZONE_HOUR",!0),ka=Uu("TIMEZONE_MINUTE",!0),Ja=Uu("MONTH",!0),ja=Uu("DAY",!0),Wa=Uu("HOUR",!0),Ha=Uu("MINUTE",!0),Ya=Uu("SECOND",!0),Ba=Uu("CASE",!0),Qa=Uu("END",!0),Ga=Uu("WHEN",!0),Ka=Uu("THEN",!0),Xa=Uu("ELSE",!0),Iu=Uu(",",!1),_u=Uu("(",!1),Su=Uu(")",!1),Ou=$u([" ","\t","\n","\r"],!1,!1),Fu=Uu("`",!1),Mu=$u(["`"],!0,!1),rn=function(l){return l},tn=function(l,d){var p={type:"expression-list"},h=function ca(l,d,p){return function sa(l,d){for(var p=[l],h=0;h<d.length;h++)p.push(d[h][3]);return p}(l,d)}(l,d);return p.value=h,p},nn=function(l,d){return fa(l,d)},en=function(l,d){return fa(l,d)},un=function(l){return function ia(l,d){return{type:"unary-expression",operator:l,expr:d}}("NOT",l)},on=function(l,d){return""==d||null==d||null==d?l:"arithmetic"==d.type?fa(l,d.tail):aa(d.op,l,d.right,d.escape)},an=function(l){return{type:"arithmetic",tail:l}},sn=function(l,d){return{op:l+"NOT",right:d}},cn=function(l,d){return{op:l,right:d}},fn=function(l,d,p){return{op:"NOT"+l,right:{type:"expression-list",value:[d,p]}}},ln=function(l,d,p){return{op:l,right:{type:"expression-list",value:[d,p]}}},vn=function(l){return l[0]+" "+l[2]},pn=function(l){return l[0]+" "+l[2]},dn=function(l,d,p){return{op:l,right:d,escape:p.value}},hn=function(l,d){return{op:l,right:d,escape:""}},yn=function(l,d){return{op:l,right:d}},bn=function(l){return{op:l,right:{type:"expression-list",value:[]}}},An=function(l,d){return{op:l,right:d}},Cn=function(l,d){return fa(l,d)},gn=function(l,d){return fa(l,d)},mn=function(l){return l.paren=!0,l},En=function(l){return/^CURRENT_DATE$/i.test(l)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(l)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:l}},Ln=function(l){return{type:"column-reference",table:"",column:l,delimited:!0}},Tn=function(l){return l},wn=function(l,d){return l+d.join("")},xn=function(l,d){return l+d.join("")},Nn=function(l){return l},In=function(l){return l.join("")},On=function(){return'"'},Rn=function(l){return{type:"parameter",value:l[1]}},Sn=function(l,d){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:l},d]}}},Fn=function(l,d,p){return{type:"function",name:"substring",args:{type:"expression-list",value:p?[l,d,p[2]]:[l,d]}}},Mn=function(l,d){return{type:"function",name:"cast",args:{type:"expression-list",value:[l,d]}}},Hn=function(){return{type:"data-type",value:{type:"integer"}}},Un=function(){return{type:"data-type",value:{type:"smallint"}}},$n=function(){return{type:"data-type",value:{type:"float"}}},_n=function(){return{type:"data-type",value:{type:"real"}}},Dn=function(){return{type:"data-type",value:{type:"date"}}},jn=function(){return{type:"data-type",value:{type:"timestamp"}}},Zn=function(){return{type:"data-type",value:{type:"time"}}},zn=function(l){return{type:"data-type",value:{type:"varchar",size:parseInt(l)}}},Pn=function(l,d,p){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null!==l&&void 0!==l?l:"BOTH"},d,p]}}},Bn=function(l,d){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null!==l&&void 0!==l?l:"BOTH"},d]}}},Gn=function(l,d){return{type:"function",name:"position",args:{type:"expression-list",value:[l,d]}}},Vn=function(l,d){return{type:"function",name:l,args:d||{type:"expression-list",value:[]}}},Wn=function(l){return"string"===l.type&&function la(l){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(l)&&Hu("Timestamp literal is invalid")}(l.value),{type:"timestamp",value:l.value}},Yn=function(l){return"string"===l.type&&function va(l){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(l)&&Hu("Time literal is invalid")}(l.value),{type:"time",value:l.value}},kn=function(l,d,p){return{type:"interval",value:d,qualifier:p,op:l}},qn=function(l,d){return{type:"interval",value:l,qualifier:d,op:""}},Kn=function(l,d){return{type:"interval-qualifier",start:l,end:d}},Xn=function(l,d){return{type:"interval-period",period:l.value,precision:d,secondary:null}},Jn=function(l){return{type:"interval-period",period:l.value,precision:null,secondary:null}},Qn=function(l){return{type:"interval-period",period:l.value,precision:null,secondary:null}},re=function(l,d){return{type:"interval-period",period:"second",precision:l,secondary:d}},te=function(l){return{type:"interval-period",period:"second",precision:l,secondary:null}},ne=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},ee=function(l,d){return{type:"interval-period",period:l.value,precision:d,secondary:null}},ue=function(l){return{type:"interval-period",period:l.value,precision:null,secondary:null}},oe=function(l,d){return{type:"interval-period",period:"second",precision:l,secondary:d}},ie=function(l){return{type:"interval-period",period:"second",precision:l,secondary:null}},ae=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},se=function(){return{type:"string",value:"day"}},ce=function(){return{type:"string",value:"hour"}},fe=function(){return{type:"string",value:"minute"}},le=function(){return{type:"string",value:"month"}},ve=function(){return{type:"string",value:"year"}},pe=function(l){return parseFloat(l)},de=function(l){return parseFloat(l)},he=function(l){return"string"===l.type&&function pa(l){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(l)&&Hu("Date literal is invalid")}(l.value),{type:"date",value:l.value}},ye=function(){return{type:"null",value:null}},be=function(){return{type:"boolean",value:!0}},Ae=function(){return{type:"boolean",value:!1}},Ce=function(){return"'"},ge=function(l){return{type:"string",value:l.join("")}},me=function(l,d){return{type:"case-expression",format:"simple",operand:l,clauses:d,else:null}},Ee=function(l,d,p){return{type:"case-expression",format:"simple",operand:l,clauses:d,else:p.value}},Le=function(l){return{type:"case-expression",format:"searched",clauses:l,else:null}},Te=function(l,d){return{type:"case-expression",format:"searched",clauses:l,else:d.value}},we=function(l,d){return{type:"when-clause",operand:l,value:d}},xe=function(l,d){return{type:"when-clause",operand:l,value:d}},Ne=function(l){return{type:"else-clause",value:l}},Ie=function(l){return{type:"number",value:l}},Oe=function(l,d,p){return parseFloat(l+d+p)},Re=function(l,d){return parseFloat(l+d)},Se=function(l,d){return parseFloat(l+d)},Fe=function(l){return parseFloat(l)},Me=function(l,d){return l[0]+d},He=function(l){return"."+(null!=l?l:"")},Ue=function(l,d){return l+d},$e=function(l){return l.join("")},_e=function(l,d){return"e"+(null===d?"":d)},De=function(){return"IN"},je=function(){return"IS"},Ze=function(){return"LIKE"},ze=function(){return"ESCAPE"},Pe=function(){return"NOT"},Be=function(){return"AND"},Ge=function(){return"OR"},Ve=function(){return"BETWEEN"},We=function(){return"FROM"},Ye=function(){return"FOR"},ke=function(){return"SUBSTRING"},qe=function(){return"EXTRACT"},Ke=function(){return"TRIM"},Xe=function(){return"POSITION"},Je=function(){return"TIMESTAMP"},Qe=function(){return"DATE"},ru=function(){return"TIME"},tu=function(){return"LEADING"},nu=function(){return"TRAILING"},eu=function(){return"BOTH"},uu=function(){return"CAST"},ou=function(){return"AS"},iu=function(){return"INTEGER"},au=function(){return"SMALLINT"},su=function(){return"FLOAT"},cu=function(){return"REAL"},fu=function(){return"VARCHAR"},lu=function(){return"TO"},vu=function(){return"INTERVAL"},pu=function(){return"YEAR"},du=function(){return"TIMEZONE_HOUR"},hu=function(){return"TIMEZONE_MINUTE"},yu=function(){return"MONTH"},bu=function(){return"DAY"},Au=function(){return"HOUR"},Cu=function(){return"MINUTE"},gu=function(){return"SECOND"},mu=function(){return"CASE"},Eu=function(){return"END"},Lu=function(){return"WHEN"},Tu=function(){return"THEN"},wu=function(){return"ELSE"},xu=function(l){return l},Nu=function(l){return l.join("")},Ru=0,es=0,ts=[{line:1,column:1}],rs=0,ns=[],as=0;if("startRule"in d){if(!(d.startRule in w))throw new Error("Can't start parsing from rule \""+d.startRule+'".');I=w[d.startRule]}function Hu(l,d){throw zu(l,d=void 0!==d?d:ju(es,Ru))}function Uu(l,d){return{type:"literal",text:l,ignoreCase:d}}function $u(l,d,p){return{type:"class",parts:l,inverted:d,ignoreCase:p}}function Du(d){var p,h=ts[d];if(h)return h;for(p=d-1;!ts[p];)p--;for(h={line:(h=ts[p]).line,column:h.column};p<d;)10===l.charCodeAt(p)?(h.line++,h.column=1):h.column++,p++;return ts[d]=h,h}function ju(l,d,p){var h=Du(l),w=Du(d),I={source:m,start:{offset:l,line:h.line,column:h.column},end:{offset:d,line:w.line,column:w.column}};return p&&m&&"function"==typeof m.offset&&(I.start=m.offset(I.start),I.end=m.offset(I.end)),I}function Zu(l){Ru<rs||(Ru>rs&&(rs=Ru,ns=[]),ns.push(l))}function zu(l,d){return new t(l,null,null,d)}function Bu(){var l,d;return l=Ru,ea(),(d=Vu())!==h?(ea(),es=l,l=rn(d)):(Ru=l,l=h),l}function Gu(){var l,d,p,m,w,I,et,tt;if(l=Ru,(d=Vu())!==h){for(p=[],m=Ru,w=ea(),(I=ra())!==h?(et=ea(),(tt=Vu())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);m!==h;)p.push(m),m=Ru,w=ea(),(I=ra())!==h?(et=ea(),(tt=Vu())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);es=l,l=tn(d,p)}else Ru=l,l=h;return l}function Vu(){var l,d,p,m,w,I,et,tt;if(l=Ru,(d=Wu())!==h){for(p=[],m=Ru,w=ea(),(I=Ai())!==h?(et=ea(),(tt=Wu())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);m!==h;)p.push(m),m=Ru,w=ea(),(I=Ai())!==h?(et=ea(),(tt=Wu())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);es=l,l=nn(d,p)}else Ru=l,l=h;return l}function Wu(){var l,d,p,m,w,I,et,tt;if(l=Ru,(d=Yu())!==h){for(p=[],m=Ru,w=ea(),(I=bi())!==h?(et=ea(),(tt=Yu())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);m!==h;)p.push(m),m=Ru,w=ea(),(I=bi())!==h?(et=ea(),(tt=Yu())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);es=l,l=en(d,p)}else Ru=l,l=h;return l}function Yu(){var d,p,m,w,I;return d=Ru,(p=yi())===h&&(p=Ru,33===l.charCodeAt(Ru)?(m=et,Ru++):(m=h,0===as&&Zu(Zr)),m!==h?(w=Ru,as++,61===l.charCodeAt(Ru)?(I=tt,Ru++):(I=h,0===as&&Zu(Cr)),as--,I===h?w=void 0:(Ru=w,w=h),w!==h?p=m=[m,w]:(Ru=p,p=h)):(Ru=p,p=h)),p!==h?(m=ea(),(w=Yu())!==h?(es=d,d=un(w)):(Ru=d,d=h)):(Ru=d,d=h),d===h&&(d=function ku(){var l,d,p;return l=Ru,(d=uo())!==h?(ea(),(p=function qu(){var l;return(l=function Ku(){var l,d,p,m,w,I,et;if(l=Ru,d=[],p=Ru,m=ea(),(w=Xu())!==h?(I=ea(),(et=uo())!==h?p=m=[m,w,I,et]:(Ru=p,p=h)):(Ru=p,p=h),p!==h)for(;p!==h;)d.push(p),p=Ru,m=ea(),(w=Xu())!==h?(I=ea(),(et=uo())!==h?p=m=[m,w,I,et]:(Ru=p,p=h)):(Ru=p,p=h);else d=h;return d!==h&&(es=l,d=an(d)),d}())===h&&(l=function eo(){var l,d,p,m;return l=Ru,(d=to())!==h?(ea(),(p=ta())!==h?(ea(),(m=Gu())!==h?(ea(),na()!==h?(es=l,l=yn(d,m)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=to())!==h?(ea(),(p=ta())!==h?(ea(),(m=na())!==h?(es=l,l=bn(d)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=to())!==h?(ea(),(p=Lo())!==h?(es=l,l=An(d,p)):(Ru=l,l=h)):(Ru=l,l=h))),l}())===h&&(l=function Qu(){var l,d,p,m,w,I;return l=Ru,(d=yi())!==h?(ea(),(p=Ci())!==h?(ea(),(m=uo())!==h?(ea(),(w=bi())!==h?(ea(),(I=uo())!==h?(es=l,l=fn(p,m,I)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=Ci())!==h?(ea(),(p=uo())!==h?(ea(),(m=bi())!==h?(ea(),(w=uo())!==h?(es=l,l=ln(d,p,w)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)),l}())===h&&(l=function Ju(){var l,d,p,m;return l=Ru,(d=pi())!==h?(ea(),(p=yi())!==h?(ea(),(m=uo())!==h?(es=l,l=sn(d,m)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=pi())!==h?(ea(),(p=uo())!==h?(es=l,l=cn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)),l}())===h&&(l=function no(){var l,d,p,m;return l=Ru,(d=ro())!==h?(ea(),(p=Yo())!==h?(ea(),hi()!==h?(ea(),(m=ko())!==h?(es=l,l=dn(d,p,m)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=ro())!==h?(ea(),(p=Yo())!==h?(es=l,l=hn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)),l}()),l}())===h&&(p=null),es=l,l=on(d,p)):(Ru=l,l=h),l}()),d}function Xu(){var d;return l.substr(Ru,2)===rt?(d=rt,Ru+=2):(d=h,0===as&&Zu(Tr)),d===h&&(62===l.charCodeAt(Ru)?(d=nt,Ru++):(d=h,0===as&&Zu(Lr)),d===h&&(l.substr(Ru,2)===at?(d=at,Ru+=2):(d=h,0===as&&Zu(Nr)),d===h&&(l.substr(Ru,2)===it?(d=it,Ru+=2):(d=h,0===as&&Zu(Ur)),d===h&&(60===l.charCodeAt(Ru)?(d=ot,Ru++):(d=h,0===as&&Zu(Or)),d===h&&(61===l.charCodeAt(Ru)?(d=tt,Ru++):(d=h,0===as&&Zu(Cr)),d===h&&(l.substr(Ru,2)===ut?(d=ut,Ru+=2):(d=h,0===as&&Zu(Ar)))))))),d}function ro(){var l,d,p,m,w;return l=Ru,d=Ru,(p=yi())!==h?(m=ea(),(w=di())!==h?d=p=[p,m,w]:(Ru=d,d=h)):(Ru=d,d=h),d!==h&&(es=l,d=vn(d)),(l=d)===h&&(l=di()),l}function to(){var l,d,p,m,w;return l=Ru,d=Ru,(p=yi())!==h?(m=ea(),(w=vi())!==h?d=p=[p,m,w]:(Ru=d,d=h)):(Ru=d,d=h),d!==h&&(es=l,d=pn(d)),(l=d)===h&&(l=vi()),l}function uo(){var l,d,p,m,w,I,et,tt;if(l=Ru,(d=io())!==h){for(p=[],m=Ru,w=ea(),(I=oo())!==h?(et=ea(),(tt=io())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);m!==h;)p.push(m),m=Ru,w=ea(),(I=oo())!==h?(et=ea(),(tt=io())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);es=l,l=Cn(d,p)}else Ru=l,l=h;return l}function oo(){var d;return 43===l.charCodeAt(Ru)?(d=st,Ru++):(d=h,0===as&&Zu(xr)),d===h&&(45===l.charCodeAt(Ru)?(d=lt,Ru++):(d=h,0===as&&Zu(Dr)),d===h&&(l.substr(Ru,2)===ct?(d=ct,Ru+=2):(d=h,0===as&&Zu(br)))),d}function io(){var l,d,p,m,w,I,et,tt;if(l=Ru,(d=so())!==h){for(p=[],m=Ru,w=ea(),(I=ao())!==h?(et=ea(),(tt=so())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);m!==h;)p.push(m),m=Ru,w=ea(),(I=ao())!==h?(et=ea(),(tt=so())!==h?m=w=[w,I,et,tt]:(Ru=m,m=h)):(Ru=m,m=h);es=l,l=gn(d,p)}else Ru=l,l=h;return l}function ao(){var d;return 42===l.charCodeAt(Ru)?(d=ft,Ru++):(d=h,0===as&&Zu(Er)),d===h&&(47===l.charCodeAt(Ru)?(d=dt,Ru++):(d=h,0===as&&Zu(Fr))),d}function so(){var l,d;return(l=function Mo(){var l;return(l=ko())===h&&(l=function ti(){var l,d,p,m;return l=Ru,(d=function ni(){var l,d,p,m;return l=Ru,(d=ei())!==h&&(p=ui())!==h&&(m=oi())!==h?(es=l,l=Oe(d,p,m)):(Ru=l,l=h),l===h&&(l=Ru,(d=ei())!==h&&(p=ui())!==h?(es=l,l=Re(d,p)):(Ru=l,l=h),l===h&&(l=Ru,(d=ei())!==h&&(p=oi())!==h?(es=l,l=Se(d,p)):(Ru=l,l=h),l===h&&(l=Ru,(d=ei())!==h&&(es=l,d=Fe(d)),l=d))),l}())!==h?(p=Ru,as++,m=po(),as--,m===h?p=void 0:(Ru=p,p=h),p!==h?(es=l,l=Ie(d)):(Ru=l,l=h)):(Ru=l,l=h),l}())===h&&(l=function Wo(){var l,d;return l=Ru,(d=fi())!==h&&(es=l,d=be()),(l=d)===h&&(l=Ru,(d=li())!==h&&(es=l,d=Ae()),l=d),l}())===h&&(l=function Vo(){var l,d;return l=Ru,(d=ci())!==h&&(es=l,d=ye()),d}())===h&&(l=function Go(){var l,d;return l=Ru,Ni()!==h?(ea(),(d=Yo())!==h?(es=l,l=he(d)):(Ru=l,l=h)):(Ru=l,l=h),l}())===h&&(l=function Ho(){var l,d;return l=Ru,xi()!==h?(ea(),(d=Yo())!==h?(es=l,l=Wn(d)):(Ru=l,l=h)):(Ru=l,l=h),l}())===h&&(l=$o())===h&&(l=function Uo(){var l,d;return l=Ru,Ii()!==h?(ea(),(d=Yo())!==h?(es=l,l=Yn(d)):(Ru=l,l=h)):(Ru=l,l=h),l}()),l}())===h&&(l=function To(){var l,d,p;return l=Ru,Li()!==h?(ea(),ta()!==h?(ea(),(d=function Fo(){var l;return(l=zi())===h&&(l=Gi())===h&&(l=Vi())===h&&(l=Wi())===h&&(l=Yi())===h&&(l=ki())===h&&(l=Pi())===h&&(l=Bi()),l}())!==h?(ea(),gi()!==h?(ea(),(p=Vu())!==h?(ea(),na()!==h?(es=l,l=Sn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l}())===h&&(l=function wo(){var l,d,p,m,w,I,et;return l=Ru,Ei()!==h?(ea(),ta()!==h?(ea(),(d=Vu())!==h?(ea(),gi()!==h?(ea(),(p=Vu())!==h?(ea(),m=Ru,(w=mi())!==h?(I=ea(),(et=Vu())!==h?m=w=[w,I,et,ea()]:(Ru=m,m=h)):(Ru=m,m=h),m===h&&(m=null),(w=na())!==h?(es=l,l=Fn(d,p,m)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l}())===h&&(l=function Io(){var l,d,p,m;return l=Ru,Ti()!==h?(ea(),ta()!==h?(ea(),(d=Oo())===h&&(d=null),ea(),(p=Vu())!==h?(ea(),gi()!==h?(ea(),(m=Vu())!==h?(ea(),na()!==h?(es=l,l=Pn(d,p,m)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,Ti()!==h?(ea(),ta()!==h?(ea(),(d=Oo())===h&&(d=null),ea(),(p=Vu())!==h?(ea(),na()!==h?(es=l,l=Bn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)),l}())===h&&(l=function Ro(){var l,d,p;return l=Ru,wi()!==h?(ea(),ta()!==h?(ea(),(d=Vu())!==h?(ea(),vi()!==h?(ea(),(p=Vu())!==h?(ea(),na()!==h?(es=l,l=Gn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l}())===h&&(l=function xo(){var l,d,p;return l=Ru,Fi()!==h?(ea(),ta()!==h?(ea(),(d=Vu())!==h?(ea(),Mi()!==h?(ea(),(p=function No(){var l,d,p;return l=Ru,(d=Hi())!==h&&(es=l,d=Hn()),(l=d)===h&&(l=Ru,(d=Ui())!==h&&(es=l,d=Un()),(l=d)===h&&(l=Ru,(d=$i())!==h&&(es=l,d=$n()),(l=d)===h&&(l=Ru,(d=_i())!==h&&(es=l,d=_n()),(l=d)===h&&(l=Ru,(d=Ni())!==h&&(es=l,d=Dn()),(l=d)===h&&(l=Ru,(d=xi())!==h&&(es=l,d=jn()),(l=d)===h&&(l=Ru,(d=Ii())!==h&&(es=l,d=Zn()),(l=d)===h&&(l=Ru,(d=Di())!==h?(ea(),ta()!==h?(ea(),(p=ii())!==h?(ea(),na()!==h?(es=l,l=zn(p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)))))))),l}())!==h?(ea(),na()!==h?(es=l,l=Mn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l}())===h&&(l=function So(){var l,d,p;return l=Ru,(d=oa())!==h?(ea(),ta()!==h?(ea(),(p=Gu())===h&&(p=null),ea(),na()!==h?(es=l,l=Vn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l}())===h&&(l=function qo(){var l;return(l=function Ko(){var l,d,p,m,w;if(l=Ru,qi()!==h)if(ea(),(d=Vu())!==h){for(ea(),p=[],m=Qo();m!==h;)p.push(m),m=Qo();m=ea(),(w=Ki())!==h?(es=l,l=me(d,p)):(Ru=l,l=h)}else Ru=l,l=h;else Ru=l,l=h;if(l===h)if(l=Ru,qi()!==h)if(ea(),(d=Vu())!==h){for(ea(),p=[],m=Qo();m!==h;)p.push(m),m=Qo();m=ea(),(w=ri())!==h?(ea(),Ki()!==h?(es=l,l=Ee(d,p,w)):(Ru=l,l=h)):(Ru=l,l=h)}else Ru=l,l=h;else Ru=l,l=h;return l}())===h&&(l=function Xo(){var l,d,p,m;if(l=Ru,qi()!==h){for(ea(),d=[],p=Jo();p!==h;)d.push(p),p=Jo();p=ea(),(m=Ki())!==h?(es=l,l=Le(d)):(Ru=l,l=h)}else Ru=l,l=h;if(l===h)if(l=Ru,qi()!==h){for(ea(),d=[],p=Jo();p!==h;)d.push(p),p=Jo();p=ea(),(m=ri())!==h?(ea(),Ki()!==h?(es=l,l=Te(d,m)):(Ru=l,l=h)):(Ru=l,l=h)}else Ru=l,l=h;return l}()),l}())===h&&(l=function co(){var l,d;return l=Ru,(d=function fo(){var l,d;return l=Ru,(d=function lo(){var l,d,p,m;if(l=Ru,(d=po())!==h){for(p=[],m=yo();m!==h;)p.push(m),m=yo();es=l,l=wn(d,p)}else Ru=l,l=h;return l}())!==h&&(es=l,d=Tn(d)),d}())!==h&&(es=l,d=En(d)),(l=d)===h&&(l=Ru,(d=function bo(){var l,d;return l=Ru,Eo()!==h?(d=function Ao(){var l,d,p;for(l=Ru,d=[],p=Co();p!==h;)d.push(p),p=Co();return es=l,In(d)}(),Eo()!==h?(es=l,l=Nn(d)):(Ru=l,l=h)):(Ru=l,l=h),l}())!==h&&(es=l,d=Ln(d)),l=d),l}())===h&&(l=Lo())===h&&(l=Ru,ta()!==h?(ea(),(d=Vu())!==h?(ea(),na()!==h?(es=l,l=mn(d)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)),l}function vo(){var l,d,p,m;if(l=Ru,(d=po())!==h){for(p=[],m=ho();m!==h;)p.push(m),m=ho();es=l,l=xn(d,p)}else Ru=l,l=h;return l}function po(){var d;return pr.test(l.charAt(Ru))?(d=l.charAt(Ru),Ru++):(d=h,0===as&&Zu(Mr)),d}function ho(){var d;return hr.test(l.charAt(Ru))?(d=l.charAt(Ru),Ru++):(d=h,0===as&&Zu(qr)),d}function yo(){var d;return vr.test(l.charAt(Ru))?(d=l.charAt(Ru),Ru++):(d=h,0===as&&Zu(Pr)),d}function Co(){var l;return(l=mo())===h&&(l=function go(){var l;return l=Ru,Eo()!==h&&Eo()!==h?(es=l,l=On()):(Ru=l,l=h),l}()),l}function mo(){var d;return vr.test(l.charAt(Ru))?(d=l.charAt(Ru),Ru++):(d=h,0===as&&Zu(Pr)),d}function Eo(){var d;return mr.test(l.charAt(Ru))?(d=l.charAt(Ru),Ru++):(d=h,0===as&&Zu(Rr)),d}function Lo(){var d,p,m,w;return d=Ru,p=Ru,64===l.charCodeAt(Ru)?(m=pt,Ru++):(m=h,0===as&&Zu(zr)),m!==h&&(w=vo())!==h?p=m=[m,w]:(Ru=p,p=h),p!==h&&(es=d,p=Rn(p)),p}function Oo(){var l;return(l=Oi())===h&&(l=Ri())===h&&(l=Si()),l}function $o(){var d,p,m,w;return d=Ru,Zi()!==h?(ea(),45===l.charCodeAt(Ru)?(p=lt,Ru++):(p=h,0===as&&Zu(Dr)),p===h&&(43===l.charCodeAt(Ru)?(p=st,Ru++):(p=h,0===as&&Zu(xr))),p!==h?(ea(),(m=Yo())!==h?(ea(),(w=_o())!==h?(es=d,d=kn(p,m,w)):(Ru=d,d=h)):(Ru=d,d=h)):(Ru=d,d=h)):(Ru=d,d=h),d===h&&(d=Ru,Zi()!==h?(ea(),(p=Yo())!==h?(ea(),(m=_o())!==h?(es=d,d=qn(p,m)):(Ru=d,d=h)):(Ru=d,d=h)):(Ru=d,d=h)),d}function _o(){var l,d,p;return l=Ru,(d=function Do(){var l,d,p;return l=Ru,(d=zo())!==h?(ea(),ta()!==h?(ea(),(p=Bo())!==h?(ea(),na()!==h?(es=l,l=Xn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=zo())!==h&&(es=l,d=Jn(d)),l=d),l}())!==h?(ea(),ji()!==h?(ea(),(p=function jo(){var l,d,p,m;return l=Ru,(d=zo())!==h&&(es=l,d=Qn(d)),(l=d)===h&&(l=Ru,(d=ki())!==h?(ea(),ta()!==h?(ea(),(p=Bo())!==h?(ea(),ra()!==h?(ea(),(m=Po())!==h?(ea(),na()!==h?(es=l,l=re(p,m)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=ki())!==h?(ea(),ta()!==h?(ea(),(p=Bo())!==h?(ea(),na()!==h?(es=l,l=te(p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=ki())!==h&&(es=l,d=ne()),l=d))),l}())!==h?(es=l,l=Kn(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=function Zo(){var l,d,p,m;return l=Ru,(d=zo())!==h?(ea(),ta()!==h?(ea(),(p=Po())!==h?(ea(),na()!==h?(es=l,l=ee(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=zo())!==h&&(es=l,d=ue(d)),(l=d)===h&&(l=Ru,(d=ki())!==h?(ea(),ta()!==h?(ea(),(p=Bo())!==h?(ea(),ra()!==h?(ea(),(m=Po())!==h?(ea(),na()!==h?(es=l,l=oe(p,m)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=ki())!==h?(ea(),ta()!==h?(ea(),(p=Po())!==h?(ea(),na()!==h?(es=l,l=ie(p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l===h&&(l=Ru,(d=ki())!==h&&(es=l,d=ae()),l=d)))),l}()),l}function zo(){var l,d;return l=Ru,(d=Vi())!==h&&(es=l,d=se()),(l=d)===h&&(l=Ru,(d=Wi())!==h&&(es=l,d=ce()),(l=d)===h&&(l=Ru,(d=Yi())!==h&&(es=l,d=fe()),(l=d)===h&&(l=Ru,(d=Gi())!==h&&(es=l,d=le()),(l=d)===h&&(l=Ru,(d=zi())!==h&&(es=l,d=ve()),l=d)))),l}function Po(){var l,d;return l=Ru,(d=ii())!==h&&(es=l,d=pe(d)),d}function Bo(){var l,d;return l=Ru,(d=ii())!==h&&(es=l,d=de(d)),d}function Yo(){var l;return(l=ko())===h&&(l=Lo()),l}function ko(){var d,p,m,w,I;if(d=Ru,39===l.charCodeAt(Ru)?(p=ht,Ru++):(p=h,0===as&&Zu(Vr)),p===h&&(l.substr(Ru,2)===vt?(p=vt,Ru+=2):(p=h,0===as&&Zu($r))),p!==h){for(m=[],w=Ru,l.substr(Ru,2)===mt?(I=mt,Ru+=2):(I=h,0===as&&Zu(kr)),I!==h&&(es=w,I=Ce()),(w=I)===h&&(wr.test(l.charAt(Ru))?(w=l.charAt(Ru),Ru++):(w=h,0===as&&Zu(Jr)));w!==h;)m.push(w),w=Ru,l.substr(Ru,2)===mt?(I=mt,Ru+=2):(I=h,0===as&&Zu(kr)),I!==h&&(es=w,I=Ce()),(w=I)===h&&(wr.test(l.charAt(Ru))?(w=l.charAt(Ru),Ru++):(w=h,0===as&&Zu(Jr)));39===l.charCodeAt(Ru)?(w=ht,Ru++):(w=h,0===as&&Zu(Vr)),w!==h?(es=d,d=ge(m)):(Ru=d,d=h)}else Ru=d,d=h;return d}function Jo(){var l,d,p;return l=Ru,Xi()!==h?(ea(),(d=Vu())!==h?(ea(),Ji()!==h?(ea(),(p=Vu())!==h?(es=l,l=we(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l}function Qo(){var l,d,p;return l=Ru,Xi()!==h?(ea(),(d=Vu())!==h?(ea(),Ji()!==h?(ea(),(p=Vu())!==h?(es=l,l=xe(d,p)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h)):(Ru=l,l=h),l}function ri(){var l,d;return l=Ru,Qi()!==h?(ea(),(d=Vu())!==h?(es=l,l=Ne(d)):(Ru=l,l=h)):(Ru=l,l=h),l}function ei(){var d,p,m;return(d=ii())===h&&(d=Ru,45===l.charCodeAt(Ru)?(p=lt,Ru++):(p=h,0===as&&Zu(Dr)),p===h&&(43===l.charCodeAt(Ru)?(p=st,Ru++):(p=h,0===as&&Zu(xr))),p!==h&&(m=ii())!==h?(es=d,d=Me(p,m)):(Ru=d,d=h)),d}function ui(){var d,p,m;return d=Ru,46===l.charCodeAt(Ru)?(p=wt,Ru++):(p=h,0===as&&Zu(jr)),p!==h?((m=ii())===h&&(m=null),es=d,d=He(m)):(Ru=d,d=h),d}function oi(){var l,d,p;return l=Ru,(d=si())!==h&&(p=ii())!==h?(es=l,l=Ue(d,p)):(Ru=l,l=h),l}function ii(){var l,d,p;if(l=Ru,d=[],(p=ai())!==h)for(;p!==h;)d.push(p),p=ai();else d=h;return d!==h&&(es=l,d=$e(d)),d}function ai(){var d;return Ir.test(l.charAt(Ru))?(d=l.charAt(Ru),Ru++):(d=h,0===as&&Zu(Wr)),d}function si(){var d,p,m;return d=Ru,gr.test(l.charAt(Ru))?(p=l.charAt(Ru),Ru++):(p=h,0===as&&Zu(Hr)),p!==h?(yr.test(l.charAt(Ru))?(m=l.charAt(Ru),Ru++):(m=h,0===as&&Zu(Yr)),m===h&&(m=null),es=d,d=_e(p,m)):(Ru=d,d=h),d}function ci(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===It?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Br)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?d=p=[p,m]:(Ru=d,d=h)):(Ru=d,d=h),d}function fi(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===gt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Qr)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?d=p=[p,m]:(Ru=d,d=h)):(Ru=d,d=h),d}function li(){var d,p,m,w;return d=Ru,l.substr(Ru,5).toLowerCase()===yt?(p=l.substr(Ru,5),Ru+=5):(p=h,0===as&&Zu(Gr)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?d=p=[p,m]:(Ru=d,d=h)):(Ru=d,d=h),d}function vi(){var d,p,m,w;return d=Ru,l.substr(Ru,2).toLowerCase()===_t?(p=l.substr(Ru,2),Ru+=2):(p=h,0===as&&Zu(Kr)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=De()):(Ru=d,d=h)):(Ru=d,d=h),d}function pi(){var d,p,m,w;return d=Ru,l.substr(Ru,2).toLowerCase()===St?(p=l.substr(Ru,2),Ru+=2):(p=h,0===as&&Zu(Xr)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=je()):(Ru=d,d=h)):(Ru=d,d=h),d}function di(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===Zt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(da)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Ze()):(Ru=d,d=h)):(Ru=d,d=h),d}function hi(){var d,p,m,w;return d=Ru,l.substr(Ru,6).toLowerCase()===Ct?(p=l.substr(Ru,6),Ru+=6):(p=h,0===as&&Zu(ha)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=ze()):(Ru=d,d=h)):(Ru=d,d=h),d}function yi(){var d,p,m,w;return d=Ru,l.substr(Ru,3).toLowerCase()===Tt?(p=l.substr(Ru,3),Ru+=3):(p=h,0===as&&Zu(ma)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Pe()):(Ru=d,d=h)):(Ru=d,d=h),d}function bi(){var d,p,m,w;return d=Ru,l.substr(Ru,3).toLowerCase()===Lt?(p=l.substr(Ru,3),Ru+=3):(p=h,0===as&&Zu(wa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Be()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ai(){var d,p,m,w;return d=Ru,l.substr(Ru,2).toLowerCase()===Nt?(p=l.substr(Ru,2),Ru+=2):(p=h,0===as&&Zu(Ia)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Ge()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ci(){var d,p,m,w;return d=Ru,l.substr(Ru,7).toLowerCase()===Ut?(p=l.substr(Ru,7),Ru+=7):(p=h,0===as&&Zu(ga)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Ve()):(Ru=d,d=h)):(Ru=d,d=h),d}function gi(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===Ot?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(ya)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=We()):(Ru=d,d=h)):(Ru=d,d=h),d}function mi(){var d,p,m,w;return d=Ru,l.substr(Ru,3).toLowerCase()===At?(p=l.substr(Ru,3),Ru+=3):(p=h,0===as&&Zu(_a)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Ye()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ei(){var d,p,m,w;return d=Ru,l.substr(Ru,9).toLowerCase()===xt?(p=l.substr(Ru,9),Ru+=9):(p=h,0===as&&Zu(Sa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=ke()):(Ru=d,d=h)):(Ru=d,d=h),d}function Li(){var d,p,m,w;return d=Ru,l.substr(Ru,7).toLowerCase()===Dt?(p=l.substr(Ru,7),Ru+=7):(p=h,0===as&&Zu(Za)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=qe()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ti(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===bt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Ca)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Ke()):(Ru=d,d=h)):(Ru=d,d=h),d}function wi(){var d,p,m,w;return d=Ru,l.substr(Ru,8).toLowerCase()===Et?(p=l.substr(Ru,8),Ru+=8):(p=h,0===as&&Zu(Ta)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Xe()):(Ru=d,d=h)):(Ru=d,d=h),d}function xi(){var d,p,m,w;return d=Ru,l.substr(Ru,9).toLowerCase()===Ft?(p=l.substr(Ru,9),Ru+=9):(p=h,0===as&&Zu(La)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Je()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ni(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===Mt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Na)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Qe()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ii(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===qt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Ua)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=ru()):(Ru=d,d=h)):(Ru=d,d=h),d}function Oi(){var d,p,m,w;return d=Ru,l.substr(Ru,7).toLowerCase()===Pt?(p=l.substr(Ru,7),Ru+=7):(p=h,0===as&&Zu(Oa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=tu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ri(){var d,p,m,w;return d=Ru,l.substr(Ru,8).toLowerCase()===Rt?(p=l.substr(Ru,8),Ru+=8):(p=h,0===as&&Zu(Aa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=nu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Si(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===zt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(xa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=eu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Fi(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===Vt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Da)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=uu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Mi(){var d,p,m,w;return d=Ru,l.substr(Ru,2).toLowerCase()===$t?(p=l.substr(Ru,2),Ru+=2):(p=h,0===as&&Zu(ba)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=ou()):(Ru=d,d=h)):(Ru=d,d=h),d}function Hi(){var d,p,m,w;return d=Ru,l.substr(Ru,7).toLowerCase()===kt?(p=l.substr(Ru,7),Ru+=7):(p=h,0===as&&Zu(Ea)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=iu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ui(){var d,p,m,w;return d=Ru,l.substr(Ru,8).toLowerCase()===Jt?(p=l.substr(Ru,8),Ru+=8):(p=h,0===as&&Zu(Fa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=au()):(Ru=d,d=h)):(Ru=d,d=h),d}function $i(){var d,p,m,w;return d=Ru,l.substr(Ru,5).toLowerCase()===jt?(p=l.substr(Ru,5),Ru+=5):(p=h,0===as&&Zu(Ma)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=su()):(Ru=d,d=h)):(Ru=d,d=h),d}function _i(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===Wt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(qa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=cu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Di(){var d,p,m,w;return d=Ru,l.substr(Ru,7).toLowerCase()===Ht?(p=l.substr(Ru,7),Ru+=7):(p=h,0===as&&Zu(Pa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=fu()):(Ru=d,d=h)):(Ru=d,d=h),d}function ji(){var d,p,m,w;return d=Ru,l.substr(Ru,2).toLowerCase()===Yt?(p=l.substr(Ru,2),Ru+=2):(p=h,0===as&&Zu(Ra)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=lu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Zi(){var d,p,m,w;return d=Ru,l.substr(Ru,8).toLowerCase()===Bt?(p=l.substr(Ru,8),Ru+=8):(p=h,0===as&&Zu(za)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=vu()):(Ru=d,d=h)):(Ru=d,d=h),d}function zi(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===Qt?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Va)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=pu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Pi(){var d,p,m,w;return d=Ru,l.substr(Ru,13).toLowerCase()===Gt?(p=l.substr(Ru,13),Ru+=13):(p=h,0===as&&Zu($a)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=du()):(Ru=d,d=h)):(Ru=d,d=h),d}function Bi(){var d,p,m,w;return d=Ru,l.substr(Ru,15).toLowerCase()===Kt?(p=l.substr(Ru,15),Ru+=15):(p=h,0===as&&Zu(ka)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=hu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Gi(){var d,p,m,w;return d=Ru,l.substr(Ru,5).toLowerCase()===Xt?(p=l.substr(Ru,5),Ru+=5):(p=h,0===as&&Zu(Ja)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=yu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Vi(){var d,p,m,w;return d=Ru,l.substr(Ru,3).toLowerCase()===er?(p=l.substr(Ru,3),Ru+=3):(p=h,0===as&&Zu(ja)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=bu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Wi(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===tr?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Wa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Au()):(Ru=d,d=h)):(Ru=d,d=h),d}function Yi(){var d,p,m,w;return d=Ru,l.substr(Ru,6).toLowerCase()===rr?(p=l.substr(Ru,6),Ru+=6):(p=h,0===as&&Zu(Ha)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Cu()):(Ru=d,d=h)):(Ru=d,d=h),d}function ki(){var d,p,m,w;return d=Ru,l.substr(Ru,6).toLowerCase()===nr?(p=l.substr(Ru,6),Ru+=6):(p=h,0===as&&Zu(Ya)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=gu()):(Ru=d,d=h)):(Ru=d,d=h),d}function qi(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===ar?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Ba)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=mu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ki(){var d,p,m,w;return d=Ru,l.substr(Ru,3).toLowerCase()===ir?(p=l.substr(Ru,3),Ru+=3):(p=h,0===as&&Zu(Qa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Eu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Xi(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===or?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Ga)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Lu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Ji(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===ur?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Ka)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=Tu()):(Ru=d,d=h)):(Ru=d,d=h),d}function Qi(){var d,p,m,w;return d=Ru,l.substr(Ru,4).toLowerCase()===sr?(p=l.substr(Ru,4),Ru+=4):(p=h,0===as&&Zu(Xa)),p!==h?(m=Ru,as++,w=ho(),as--,w===h?m=void 0:(Ru=m,m=h),m!==h?(es=d,d=wu()):(Ru=d,d=h)):(Ru=d,d=h),d}function ra(){var d;return 44===l.charCodeAt(Ru)?(d=lr,Ru++):(d=h,0===as&&Zu(Iu)),d}function ta(){var d;return 40===l.charCodeAt(Ru)?(d=cr,Ru++):(d=h,0===as&&Zu(_u)),d}function na(){var d;return 41===l.charCodeAt(Ru)?(d=fr,Ru++):(d=h,0===as&&Zu(Su)),d}function ea(){var l,d;for(l=[],d=ua();d!==h;)l.push(d),d=ua();return l}function ua(){var d;return _r.test(l.charAt(Ru))?(d=l.charAt(Ru),Ru++):(d=h,0===as&&Zu(Ou)),d}function oa(){var d,p,m,w;if(d=Ru,(p=vo())!==h&&(es=d,p=xu(p)),(d=p)===h)if(d=Ru,96===l.charCodeAt(Ru)?(p=dr,Ru++):(p=h,0===as&&Zu(Fu)),p!==h){if(m=[],Sr.test(l.charAt(Ru))?(w=l.charAt(Ru),Ru++):(w=h,0===as&&Zu(Mu)),w!==h)for(;w!==h;)m.push(w),Sr.test(l.charAt(Ru))?(w=l.charAt(Ru),Ru++):(w=h,0===as&&Zu(Mu));else m=h;m!==h?(96===l.charCodeAt(Ru)?(w=dr,Ru++):(w=h,0===as&&Zu(Fu)),w!==h?(es=d,d=Nu(m)):(Ru=d,d=h)):(Ru=d,d=h)}else Ru=d,d=h;return d}function aa(l,d,p,h){var m={type:"binary-expression",operator:l,left:d,right:p};return void 0!==h&&(m.escape=h),m}function fa(l,d){for(var p=l,h=0;h<d.length;h++)p=aa(d[h][1],p,d[h][3]);return p}if((p=I())!==h&&Ru===l.length)return p;throw p!==h&&Ru<l.length&&Zu({type:"end"}),function Pu(l,d,p){return new t(t.buildMessage(l,d),l,d,p)}(ns,rs<l.length?l.charAt(rs):null,rs<l.length?ju(rs,rs+1):ju(rs,rs))}}},(yt=St).exports&&(yt.exports=_t());var Zt=St.exports;class WhereGrammar_o{static parse(l){return Zt.parse(l)}}const Ct=new Set(["current_timestamp","current_date","current_time"]);class WhereClause_I{static makeBool(l){return WhereClause_O(l)}static featureValue(l,d,p,h){return WhereClause_C(l,d,p,h)}static equalsNull(l){return null===l}static applyLike(l,d,p){return WhereClause_j(l,d,p)}static ensureArray(l){return WhereClause_F(l)}static applyIn(l,d){return WhereClause_E(l,d)}static currentDate(l){return I.n.fromNow(l)}static makeSqlInterval(l,d,p){return SqlInterval_s.createFromValueAndQualifier(l,d,p)}static convertInterval(l){return l instanceof SqlInterval_s?l.valueInMilliseconds():l}static currentTimestamp(l){return T(new Date,l)}static compare(l,d,p,h){return sqlCompareUtils_I(d,p,l)}static calculate(l,d,p,h){return sqlArithmeticUtils_d(l,d,p,h)}static evaluateTime(l){return O(l)}static evaluateTimestamp(l,d,p){return sqlDateParsingUtils_P(l,d,p)}static evaluateDate(l,d){return V(l,d)}static evaluateFunction(l,d,p){return StandardizedFunctions_w(l,d,p)}static lookup(l,d){const p=d[l];return void 0===p?null:p}static between(l,d,p){return null==l||null==d[0]||null==d[1]?null:sqlCompareUtils_I(l,d[0],">=")&&sqlCompareUtils_I(l,d[1],"<=")}static notbetween(l,d,p){return null==l||null==d[0]||null==d[1]?null:sqlCompareUtils_I(l,d[0],"<")||sqlCompareUtils_I(l,d[1],">")}static ternaryNot(l){return WhereClause_b(l)}static ternaryAnd(l,d){return WhereClause_D(l,d)}static ternaryOr(l,d){return WhereClause_k(l,d)}}class WhereClause_x{constructor(l,d){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTC";this.fieldsIndex=d,this.timeZone=p,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=WhereGrammar_o.parse(l);const{isStandardized:h,isAggregate:m,referencedFieldNames:w}=this._extractExpressionInfo(d);this._referencedFieldNames=w,this.isStandardized=h,this.isAggregate=m}static convertValueToStorageFormat(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===d)return sqlDateParsingUtils_x(l)?l.getTime():j(l)?l.toMillis():D(l)?l.toStorageFormat():z(l)?l.toStorageString():$(l)?l.toStorageFormat():l;switch(d){case"date":return sqlDateParsingUtils_x(l)?l.getTime():j(l)?l.toMillis():D(l)?l.toMilliseconds():$(l)?l.toNumber():l;case"date-only":return sqlDateParsingUtils_x(l)?I.n.fromDateJS(l).toString():D(l)?I.n.fromSqlTimeStampOffset(l).toString():j(l)?I.n.fromDateTime(l).toString():l;case"time-only":return sqlDateParsingUtils_x(l)?tt.k.fromDateJS(l).toStorageString():j(l)?tt.k.fromDateTime(l).toStorageString():D(l)?tt.k.fromSqlTimeStampOffset(l).toStorageString():z(l)?l.toStorageString():l;case"timestamp-offset":if(sqlDateParsingUtils_x(l))return et.g.fromJSDate(l).toStorageFormat();if(j(l))return et.g.fromDateTime(l).toStorageFormat();if(D(l))return l.toStorageFormat()}return l}static create(l,d){return new WhereClause_x(l,d,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTC")}get fieldNames(){return this._referencedFieldNames}testSet(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;return!!this._evaluateNode(this.parseTree,null,d,l)}calculateValue(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;const p=this._evaluateNode(this.parseTree,l,d,null);return p instanceof SqlInterval_s?p.valueInMilliseconds()/864e5:p}calculateValueCompiled(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(l,this.parameters,d,this.fieldsIndex,this.timeZone):(0,w.A)("esri-csp-restrictions")?this.calculateValue(l,d):(this._compileMe(),this.parseTree._compiledVersion(l,this.parameters,d,this.fieldsIndex,this.timeZone))}testFeature(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;return!!this._evaluateNode(this.parseTree,l,d,null)}testFeatureCompiled(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(l,this.parameters,d,this.fieldsIndex,this.timeZone):(0,w.A)("esri-csp-restrictions")?this.testFeature(l,d):(this._compileMe(),!!this.parseTree._compiledVersion(l,this.parameters,d,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,(l=>{"current-time"===l.type?this._hasDateFunctions=!0:"function"===l.type&&(this._hasDateFunctions=this._hasDateFunctions||Ct.has(l.name.toLowerCase()))}))),this._hasDateFunctions}getFunctions(){const l=new Set;return this._visitAll(this.parseTree,(d=>{"function"===d.type&&l.add(d.name.toLowerCase())})),Array.from(l)}getExpressions(){const l=new Map;return this._visitAll(this.parseTree,(d=>{if("function"===d.type){const p=d.name.toLowerCase(),h=d.args.value[0];if("column-reference"===h.type){const d=h.column,m="".concat(p,"-").concat(d);l.has(m)||l.set(m,{aggregateType:p,field:d})}}})),[...l.values()]}getVariables(){const l=new Set;return this._visitAll(this.parseTree,(d=>{"parameter"===d.type&&l.add(d.value.toLowerCase())})),Array.from(l)}_compileMe(){const l="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",l).bind(WhereClause_I)}_extractExpressionInfo(l){const d=[],p=new Set;let h=!0,m=!1;return this._visitAll(this.parseTree,(w=>{switch(w.type){case"column-reference":{var I;const h=null===l||void 0===l?void 0:l.get(w.column);let m,et;h?m=et=null!==(I=h.name)&&void 0!==I?I:"":(et=w.column,m=et.toLowerCase()),p.has(m)||(p.add(m),d.push(et)),w.column=et;break}case"function":{const{name:l,args:d}=w,p=d.value.length;h&&(h=function C(l,d){const p=gt[l.toLowerCase()];return null!=p&&d>=p.minParams&&d<=p.maxParams}(l,p)),!1===m&&(m=o(l,p));break}}})),{referencedFieldNames:Array.from(d),isStandardized:h,isAggregate:m}}_visitAll(l,d){if(null!=l)switch(d(l),l.type){case"when-clause":this._visitAll(l.operand,d),this._visitAll(l.value,d);break;case"case-expression":for(const p of l.clauses)this._visitAll(p,d);"simple"===l.format&&this._visitAll(l.operand,d),null!==l.else&&this._visitAll(l.else,d);break;case"expression-list":for(const p of l.value)this._visitAll(p,d);break;case"unary-expression":this._visitAll(l.expr,d);break;case"binary-expression":this._visitAll(l.left,d),this._visitAll(l.right,d);break;case"function":this._visitAll(l.args,d)}}evaluateNodeToJavaScript(l){switch(l.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(l.value)+", "+JSON.stringify(l.qualifier)+","+JSON.stringify(l.op)+")";case"case-expression":{let d="";if("simple"===l.format){const p=this.evaluateNodeToJavaScript(l.operand);d="( ";for(let h=0;h<l.clauses.length;h++)d+=" (this.compare('=',"+p+","+this.evaluateNodeToJavaScript(l.clauses[h].operand)+") ? ("+this.evaluateNodeToJavaScript(l.clauses[h].value)+") : ";null!==l.else?d+=this.evaluateNodeToJavaScript(l.else):d+="null",d+=" )"}else{d="( ";for(let p=0;p<l.clauses.length;p++)d+=" this.makeBool("+this.evaluateNodeToJavaScript(l.clauses[p].operand)+")===true ? ("+this.evaluateNodeToJavaScript(l.clauses[p].value)+") : ";null!==l.else?d+=this.evaluateNodeToJavaScript(l.else):d+="null",d+=" )"}return d}case"parameter":return"this.lookup("+JSON.stringify(l.value.toLowerCase())+",lookups)";case"expression-list":{let d="[";for(const p of l.value)"["!==d&&(d+=","),d+=this.evaluateNodeToJavaScript(p);return d+="]",d}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(l.expr)+")";case"binary-expression":switch(l.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(l.left)+","+this.evaluateNodeToJavaScript(l.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(l.left)+","+this.evaluateNodeToJavaScript(l.right)+" )";case"IS":if("null"!==l.right.type)throw new m.L8(m.Z7.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(l.left)+")";case"ISNOT":if("null"!==l.right.type)throw new m.L8(m.Z7.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(l.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(l.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(l.right)+"))";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(l.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(l.right)+")))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(l.left)+","+this.evaluateNodeToJavaScript(l.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(l.left)+","+this.evaluateNodeToJavaScript(l.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(l.left)+","+this.evaluateNodeToJavaScript(l.right)+","+JSON.stringify(l.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(l.left)+","+this.evaluateNodeToJavaScript(l.right)+","+JSON.stringify(l.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(l.operator)+","+this.evaluateNodeToJavaScript(l.left)+","+this.evaluateNodeToJavaScript(l.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(l.operator)+","+this.evaluateNodeToJavaScript(l.left)+","+this.evaluateNodeToJavaScript(l.right)+", timeZone)"}throw new m.L8(m.Z7.UnsupportedOperator,{operator:l.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(l.value);case"time":return"this.evaluateTime(JSON.stringify(node.value))";case"date":return"this.evaluateDate(JSON.stringify(node.value), 'unknown')";case"timestamp":return"this.evaluateTimestamp(JSON.stringify(node.value), 'unknown')";case"current-time":return"date"===l.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(l.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(l.name)+","+this.evaluateNodeToJavaScript(l.args)+", timeZone)"}throw new m.L8(m.Z7.UnsupportedSyntax,{node:l.type})}_evaluateNode(l,d,p,w){var et,tt;let at;switch(l.type){case"interval":{const h=this._evaluateNode(l.value,d,p,w);return SqlInterval_s.createFromValueAndQualifier(h,l.qualifier,l.op)}case"case-expression":if("simple"===l.format){const h=this._evaluateNode(l.operand,d,p,w);for(let m=0;m<l.clauses.length;m++)if(sqlCompareUtils_I(h,this._evaluateNode(l.clauses[m].operand,d,p,w),"=",this.timeZone))return this._evaluateNode(l.clauses[m].value,d,p,w);if(null!==l.else)return this._evaluateNode(l.else,d,p,w)}else{for(let h=0;h<l.clauses.length;h++)if(WhereClause_O(this._evaluateNode(l.clauses[h].operand,d,p,w)))return this._evaluateNode(l.clauses[h].value,d,p,w);if(null!==l.else)return this._evaluateNode(l.else,d,p,w)}return null;case"parameter":return at=this.parameters[l.value.toLowerCase()],sqlDateParsingUtils_x(at)?rt.c9.fromJSDate(at):at instanceof h.lY?at.toDateTime():at;case"expression-list":{const h=[];for(const m of l.value)h.push(this._evaluateNode(m,d,p,w));return h}case"unary-expression":return WhereClause_b(this._evaluateNode(l.expr,d,p,w));case"binary-expression":switch(l.operator){case"AND":return WhereClause_D(this._evaluateNode(l.left,d,p,w),this._evaluateNode(l.right,d,p,w));case"OR":return WhereClause_k(this._evaluateNode(l.left,d,p,w),this._evaluateNode(l.right,d,p,w));case"IS":if("null"!==l.right.type)throw new m.L8(m.Z7.UnsupportedIsRhs);return null===this._evaluateNode(l.left,d,p,w);case"ISNOT":if("null"!==l.right.type)throw new m.L8(m.Z7.UnsupportedIsRhs);return null!==this._evaluateNode(l.left,d,p,w);case"IN":{const h=WhereClause_F(this._evaluateNode(l.right,d,p,w));return WhereClause_E(this._evaluateNode(l.left,d,p,w),h)}case"NOT IN":{const h=WhereClause_F(this._evaluateNode(l.right,d,p,w));return WhereClause_b(WhereClause_E(this._evaluateNode(l.left,d,p,w),h))}case"BETWEEN":{const h=this._evaluateNode(l.left,d,p,w),m=this._evaluateNode(l.right,d,p,w);return null==h||null==m[0]||null==m[1]?null:sqlCompareUtils_I(h,m[0],">=",this.timeZone)&&sqlCompareUtils_I(h,m[1],"<=",this.timeZone)}case"NOTBETWEEN":{const h=this._evaluateNode(l.left,d,p,w),m=this._evaluateNode(l.right,d,p,w);return null==h||null==m[0]||null==m[1]?null:sqlCompareUtils_I(h,m[0],"<",this.timeZone)||sqlCompareUtils_I(h,m[1],">",this.timeZone)}case"LIKE":return WhereClause_j(this._evaluateNode(l.left,d,p,w),this._evaluateNode(l.right,d,p,w),l.escape);case"NOT LIKE":return WhereClause_b(WhereClause_j(this._evaluateNode(l.left,d,p,w),this._evaluateNode(l.right,d,p,w),l.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return sqlCompareUtils_I(this._evaluateNode(l.left,d,p,w),this._evaluateNode(l.right,d,p,w),l.operator,this.timeZone);case"-":case"+":case"*":case"/":case"||":return sqlArithmeticUtils_d(l.operator,this._evaluateNode(l.left,d,p,w),this._evaluateNode(l.right,d,p,w),this.timeZone)}case"null":case"boolean":case"string":case"number":return l.value;case"date":return null!==(et=l.parsedValue)&&void 0!==et||(l.parsedValue=V(l.value,"unknown")),l.parsedValue;case"timestamp":return null!==(tt=l.parsedValue)&&void 0!==tt||(l.parsedValue=sqlDateParsingUtils_P(l.value,"unknown")),l.parsedValue;case"time":return O(l.value);case"current-time":return"date"===l.mode?I.n.fromNow(this.timeZone):T(new Date,this.timeZone);case"column-reference":return WhereClause_C(d,l.column,this.fieldsIndex,p);case"data-type":return l.value;case"function":{if(this.isAggregate&&o(l.name,l.args.value.length)){const d=[];for(const h of(null===(it=l.args)||void 0===it?void 0:it.value)||[]){var it;const l=[];for(const d of w||[])l.push(this._evaluateNode(h,d,p,null));d.push(l)}return function AggregateFunctions_u(l,d){const p=nt[l.toLowerCase()];if(null==p)throw new m.L8(m.Z7.FunctionNotRecognized);if(d.length<p.minParams||d.length>p.maxParams)throw new m.L8(m.Z7.InvalidParameterCount,{name:l.toUpperCase()});return p.evaluate(d)}(l.name,d)}const h=this._evaluateNode(l.args,d,p,w);return StandardizedFunctions_w(l.name,h,this.timeZone)}}throw new m.L8(m.Z7.UnsupportedSyntax,{node:l.type})}}function WhereClause_O(l){return!0===l}function WhereClause_F(l){return Array.isArray(l)?l:[l]}function WhereClause_b(l){return null!==l?!0!==l:null}function WhereClause_D(l,d){return null!=l&&null!=d?!0===l&&!0===d:!1!==l&&!1!==d&&null}function WhereClause_k(l,d){return null!=l&&null!=d?!0===l||!0===d:!0===l||!0===d||null}function WhereClause_E(l,d){if(null==l)return null;let p=!1;for(const h of d)if(null==h)p=null;else if(l===h){p=!0;break}return p}const Tt="-[]/{}()*+?.\\^$|";var Lt;function WhereClause_j(l,d,p){return null==l?null:function WhereClause_L(l,d){const p=d;let h="",m=Lt.Normal;for(let w=0;w<l.length;w++){const d=l.charAt(w);switch(m){case Lt.Normal:d===p?m=Lt.Escaped:Tt.includes(d)?h+="\\"+d:h+="%"===d?".*":"_"===d?".":d;break;case Lt.Escaped:Tt.includes(d)?h+="\\"+d:h+=d,m=Lt.Normal}}return new RegExp("^"+h+"$","m")}(d,p).test(l)}function WhereClause_C(l,d,p,h){var m;const w=h.getAttribute(l,d),nt=null===p||void 0===p?void 0:p.get(d);return null==w||"esriFieldTypeDate"!==(null===nt||void 0===nt?void 0:nt.type)&&"date"!==(null===nt||void 0===nt?void 0:nt.type)?null==w||"esriFieldTypeDateOnly"!==(null===nt||void 0===nt?void 0:nt.type)&&"date-only"!==(null===nt||void 0===nt?void 0:nt.type)?null==w||"esriFieldTypeTimeOnly"!==(null===nt||void 0===nt?void 0:nt.type)&&"time-only"!==(null===nt||void 0===nt?void 0:nt.type)?null==w||"esriFieldTypeTimestampOffset"!==(null===nt||void 0===nt?void 0:nt.type)&&"timestamp-offset"!==(null===nt||void 0===nt?void 0:nt.type)?w:new et.g(w):tt.k.fromReader(w):I.n.fromReader(w):T(new Date(w),null!==(m=null===p||void 0===p?void 0:p.getLuxonTimeZone(nt.name))&&void 0!==m?m:rt.mQ.utcInstance)}!function(l){l[l.Normal=0]="Normal",l[l.Escaped=1]="Escaped"}(Lt||(Lt={}));const Nt={getAttribute:(l,d)=>(function WhereClause_q(l){return l&&"object"==typeof l.attributes}(l)?l.attributes:l)[d]}}}]);
//# sourceMappingURL=2541.24e6b286.chunk.js.map