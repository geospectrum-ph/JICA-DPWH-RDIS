{"version":3,"file":"static/js/3933.a9779555.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/ObjectStack.js","../node_modules/@arcgis/core/geometry/projection/projectPointToVector.js","../node_modules/@arcgis/core/rest/support/meshFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{nextTick as t}from\"./nextTick.js\";class s{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&t((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*i);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,i));t++)this._items.push(this._allocator())}}const i=1024;export{s as ObjectStack};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as r,tryProjectWithZConversion as t,initializeProjection as o}from\"../projection.js\";import{projectBuffer as n}from\"./projectBuffer.js\";function c(e,o,c,i){if(r(e.spatialReference,c)){f[0]=e.x,f[1]=e.y;const r=e.z;return f[2]=r??i??0,n(f,e.spatialReference,0,o,c,0,1)}const s=t(e,c);return!!s&&(o[0]=s?.x,o[1]=s?.y,o[2]=s?.z??i??0,!0)}async function i(e,r,t,n,i){return await o(e.spatialReference,t,null,i),c(e,r,t,n)}const f=e();export{c as projectPointToVector,i as projectPointToVectorAsync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Logger.js\";import{getOrCreateMapValue as r}from\"../../core/MapUtils.js\";import o from\"../../geometry/Extent.js\";import n from\"../../geometry/Mesh.js\";import s from\"../../geometry/Point.js\";import a from\"../../geometry/SpatialReference.js\";import i from\"../../geometry/support/MeshTransform.js\";import{ServiceAssetPart as u,ServiceAsset as f}from\"../../geometry/support/meshUtils/External.js\";import{getFormatIdMimeType as c}from\"../../layers/support/infoFor3D.js\";import l from\"./FeatureSet.js\";const m=()=>t.getLogger(\"esri.rest.support.meshFeatureSet\");function p(t,r,o){const n=o.features;o.features=[],delete o.geometryType;const s=l.fromJSON(o);if(s.geometryType=\"mesh\",!o.assetMaps)return s;const i=S(r,o.assetMaps),u=t.sourceSpatialReference??a.WGS84,f=o.globalIdFieldName,{outFields:c}=t,m=null!=c&&c.length>0?g(c.includes(\"*\")?null:new Set(c)):()=>({});for(const a of n){const t=h(a,f,u,r,i);null!=t&&s.features.push(new e({geometry:t,attributes:m(a)}))}return s}function g(e){return({attributes:t})=>{if(!t)return{};if(!e)return t;for(const r in t)e.has(r)||delete t[r];return t}}function h(e,t,r,s,a){const i=e.attributes[t],u=a.get(i);if(null==u)return m().error(\"mesh-feature-set:asset-not-found\",\"Service returned a feature which was not found in the asset map\",e),null;if(!e.geometry)return m().error(\"mesh-feature-set:no-geometry\",\"Service returned a feature without geometry\",e),null;const f=y(e,r,s),c=o.fromJSON(e.geometry);c.spatialReference=r;const l=E(e.attributes,s),p=r.isGeographic?\"local\":\"georeferenced\",g=w(u);return g?n.createWithExternalSource(f,g,{extent:c,transform:l,vertexSpace:p}):n.createIncomplete(f,{extent:c,transform:l,vertexSpace:p})}function y({attributes:e},t,{transformFieldRoles:r}){const o=e[r.originX],n=e[r.originY],a=e[r.originZ];return new s({x:o,y:n,z:a,spatialReference:t})}function E(e,{transformFieldRoles:t}){return new i({translation:[e[t.translationX],-e[t.translationZ],e[t.translationY]],rotationAxis:[e[t.rotationX],-e[t.rotationZ],e[t.rotationY]],rotationAngle:e[t.rotationDeg],scale:[e[t.scaleX],e[t.scaleZ],e[t.scaleY]]})}var d;function S(e,t){const o=new Map;for(const n of t){const t=n.parentGlobalId;if(null==t)continue;const s=n.assetName,a=n.assetType,i=n.assetHash,u=n.assetURL,f=n.conversionStatus,l=n.seqNo,p=c(a,e.supportedFormats);if(!p){m().error(\"mesh-feature-set:unknown-format\",`Service returned an asset of type ${a}, but it does not list it as a supported type`);continue}const g=r(o,t,(()=>({files:new Map})));r(g.files,s,(()=>({name:s,type:a,mimeType:p,status:D(f),parts:[]}))).parts[l]={hash:i,url:u}}return o}function w(e){const t=Array.from(e.files.values()),r=new Array;for(const o of t){if(o.status!==d.COMPLETED)return null;const e=new Array;for(const t of o.parts){if(!t)return null;e.push(new u(t.url,t.hash))}r.push(new f(o.name,o.mimeType,e))}return r}function D(e){switch(e){case\"COMPLETED\":case\"SUBMITTED\":return d.COMPLETED;case\"INPROGRESS\":return d.PENDING;default:return d.FAILED}}!function(e){e[e.FAILED=0]=\"FAILED\",e[e.PENDING=1]=\"PENDING\",e[e.COMPLETED=2]=\"COMPLETED\"}(d||(d={}));export{S as assetMapFromAssetMapsJSON,h as extractMesh,p as meshFeatureSetFromJSON};\n"],"names":["s","constructor","t","this","_allocator","_items","_itemsPtr","_grow","get","_reset","length","Math","min","max","i","push","c","e","o","_ref2","_s$z","r","spatialReference","_ref","f","x","y","z","n","async","m","getLogger","p","_t$sourceSpatialRefer","features","geometryType","l","fromJSON","assetMaps","S","u","sourceSpatialReference","a","WGS84","globalIdFieldName","outFields","g","attributes","has","includes","Set","h","geometry","error","_ref3","transformFieldRoles","originX","originY","originZ","E","_ref4","translation","translationX","translationZ","translationY","rotationAxis","rotationX","rotationZ","rotationY","rotationAngle","rotationDeg","scale","scaleX","scaleZ","scaleY","isGeographic","w","Array","from","files","values","status","d","COMPLETED","parts","url","hash","name","mimeType","createWithExternalSource","extent","transform","vertexSpace","createIncomplete","Map","parentGlobalId","assetName","assetType","assetHash","assetURL","conversionStatus","seqNo","supportedFormats","concat","type","D","PENDING","FAILED"],"sourceRoot":""}