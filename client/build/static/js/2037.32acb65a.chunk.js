"use strict";(self.webpackChunkSEEDs_v2_0_Client=self.webpackChunkSEEDs_v2_0_Client||[]).push([[2037],{32037:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var u=r(48237),m={};m.defaultNoDataValue=(0,u.$8)(-1/0),m.decode=function(e,t){var r=(t=t||{}).encodedMaskData||null===t.encodedMaskData,d=l(e,t.inputOffset||0,r),c=null!=t.noDataValue?(0,u.$8)(t.noDataValue):m.defaultNoDataValue,h=i(d,t.pixelType||Float32Array,t.encodedMaskData,c,t.returnMask),g={width:d.width,height:d.height,pixelData:h.resultPixels,minValue:d.pixels.minValue,maxValue:d.pixels.maxValue,noDataValue:c};return h.resultMask&&(g.maskData=h.resultMask),t.returnEncodedMask&&d.mask&&(g.encodedMaskData=d.mask.bitset?d.mask.bitset:null),t.returnFileInfo&&(g.fileInfo=n(d,c),t.computeUsedBitDepths&&(g.fileInfo.bitDepths=a(d))),g};var i=function(e,t,r,u,m){var d,c,h=0,g=e.pixels.numBlocksX,k=e.pixels.numBlocksY,x=Math.floor(e.width/g),w=Math.floor(e.height/k),p=2*e.maxZError;r=r||(e.mask?e.mask.bitset:null),d=new t(e.width*e.height),m&&r&&(c=new Uint8Array(e.width*e.height));for(var y,V,v=new Float32Array(x*w),B=0;B<=k;B++){var U=B!==k?w:e.height%k;if(0!==U)for(var D=0;D<=g;D++){var b=D!==g?x:e.width%g;if(0!==b){var M,I,P,A,E=B*e.width*w+D*x,Y=e.width-b,X=e.pixels.blocks[h];if(X.encoding<2?(0===X.encoding?M=X.rawData:(s(X.stuffedData,X.bitsPerPixel,X.numValidPixels,X.offset,p,v,e.pixels.maxValue),M=v),I=0):P=2===X.encoding?0:X.offset,r)for(V=0;V<U;V++){for(7&E&&(A=r[E>>3],A<<=7&E),y=0;y<b;y++)7&E||(A=r[E>>3]),128&A?(c&&(c[E]=1),d[E++]=X.encoding<2?M[I++]:P):(c&&(c[E]=0),d[E++]=u),A<<=1;E+=Y}else if(X.encoding<2)for(V=0;V<U;V++){for(y=0;y<b;y++)d[E++]=M[I++];E+=Y}else for(V=0;V<U;V++)if(d.fill)d.fill(P,E,E+b),E+=b+Y;else{for(y=0;y<b;y++)d[E++]=P;E+=Y}if(1===X.encoding&&I!==X.numValidPixels)throw"Block and Mask do not match";h++}}}return{resultPixels:d,resultMask:c}},n=function(e,t){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,minValue:e.pixels.minValue,noDataValue:t}}},a=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,r={},u=0;u<t;u++){var m=e.pixels.blocks[u];0===m.encoding?r.float32=!0:1===m.encoding?r[m.bitsPerPixel]=!0:r[0]=!0}return Object.keys(r)},l=function(e,t,r){var u={},m=new Uint8Array(e,t,10);if(u.fileIdentifierString=String.fromCharCode.apply(null,m),"CntZImage"!=u.fileIdentifierString.trim())throw"Unexpected file identifier string: "+u.fileIdentifierString;t+=10;var d=new DataView(e,t,24);if(u.fileVersion=d.getInt32(0,!0),u.imageType=d.getInt32(4,!0),u.height=d.getUint32(8,!0),u.width=d.getUint32(12,!0),u.maxZError=d.getFloat64(16,!0),t+=24,!r)if(d=new DataView(e,t,16),u.mask={},u.mask.numBlocksY=d.getUint32(0,!0),u.mask.numBlocksX=d.getUint32(4,!0),u.mask.numBytes=d.getUint32(8,!0),u.mask.maxValue=d.getFloat32(12,!0),t+=16,u.mask.numBytes>0){var c=new Uint8Array(Math.ceil(u.width*u.height/8)),h=(d=new DataView(e,t,u.mask.numBytes)).getInt16(0,!0),g=2,k=0;do{if(h>0)for(;h--;)c[k++]=d.getUint8(g++);else{var x=d.getUint8(g++);for(h=-h;h--;)c[k++]=x}h=d.getInt16(g,!0),g+=2}while(g<u.mask.numBytes);if(-32768!==h||k<c.length)throw"Unexpected end of mask RLE encoding";u.mask.bitset=c,t+=u.mask.numBytes}else 0==(u.mask.numBytes|u.mask.numBlocksY|u.mask.maxValue)&&(c=new Uint8Array(Math.ceil(u.width*u.height/8)),u.mask.bitset=c);d=new DataView(e,t,16),u.pixels={},u.pixels.numBlocksY=d.getUint32(0,!0),u.pixels.numBlocksX=d.getUint32(4,!0),u.pixels.numBytes=d.getUint32(8,!0),u.pixels.maxValue=d.getFloat32(12,!0),t+=16;var w=u.pixels.numBlocksX,p=u.pixels.numBlocksY,y=w+(u.width%w>0?1:0),V=p+(u.height%p>0?1:0);u.pixels.blocks=new Array(y*V);for(var v=1e9,B=0,U=0;U<V;U++)for(var D=0;D<y;D++){var b=0,M=e.byteLength-t;d=new DataView(e,t,Math.min(10,M));var I={};u.pixels.blocks[B++]=I;var P=d.getUint8(0);if(b++,I.encoding=63&P,I.encoding>3)throw"Invalid block encoding ("+I.encoding+")";if(2!==I.encoding){if(0!==P&&2!==P){if(P>>=6,I.offsetType=P,2===P)I.offset=d.getInt8(1),b++;else if(1===P)I.offset=d.getInt16(1,!0),b+=2;else{if(0!==P)throw"Invalid block offset type";I.offset=d.getFloat32(1,!0),b+=4}if(v=Math.min(I.offset,v),1===I.encoding)if(P=d.getUint8(b),b++,I.bitsPerPixel=63&P,P>>=6,I.numValidPixelsType=P,2===P)I.numValidPixels=d.getUint8(b),b++;else if(1===P)I.numValidPixels=d.getUint16(b,!0),b+=2;else{if(0!==P)throw"Invalid valid pixel count type";I.numValidPixels=d.getUint32(b,!0),b+=4}}var A;if(t+=b,3!=I.encoding)if(0===I.encoding){var E=(u.pixels.numBytes-1)/4;if(E!==Math.floor(E))throw"uncompressed block has invalid length";A=new ArrayBuffer(4*E),new Uint8Array(A).set(new Uint8Array(e,t,4*E));for(var Y=new Float32Array(A),X=0;X<Y.length;X++)v=Math.min(v,Y[X]);I.rawData=Y,t+=4*E}else if(1===I.encoding){var F=Math.ceil(I.numValidPixels*I.bitsPerPixel/8),S=Math.ceil(F/4);A=new ArrayBuffer(4*S),new Uint8Array(A).set(new Uint8Array(e,t,F)),I.stuffedData=new Uint32Array(A),t+=F}}else t++,v=Math.min(v,0)}return u.pixels.minValue=v,u.eofOffset=t,u},s=function(e,t,r,u,m,d,c){var h,g,k,x=(1<<t)-1,w=0,p=0,y=Math.ceil((c-u)/m),V=4*e.length-Math.ceil(t*r/8);for(e[e.length-1]<<=8*V,h=0;h<r;h++){if(0===p&&(k=e[w++],p=32),p>=t)g=k>>>p-t&x,p-=t;else{var v=t-p;g=(k&x)<<v&x,g+=(k=e[w++])>>>(p=32-v)}d[h]=g<y?u+g*m:c}return d};const d=m.decode;class o{_decode(e){const t=d(e.buffer,e.options);return Promise.resolve({result:t,transferList:[t.pixelData.buffer]})}}function f(){return new o}}}]);
//# sourceMappingURL=2037.32acb65a.chunk.js.map